(self.webpackChunktrabalho_es1=self.webpackChunktrabalho_es1||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7716:(t,e,n)=>{"use strict";n.d(e,{deG:()=>nn,tb:()=>Ol,AFp:()=>Tl,ip1:()=>Sl,CZH:()=>xl,hGG:()=>Su,z2F:()=>pu,sBO:()=>Ta,Sil:()=>Vl,_Vd:()=>Ws,EJc:()=>Pl,SBq:()=>Xs,qLn:()=>vr,vpe:()=>il,gxx:()=>io,tBr:()=>xn,XFs:()=>I,OlP:()=>en,zs3:()=>bo,ZZ4:()=>va,aQg:()=>ba,soG:()=>Rl,YKP:()=>Fa,v3s:()=>mu,h0i:()=>Na,PXZ:()=>lu,R0b:()=>Gl,FiY:()=>Tn,Lbi:()=>Il,g9A:()=>Al,n_E:()=>sl,Qsj:()=>na,FYo:()=>ea,JOm:()=>wr,Tiy:()=>ia,q3G:()=>dr,tp0:()=>En,EAV:()=>vu,Rgc:()=>Oa,dDg:()=>Kl,DyG:()=>rn,q4F:()=>sa,GfV:()=>oa,s_b:()=>Ma,ifc:()=>F,eFA:()=>uu,G48:()=>su,Gpc:()=>p,f3M:()=>wn,X6Q:()=>ou,_c5:()=>wu,VLi:()=>tu,c2e:()=>Dl,zSh:()=>so,wAp:()=>Fs,vHH:()=>g,EiD:()=>cr,mCW:()=>Yn,qzn:()=>Ln,JVY:()=>qn,pB0:()=>jn,eBb:()=>Zn,L6k:()=>Un,LAX:()=>Vn,cg1:()=>Rs,Tjo:()=>bu,kL8:()=>Ps,yhl:()=>Mn,dqk:()=>Z,sIi:()=>Oo,CqO:()=>Wo,QGY:()=>Yo,F4k:()=>Qo,RDi:()=>xt,AaK:()=>c,z3N:()=>Fn,qOj:()=>Co,TTD:()=>vt,_Bn:()=>Hs,xp6:()=>li,uIk:()=>No,Gre:()=>Es,ekj:()=>ds,Suo:()=>vl,Xpm:()=>K,lG2:()=>it,Yz7:()=>b,cJS:()=>w,oAB:()=>et,Yjl:()=>ot,Y36:()=>qo,_UZ:()=>Bo,BQk:()=>zo,ynx:()=>Go,qZA:()=>jo,TgZ:()=>Vo,EpF:()=>Ho,n5z:()=>$e,Ikx:()=>ks,LFG:()=>bn,$8M:()=>Je,NdJ:()=>$o,CRH:()=>_l,oxw:()=>es,ALo:()=>el,xi3:()=>nl,Hsn:()=>is,F$t:()=>rs,Q6J:()=>Uo,DdM:()=>Ja,VKq:()=>Xa,iGM:()=>gl,MAs:()=>Mo,CHM:()=>jt,LSH:()=>pr,kYT:()=>nt,Udp:()=>hs,WFA:()=>Ko,d8E:()=>As,YNc:()=>Lo,_uU:()=>Ss,Oqu:()=>xs,hij:()=>Ts,Gf:()=>yl});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(8819);function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function c(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(c).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=l({__forward_ref__:l});function p(t){return t.__forward_ref__=p,t.toString=function(){return c(this())},t}function f(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===p}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function v(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function _(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${v(t)} found${n}`)}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,T)||S(t,k)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function x(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(A))?t[E]:null}const T=l({"\u0275prov":l}),E=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),A=l({ngInjectorDef:l});var I=(()=>((I=I||{})[I.Default=0]="Default",I[I.Host=1]="Host",I[I.Self=2]="Self",I[I.SkipSelf=4]="SkipSelf",I[I.Optional=8]="Optional",I))();let O;function D(t){const e=O;return O=t,e}function R(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void _(c(t),"Injector")}function P(t){return{toString:t}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),F=(()=>((F=F||{})[F.Emulated=0]="Emulated",F[F.None=2]="None",F[F.ShadowDom=3]="ShadowDom",F))();const L="undefined"!=typeof globalThis&&globalThis,M="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,Z=L||U||M||q,V={},j=[],B=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),z=l({"\u0275pipe":l}),H=l({"\u0275mod":l}),Y=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),W=l({__NG_ELEMENT_ID__:l});let $=0;function K(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||j,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||F.Emulated,id:"c",styles:t.styles||j,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=$++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(X):null,n})}function J(t){return st(t)||function(t){return t[G]||null}(t)}function X(t){return function(t){return t[z]||null}(t)}const tt={};function et(t){return P(()=>{const e={type:t.type,bootstrap:t.bootstrap||j,declarations:t.declarations||j,imports:t.imports||j,exports:t.exports||j,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(tt[t.id]=t.type),e})}function nt(t,e){return P(()=>{const n=at(t,!0);n.declarations=e.declarations||j,n.imports=e.imports||j,n.exports=e.exports||j})}function rt(t,e){if(null==t)return V;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const it=K;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[B]||null}function at(t,e){const n=t[H]||null;if(!n&&!0===e)throw new Error(`Type ${c(t)} does not have '\u0275mod' property.`);return n}const lt=20,ut=10;function ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function ft(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function gt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class yt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function vt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=wt),bt}function bt(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===V)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function wt(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:V,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],l=s[a];o[a]=new yt(l&&l.currentValue,e,s===V),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}let St;function xt(t){St=t}function Tt(t){return!!t.listen}vt.ngInherit=!0;const Et={createRenderer:(t,e)=>void 0!==St?St:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return kt(e[t])}function It(t,e){return kt(e[t.index])}function Ot(t,e){return t.data[e]}function Dt(t,e){return t[e]}function Rt(t,e){const n=e[t];return ct(n)?n:n[0]}function Pt(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function Ft(t,e){return null==e?null:t[e]}function Lt(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ut(){return qt.bindingsEnabled}function Zt(){return qt.lFrame.lView}function Vt(){return qt.lFrame.tView}function jt(t){return qt.lFrame.contextLView=t,t[8]}function Bt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return qt.lFrame.currentTNode}function zt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Ht(){return qt.lFrame.isParent}function Yt(){qt.lFrame.isParent=!1}function Qt(){return qt.isInCheckNoChangesMode}function Wt(t){qt.isInCheckNoChangesMode=t}function $t(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kt(){return qt.lFrame.bindingIndex++}function Jt(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Xt(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,te(e)}function te(t){qt.lFrame.currentDirectiveIndex=t}function ee(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ne(){return qt.lFrame.currentQueryIndex}function re(t){qt.lFrame.currentQueryIndex=t}function ie(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function oe(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=ie(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ae();return r.currentTNode=e,r.lView=t,!0}function se(t){const e=ae(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ae(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ue(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ce=ue;function he(){const t=ue();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function de(){return qt.lFrame.selectedIndex}function pe(t){qt.lFrame.selectedIndex=t}function fe(){const t=qt.lFrame;return Ot(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ge(t,e,n){_e(t,e,3,n)}function ye(t,e,n,r){(3&t[2])===n&&_e(t,e,n,r)}function ve(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _e(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(be(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function be(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const we=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=Tt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],l=n[i++];r?t.setAttribute(e,a,l,s):e.setAttributeNS(s,a,l)}else{const s=o,a=n[++i];Te(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function xe(t){return 3===t||4===t||6===t}function Te(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ae(t){return t!==we}function Ie(t){return 32767&t}function Oe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Re(t){const e=De;return De=t,e}let Pe=0;function Ne(t,e){const n=Le(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Me(t,e),o=t.injectorIndex;if(Ae(i)){const t=Ie(i),n=Oe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Le(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Me(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return we;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return we}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(W)&&(r=n[W]),null==r&&(r=n[W]=Pe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&I.Optional)return t;_(e,"NodeInjector")}function Ze(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&I.Optional):R(e,r,n&I.Optional)}finally{D(o)}}return Ue(r,e,n)}function Ve(t,e,n,r=I.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(W)?t[W]:void 0;return"number"==typeof e?e>=0?255&e:Be:e}(n);if("function"==typeof o){if(!oe(e,t,r))return r&I.Host?Ue(i,n,r):Ze(e,n,r,i);try{const t=o(r);if(null!=t||r&I.Optional)return t;_(n)}finally{ce()}}else if("number"==typeof o){let i=null,s=Le(t,e),a=we,l=r&I.Host?e[16][6]:null;for((-1===s||r&I.SkipSelf)&&(a=-1===s?Me(t,e):e[s+8],a!==we&&Qe(r,!1)?(i=e[1],s=Ie(a),e=Oe(a,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=Ge(s,e,n,i,r,l);if(t!==je)return t}a=e[s+8],a!==we&&Qe(r,e[1].data[s+8]===l)&&Ye(o,s,e)?(i=t,s=Ie(a),e=Oe(a,e)):s=-1}}}return Ze(e,n,r,i)}const je={};function Be(){return new We(Bt(),Zt())}function Ge(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],l=ze(a,s,n,null==r?pt(a)&&De:r!=s&&0!=(3&a.type),i&I.Host&&o===a);return null!==l?He(e,s,l,a):je}function ze(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,l=t.directiveStart,u=o>>20,c=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<c;h++){const t=s[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(i){const t=s[l];if(t&&mt(t)&&t.type===n)return l}return null}function He(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ce){const s=i;s.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(v(o[n]));const a=Re(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?D(s.injectImpl):null;oe(t,r,I.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==l&&D(l),Re(a),s.resolving=!1,ce()}}return i}function Ye(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Qe(t,e){return!(t&I.Self||t&I.Host&&e)}class We{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ve(this._tNode,this._lView,t,void 0,e)}}function $e(t){return P(()=>{const e=t.prototype.constructor,n=e[Q]||Ke(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Ke(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Ke(t){return m(t)?()=>{const e=Ke(f(t));return e&&e()}:gt(t)}function Je(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(xe(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Bt(),t)}const Xe="__parameters__";function tn(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Xe)?t[Xe]:Object.defineProperty(t,Xe,{value:[]})[Xe];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class en{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nn=new en("AnalyzeForEntryComponents"),rn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function sn(t,e){t.forEach(t=>Array.isArray(t)?sn(t,e):e(t))}function an(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ln(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function un(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function cn(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const pn={},fn=/\n/gm,mn="__source",gn=l({provide:String,useValue:l});let yn;function vn(t){const e=yn;return yn=t,e}function _n(t,e=I.Default){if(void 0===yn)throw new Error("inject() must be called from an injection context");return null===yn?R(t,void 0,e):yn.get(t,e&I.Optional?null:void 0,e)}function bn(t,e=I.Default){return(O||_n)(f(t),e)}const wn=bn;function Cn(t){const e=[];for(let n=0;n<t.length;n++){const r=f(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(bn(t,n))}else e.push(bn(r))}return e}function Sn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const xn=Sn(tn("Inject",t=>({token:t})),-1),Tn=Sn(tn("Optional"),8),En=Sn(tn("SkipSelf"),4);let kn;function An(t){var e;return(null===(e=function(){if(void 0===kn&&(kn=null,Z.trustedTypes))try{kn=Z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return kn}())||void 0===e?void 0:e.createHTML(t))||t}class In{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class On extends In{getTypeName(){return"HTML"}}class Dn extends In{getTypeName(){return"Style"}}class Rn extends In{getTypeName(){return"Script"}}class Pn extends In{getTypeName(){return"URL"}}class Nn extends In{getTypeName(){return"ResourceURL"}}function Fn(t){return t instanceof In?t.changingThisBreaksApplicationSecurity:t}function Ln(t,e){const n=Mn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Mn(t){return t instanceof In&&t.getTypeName()||null}function qn(t){return new On(t)}function Un(t){return new Dn(t)}function Zn(t){return new Rn(t)}function Vn(t){return new Pn(t)}function jn(t){return new Nn(t)}class Bn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(An(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=An(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=An(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const zn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Hn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Yn(t){return(t=String(t)).match(zn)||t.match(Hn)?t:"unsafe:"+t}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Wn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const $n=Qn("area,br,col,hr,img,wbr"),Kn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jn=Qn("rp,rt"),Xn=Wn(Jn,Kn),tr=Wn($n,Wn(Kn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wn(Jn,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xn),er=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Qn("srcset"),rr=Wn(er,nr,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Qn("script,style,template");class or{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!rr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;er[o]&&(s=Yn(s)),nr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Yn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!$n.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const sr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(sr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ar,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ur;function cr(t,e){let n=null;try{ur=ur||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(An(""),"text/html")}catch(t){return!1}}()?new Bn(e):e}(t);let r=e?String(e):"";n=ur.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ur.getInertBodyElement(r)}while(r!==o);return An((new or).sanitizeChildren(hr(n)||n))}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var dr=(()=>((dr=dr||{})[dr.NONE=0]="NONE",dr[dr.HTML=1]="HTML",dr[dr.STYLE=2]="STYLE",dr[dr.SCRIPT=3]="SCRIPT",dr[dr.URL=4]="URL",dr[dr.RESOURCE_URL=5]="RESOURCE_URL",dr))();function pr(t){const e=function(){const t=Zt();return t&&t[12]}();return e?e.sanitize(dr.URL,t)||"":Ln(t,"URL")?Fn(t):Yn(y(t))}function fr(t,e){t.__ngContext__=e}function mr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function gr(t){return t.ngOriginalError}function yr(t,...e){t.error(...e)}class vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?function(t){return t.ngDebugContext}(t)||this._findContext(gr(t)):null}_findOriginalError(t){let e=gr(t);for(;e&&gr(e);)e=gr(e);return e}}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Z))();function br(t){return t instanceof Function?t():t}var wr=(()=>((wr=wr||{})[wr.Important=1]="Important",wr[wr.DashCase=2]="DashCase",wr))();function Cr(t,e){return(void 0)(t,e)}function Sr(t){const e=t[3];return ht(e)?e[3]:e}function xr(t){return Er(t[13])}function Tr(t){return Er(t[4])}function Er(t){for(;null!==t&&!ht(t);)t=t[4];return t}function kr(t,e,n,r,i){if(null!=r){let o,s=!1;ht(r)?o=r:ct(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Fr(e,n,a):Nr(e,n,a,i||null,!0):1===t&&null!==n?Nr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){Tt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&kr(e,t,r,o,i);for(let s=ut;s<n.length;s++){const i=n[s];zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Ar(t,e,n){return Tt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ir(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function Or(t,e){if(t.length<=ut)return;const n=ut+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Ir(o,r),e>0&&(t[n-1][4]=r[4]);const s=ln(t,ut+e);zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Dr(t,e){if(!(256&e[2])){const n=e[11];Tt(n)&&n.destroyNode&&zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(ct(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ct(e)&&Rr(e[1],e),e=e[3];null===e&&(e=t),ct(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],l=n[o+3];"boolean"==typeof l?s.removeEventListener(n[o],a,l):l>=0?r[i=l]():r[i=-l].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Tt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Ir(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Pr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===F.None||e===F.Emulated)return null}return It(r,n)}(t,e.parent,n)}function Nr(t,e,n,r,i){Tt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Fr(t,e,n){Tt(t)?t.appendChild(e,n):e.appendChild(n)}function Lr(t,e,n,r,i){null!==r?Nr(t,e,n,r,i):Fr(t,e,n)}function Mr(t,e){return Tt(t)?t.parentNode(e):e.parentNode}function qr(t,e,n){return Ur(t,e,n)}let Ur=function(t,e,n){return 40&t.type?It(t,n):null};function Zr(t,e,n,r){const i=Pr(t,r,e),o=e[11],s=qr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Lr(o,i,n[a],s,!1);else Lr(o,i,n,s,!1)}function Vr(t,e){if(null!==e){const n=e.type;if(3&n)return It(e,t);if(4&n)return Br(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Vr(t,n);{const n=t[e.index];return ht(n)?Br(-1,n):kt(n)}}if(32&n)return Cr(e,t)()||kt(t[e.index]);{const n=jr(t,e);return null!==n?Array.isArray(n)?n[0]:Vr(Sr(t[16]),n):Vr(t,e.next)}}return null}function jr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Br(t,e){const n=ut+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Vr(t,r)}return e[7]}function Gr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],l=n.type;if(s&&0===e&&(a&&fr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&l)Gr(t,e,n.child,r,i,o,!1),kr(e,t,i,a,o);else if(32&l){const s=Cr(n,r);let l;for(;l=s();)kr(e,t,i,l,o);kr(e,t,i,a,o)}else 16&l?Hr(t,e,r,n,i,o):kr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function zr(t,e,n,r,i,o){Gr(n,r,t.firstChild,e,i,o,!1)}function Hr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)kr(e,t,i,a[l],o);else Gr(t,e,a,s[3],i,o,!0)}function Yr(t,e,n){Tt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qr(t,e,n){Tt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Wr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const $r="ng-template";function Kr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Wr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Jr(t){return 4===t.type&&t.value!==$r}function Xr(t,e,n){return e===(4!==t.type||n?t.value:$r)}function ti(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(xe(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&r){if(r=2|1&r,""!==l&&!Xr(t,l,n)||""===l&&1===e.length){if(ei(r))return!1;s=!0}}else{const u=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Kr(t.attrs,u,n)){if(ei(r))return!1;s=!0}continue}const c=ni(8&r?"class":l,i,Jr(t),n);if(-1===c){if(ei(r))return!1;s=!0;continue}if(""!==u){let t;t=c>o?"":i[c+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Wr(e,u,0)||2&r&&u!==t){if(ei(r))return!1;s=!0}}}}else{if(!s&&!ei(r)&&!ei(l))return!1;if(s&&ei(l))continue;s=!1,r=l|1&r}}return ei(r)||s}function ei(t){return 0==(1&t)}function ni(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ri(t,e,n=!1){for(let r=0;r<e.length;r++)if(ti(t,e[r],n))return!0;return!1}function ii(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function oi(t,e){return t?":not("+e.trim()+")":e}function si(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||ei(s)||(e+=oi(o,i),i=""),r=s,o=o||!ei(r);n++}return""!==i&&(e+=oi(o,i)),e}const ai={};function li(t){ui(Vt(),Zt(),de()+t,Qt())}function ui(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ge(e,r,n)}else{const r=t.preOrderHooks;null!==r&&ye(e,r,0,n)}pe(n)}function ci(t,e){return t<<17|e<<2}function hi(t){return t>>17&32767}function di(t){return 2|t}function pi(t){return(131068&t)>>2}function fi(t,e){return-131069&t|e<<2}function mi(t){return 1|t}function gi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];re(i),n.contentQueries(2,e[o],o)}}}function yi(t,e,n,r,i,o,s,a,l,u){const c=e.blueprint.slice();return c[0]=i,c[2]=140|r,Lt(c),c[3]=c[15]=t,c[8]=n,c[10]=s||t&&t[10],c[11]=a||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=o,c[16]=2==e.type?t[16]:c,c}function vi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Gt(),s=Ht(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return zt(o,!0),o}function _i(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function bi(t,e,n){se(e);try{const r=t.viewQuery;null!==r&&$i(1,r,n);const i=t.template;null!==i&&Si(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&gi(t,e),t.staticViewQueries&&$i(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)zi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,he()}}function wi(t,e,n,r){const i=e[2];if(256==(256&i))return;se(e);const o=Qt();try{Lt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Si(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&ge(e,n,null)}else{const n=t.preOrderHooks;null!==n&&ye(e,n,0,null),ve(e,0)}if(function(t){for(let e=xr(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=xr(t);null!==e;e=Tr(e))for(let t=ut;t<e.length;t++){const n=e[t],r=n[1];Nt(n)&&wi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&gi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&ge(e,n)}else{const n=t.contentHooks;null!==n&&ye(e,n,1),ve(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)pe(~r);else{const i=r,o=n[++t],s=n[++t];Xt(o,i),s(2,e[i])}}}finally{pe(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Bi(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&$i(2,l,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&ge(e,n)}else{const n=t.viewHooks;null!==n&&ye(e,n,2),ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{he()}}function Ci(t,e,n,r){const i=e[10],o=!Qt(),s=Pt(e);try{o&&!s&&i.begin&&i.begin(),s&&bi(t,e,r),wi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Si(t,e,n,r,i){const o=de(),s=2&r;try{pe(-1),s&&e.length>lt&&ui(t,e,lt,Qt()),n(r,i)}finally{pe(o)}}function xi(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ti(t,e,n){Ut()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ne(n,e),fr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=mt(r);o&&Ui(e,n,r);const l=He(e,t,a,n);fr(l,e),null!==s&&Zi(0,a-i,l,r,0,s),o&&(Rt(n.index,e)[8]=l)}}(t,e,n,It(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{pe(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];te(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ni(r,i)}}finally{pe(-1),te(s)}}(t,e,n))}function Ei(t,e,n=It){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function ki(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ai(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ai(t,e,n,r,i,o,s,a,l,u){const c=lt+r,h=c+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ai);return n}(c,h),p="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1}}function Ii(t,e,n,r){const i=Ji(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Xi(t).push(r,i.length-1))}function Oi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Di(t,e,n,r,i,o,s,a){const l=It(e,n);let u,c=e.inputs;var h;!a&&null!=c&&(u=c[r])?(no(t,n,u,r,i),pt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,Tt(o)?o.setProperty(l,r,i):Te(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ri(t,e,n,r){let i=!1;if(Ut()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ri(n,s.selectors,!1)&&(i||(i=[]),qe(Ne(n,e),t,s.type),mt(s)?(Fi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Mi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,l=_i(t,e,o.length,null);for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=Ee(n.mergedAttrs,u.hostAttrs),qi(t,n,e,l,u),Li(l,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!r&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!c.ngOnChanges&&!c.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=r[l],n=t.inputs,u=null===i||Jr(e)?null:Vi(n,i);o.push(u),s=Oi(n,l,s),a=Oi(t.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),i}function Pi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Ni(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Li(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Mi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=gt(i.type)),s=new Ce(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Pi(t,e,0,r,_i(t,n,i.hostVars,ai),i)}function Ui(t,e,n){const r=It(e,t),i=ki(n),o=t[10],s=Hi(t,yi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Zi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ji(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Bi(t,e){const n=Rt(e,t);if(Nt(n)){const t=n[1];80&n[2]?wi(t,n,t.template,n[8]):n[5]>0&&Gi(n)}}function Gi(t){for(let n=xr(t);null!==n;n=Tr(n))for(let t=ut;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];wi(t,e,t.template,e[8])}else e[5]>0&&Gi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Nt(r)&&r[5]>0&&Gi(r)}}function zi(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),bi(r,n,n[8])}function Hi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Yi(t){for(;t;){t[2]|=64;const e=Sr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Qi(t,e,n){const r=e[10];r.begin&&r.begin();try{wi(t,e,t.template,n)}catch(i){throw eo(e,i),i}finally{r.end&&r.end()}}function Wi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=mr(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function $i(t,e,n){re(0),e(t,n)}const Ki=(()=>Promise.resolve(null))();function Ji(t){return t[7]||(t[7]=[])}function Xi(t){return t.cleanup||(t.cleanup=[])}function to(t,e,n){return(null===t||mt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function eo(t,e){const n=t[9],r=n?n.get(vr,null):null;r&&r.handleError(e)}function no(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=e[s],u=t.data[s];null!==u.setInput?u.setInput(l,i,r,a):l[a]=i}}function ro(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const io=new en("INJECTOR",-1);class oo{get(t,e=pn){if(e===pn){const e=new Error(`NullInjectorError: No provider for ${c(t)}!`);throw e.name="NullInjectorError",e}return e}}const so=new en("Set Injector scope."),ao={},lo={};let uo;function co(){return void 0===uo&&(uo=new oo),uo}function ho(t,e=null,n=null,r){return new po(t,n,e||co(),r)}class po{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&sn(e,n=>this.processProvider(n,t,e)),sn([t],t=>this.processInjectorType(t,[],i)),this.records.set(io,go(void 0,this));const o=this.records.get(so);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:c(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=pn,n=I.Default){this.assertNotDestroyed();const r=vn(this),i=D(void 0);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(o=t)||"object"==typeof o&&o instanceof en)&&C(t);e=n&&this.injectableDefInScope(n)?go(fo(t),ao):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?co():this.parent).get(t,e=n&I.Optional&&e===pn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(c(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[mn]&&i.unshift(e[mn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=c(e);if(Array.isArray(e))i=e.map(c).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):c(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(fn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{D(i),vn(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(c(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=f(t)))return!1;let r=x(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=x(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{sn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];sn(r,t=>this.processProvider(t,n,r||j))}}this.injectorDefTypes.add(o);const a=gt(o)||(()=>new o);this.records.set(o,go(a,ao));const l=r.providers;if(null!=l&&!s){const e=t;sn(l,t=>this.processProvider(t,e,l))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=vo(t=f(t))?t:f(t&&t.provide);const i=function(t,e,n){return yo(t)?go(void 0,t.useValue):go(mo(t),ao)}(t);if(vo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=go(void 0,ao,!0),e.factory=()=>Cn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ao&&(e.value=lo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=f(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function fo(t){const e=C(t),n=null!==e?e.factory:gt(t);if(null!==n)return n;if(t instanceof en)throw new Error(`Token ${c(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=un(e,"?");throw new Error(`Can't resolve all parameters for ${c(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function mo(t,e,n){let r;if(vo(t)){const e=f(t);return gt(e)||fo(e)}if(yo(t))r=()=>f(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Cn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>bn(f(t.useExisting));else{const e=f(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return gt(e)||fo(e);r=()=>new e(...Cn(t.deps))}var i;return r}function go(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function yo(t){return null!==t&&"object"==typeof t&&gn in t}function vo(t){return"function"==typeof t}const _o=function(t,e,n){return function(t,e=null,n=null,r){const i=ho(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};class bo{static create(t,e){return Array.isArray(t)?_o(t,e,""):_o(t.providers,t.parent,t.name||"")}}function wo(t,e){me(mr(t)[1],Bt())}function Co(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=So(t.inputs),e.declaredInputs=So(t.declaredInputs),e.outputs=So(t.outputs);const n=i.hostBindings;n&&Eo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&xo(t,o),s&&To(t,s),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Co&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ee(i.hostAttrs,n=Ee(n,i.hostAttrs))}}(r)}function So(t){return t===V?{}:t===j?[]:t}function xo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function To(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Eo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}bo.THROW_IF_NOT_FOUND=pn,bo.NULL=new oo,bo.\u0275prov=b({token:bo,providedIn:"any",factory:()=>bn(io)}),bo.__NG_ELEMENT_ID__=-1;let ko=null;function Ao(){if(!ko){const t=Z.Symbol;if(t&&t.iterator)ko=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ko=n)}}}return ko}class Io{constructor(t){this.wrapped=t}static wrap(t){return new Io(t)}static unwrap(t){return Io.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Io}}function Oo(t){return!!Do(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function Do(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ro(t,e,n){return t[e]=n}function Po(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function No(t,e,n,r){const i=Zt();return Po(i,Kt(),e)&&(Vt(),function(t,e,n,r,i,o){const s=It(t,e);!function(t,e,n,r,i,o,s){if(null==o)Tt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?y(o):s(o,r||"",i);Tt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(fe(),i,t,e,n,r)),No}function Fo(t,e,n,r){return Po(t,Kt(),n)?e+y(n)+r:ai}function Lo(t,e,n,r,i,o,s,a){const l=Zt(),u=Vt(),c=t+lt,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,l){const u=e.consts,c=vi(e,t,4,s||null,Ft(u,a));Ri(e,n,c,Ft(u,l)),me(e,c);const h=c.tViews=Ai(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,r,i,o,s):u.data[c];zt(h,!1);const d=l[11].createComment("");Zr(u,l,d,h),fr(d,l),Hi(l,l[c]=ji(d,l,d,h)),ft(h)&&Ti(u,l,h),null!=s&&Ei(l,h,a)}function Mo(t){return Dt(qt.lFrame.contextLView,lt+t)}function qo(t,e=I.Default){const n=Zt();return null===n?bn(t,e):Ve(Bt(),n,f(t),e)}function Uo(t,e,n){const r=Zt();return Po(r,Kt(),e)&&Di(Vt(),fe(),r,t,e,r[11],n,!1),Uo}function Zo(t,e,n,r,i){const o=i?"class":"style";no(t,n,e.inputs[o],o,r)}function Vo(t,e,n,r){const i=Zt(),o=Vt(),s=lt+t,a=i[11],l=i[s]=Ar(a,e,qt.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,l=vi(e,t,2,i,Ft(a,o));return Ri(e,n,l,Ft(a,s)),null!==l.attrs&&ro(l,l.attrs,!1),null!==l.mergedAttrs&&ro(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,i,0,e,n,r):o.data[s];zt(u,!0);const c=u.mergedAttrs;null!==c&&Se(a,l,c);const h=u.classes;null!==h&&Qr(a,l,h);const d=u.styles;null!==d&&Yr(a,l,d),64!=(64&u.flags)&&Zr(o,i,l,u),0===qt.lFrame.elementDepthCount&&fr(l,i),qt.lFrame.elementDepthCount++,ft(u)&&(Ti(o,i,u),xi(o,u,i)),null!==r&&Ei(i,u)}function jo(){let t=Bt();Ht()?Yt():(t=t.parent,zt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Vt();n.firstCreatePass&&(me(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Zo(n,e,Zt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Zo(n,e,Zt(),e.stylesWithoutHost,!1)}function Bo(t,e,n,r){Vo(t,e,n,r),jo()}function Go(t,e,n){const r=Zt(),i=Vt(),o=t+lt,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ft(o,r),a=vi(e,t,8,"ng-container",s);return null!==s&&ro(a,s,!0),Ri(e,n,a,Ft(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];zt(s,!0);const a=r[o]=r[11].createComment("");Zr(i,r,a,s),fr(a,r),ft(s)&&(Ti(i,r,s),xi(i,s,r)),null!=n&&Ei(r,s)}function zo(){let t=Bt();const e=Vt();Ht()?Yt():(t=t.parent,zt(t,!1)),e.firstCreatePass&&(me(e,t),dt(t)&&e.queries.elementEnd(t))}function Ho(){return Zt()}function Yo(t){return!!t&&"function"==typeof t.then}function Qo(t){return!!t&&"function"==typeof t.subscribe}const Wo=Qo;function $o(t,e,n,r){const i=Zt(),o=Vt(),s=Bt();return Jo(o,i,i[11],s,t,e,!!n,r),$o}function Ko(t,e){const n=Bt(),r=Zt(),i=Vt();return Jo(i,r,to(ee(i.data),n,r),n,t,e,!1),Ko}function Jo(t,e,n,r,i,o,s,a){const l=ft(r),u=t.firstCreatePass&&Xi(t),c=Ji(e);let h=!0;if(3&r.type||a){const d=It(r,e),p=a?a(d):d,f=c.length,m=a?t=>a(kt(t[r.index])):r.index;if(Tt(n)){let s=null;if(!a&&l&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ts(r,e,0,o,!1);const t=n.listen(p,i,o);c.push(o,t),u&&u.push(i,m,f,f+1)}}else o=ts(r,e,0,o,!0),p.addEventListener(i,o,s),c.push(o),u&&u.push(i,m,f,s)}else o=ts(r,e,0,o,!1);const d=r.outputs;let p;if(h&&null!==d&&(p=d[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(o),s=c.length;c.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}function Xo(t,e,n,r){try{return!1!==n(r)}catch(i){return eo(t,i),!1}}function ts(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&Yi(s);let a=Xo(e,0,r,o),l=n.__ngNextListenerFn__;for(;l;)a=Xo(e,0,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function ns(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?ri(t,o,!0):ii(r,o))return i}else n=i}return n}function rs(t){const e=Zt()[16][6];if(!e.projection){const n=e.projection=un(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ns(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function is(t,e=0,n){const r=Zt(),i=Vt(),o=vi(i,lt+t,16,null,n||null);null===o.projection&&(o.projection=e),Yt(),64!=(64&o.flags)&&function(t,e,n){Hr(e[11],0,e,n,Pr(t,n,e),qr(n.parent||e[6],n,e))}(i,r,o)}function os(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?hi(o):pi(o),l=!1;for(;0!==a&&(!1===l||s);){const n=t[a+1];ss(t[a],e)&&(l=!0,t[a+1]=r?mi(n):di(n)),a=r?hi(n):pi(n)}l&&(t[n+1]=r?di(o):mi(o))}function ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const as={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ls(t){return t.substring(as.key,as.keyEnd)}function us(t,e){const n=as.textEnd;return n===e?-1:(e=as.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,as.key=e,n),cs(t,e,n))}function cs(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function hs(t,e,n){return fs(t,e,n,!1),hs}function ds(t,e){return fs(t,e,null,!0),ds}function ps(t,e){for(let n=function(t){return function(t){as.key=0,as.keyEnd=0,as.value=0,as.valueEnd=0,as.textEnd=t.length}(t),us(t,cs(t,0,as.textEnd))}(e);n>=0;n=us(e,n))cn(t,ls(e),!0)}function fs(t,e,n,r){const i=Zt(),o=Vt(),s=Jt(2);o.firstUpdatePass&&gs(o,t,s,r),e!==ai&&Po(i,s,e)&&_s(o,o.data[de()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=c(Fn(t)))),t}(e,n),r,s)}function ms(t,e){return e>=t.expandoStartIndex}function gs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[de()],s=ms(t,n);Cs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=ee(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=vs(n=ys(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=ys(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==pi(r))return t[hi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ys(null,t,e,n[1],r),n=vs(n,e.attrs,r),function(t,e,n,r){t[hi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=vs(r,t[o].hostAttrs,n);return vs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hi(s),l=pi(s);t[r]=n;let u,c=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||dn(t,u)>0)&&(c=!0)}else u=n;if(i)if(0!==l){const e=hi(t[a+1]);t[r+1]=ci(e,a),0!==e&&(t[e+1]=fi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ci(a,0),0!==a&&(t[a+1]=fi(t[a+1],r)),a=r;else t[r+1]=ci(l,0),0===a?a=r:t[l+1]=fi(t[l+1],r),l=r;c&&(t[r+1]=di(t[r+1])),os(t,u,r,!0),os(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&dn(o,e)>=0&&(n[r+1]=mi(n[r+1]))}(e,u,t,r,o),s=ci(a,l),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function ys(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=vs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function vs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),cn(t,s,!!n||e[++o]))}return void 0===t?null:t}function _s(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const l=t.data,u=l[a+1];ws(1==(1&u)?bs(l,e,n,i,pi(u),s):void 0)||(ws(o)||2==(2&u)&&(o=bs(l,null,n,i,a,s)),function(t,e,n,r,i){const o=Tt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:wr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=wr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,At(de(),n),i,o))}function bs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),l=o?e[1]:e,u=null===l;let c=n[i+1];c===ai&&(c=u?j:void 0);let h=u?hn(c,r):l===r?c:void 0;if(o&&!ws(h)&&(h=hn(e,r)),ws(h)&&(a=h,s))return a;const d=t[i+1];i=s?hi(d):pi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=hn(t,r))}return a}function ws(t){return void 0!==t}function Cs(t,e){return 0!=(t.flags&(e?16:32))}function Ss(t,e=""){const n=Zt(),r=Vt(),i=t+lt,o=r.firstCreatePass?vi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Tt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zr(r,n,s,o),zt(o,!1)}function xs(t){return Ts("",t,""),xs}function Ts(t,e,n){const r=Zt(),i=Fo(r,t,e,n);return i!==ai&&function(t,e,n){const r=At(e,t);!function(t,e,n){Tt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,de(),i),Ts}function Es(t,e,n){!function(t,e,n,r){const i=Vt(),o=Jt(2);i.firstUpdatePass&&gs(i,null,o,r);const s=Zt();if(n!==ai&&Po(s,o,n)){const a=i.data[de()];if(Cs(a,r)&&!ms(i,o)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),Zo(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===ai&&(i=j);let l=0,u=0,c=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==c||null!==h;){const s=l<i.length?i[l+1]:void 0,d=u<o.length?o[u+1]:void 0;let p,f=null;c===h?(l+=2,u+=2,s!==d&&(f=h,p=d)):null===h||null!==c&&c<h?(l+=2,f=c):(u+=2,f=h,p=d),null!==f&&_s(t,e,n,r,f,p,true,a),c=l<i.length?i[l]:null,h=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return j;const r=[],i=Fn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(cn,ps,Fo(Zt(),t,e,n),!0)}function ks(t,e,n){const r=Zt();return Po(r,Kt(),e)&&Di(Vt(),fe(),r,t,e,r[11],n,!0),ks}function As(t,e,n){const r=Zt();if(Po(r,Kt(),e)){const i=Vt(),o=fe();Di(i,o,r,t,e,to(ee(i.data),o,r),n,!0)}return As}const Is=void 0;var Os=["en",[["a","p"],["AM","PM"],Is],[["AM","PM"],Is,Is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Is,"{1} 'at' {0}",Is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Ds={};function Rs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ns(e);if(n)return n;const r=e.split("-")[0];if(n=Ns(r),n)return n;if("en"===r)return Os;throw new Error(`Missing locale data for the locale "${t}".`)}function Ps(t){return Rs(t)[Fs.PluralCase]}function Ns(t){return t in Ds||(Ds[t]=Z.ng&&Z.ng.common&&Z.ng.common.locales&&Z.ng.common.locales[t]),Ds[t]}var Fs=(()=>((Fs=Fs||{})[Fs.LocaleId=0]="LocaleId",Fs[Fs.DayPeriodsFormat=1]="DayPeriodsFormat",Fs[Fs.DayPeriodsStandalone=2]="DayPeriodsStandalone",Fs[Fs.DaysFormat=3]="DaysFormat",Fs[Fs.DaysStandalone=4]="DaysStandalone",Fs[Fs.MonthsFormat=5]="MonthsFormat",Fs[Fs.MonthsStandalone=6]="MonthsStandalone",Fs[Fs.Eras=7]="Eras",Fs[Fs.FirstDayOfWeek=8]="FirstDayOfWeek",Fs[Fs.WeekendRange=9]="WeekendRange",Fs[Fs.DateFormat=10]="DateFormat",Fs[Fs.TimeFormat=11]="TimeFormat",Fs[Fs.DateTimeFormat=12]="DateTimeFormat",Fs[Fs.NumberSymbols=13]="NumberSymbols",Fs[Fs.NumberFormats=14]="NumberFormats",Fs[Fs.CurrencyCode=15]="CurrencyCode",Fs[Fs.CurrencySymbol=16]="CurrencySymbol",Fs[Fs.CurrencyName=17]="CurrencyName",Fs[Fs.Currencies=18]="Currencies",Fs[Fs.Directionality=19]="Directionality",Fs[Fs.PluralCase=20]="PluralCase",Fs[Fs.ExtraData=21]="ExtraData",Fs))();const Ls="en-US";let Ms=Ls;function qs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Ms=t.toLowerCase().replace(/_/g,"-"))}function Us(t,e,n,r,i){if(t=f(t),Array.isArray(t))for(let o=0;o<t.length;o++)Us(t[o],e,n,r,i);else{const o=Vt(),s=Zt();let a=vo(t)?t:f(t.provide),l=mo(t);const u=Bt(),c=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(vo(t)||!t.multi){const r=new Ce(l,i,qo),p=js(a,e,i?c:c+d,h);-1===p?(qe(Ne(u,s),o,a),Zs(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[p]=r,s[p]=r)}else{const p=js(a,e,c+d,h),f=js(a,e,c,c+d),m=p>=0&&n[p],g=f>=0&&n[f];if(i&&!g||!i&&!m){qe(Ne(u,s),o,a);const c=function(t,e,n,r,i){const o=new Ce(t,n,qo);return o.multi=[],o.index=e,o.componentProviders=0,Vs(o,i,r&&!n),o}(i?Gs:Bs,n.length,i,r,l);!i&&g&&(n[f].providerFactory=c),Zs(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(c),s.push(c)}else Zs(o,t,p>-1?p:f,Vs(n[i?f:p],l,!i&&r));!i&&r&&g&&n[f].componentProviders++}}}function Zs(t,e,n,r){const i=vo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function js(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Bs(t,e,n,r){return zs(this.multi,[])}function Gs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=He(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),zs(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],zs(i,o);return o}function zs(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Hs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Vt();if(r.firstCreatePass){const i=mt(t);Us(n,r.data,r.blueprint,i,!0),Us(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ys{}class Qs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${c(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}class Ws{}function $s(...t){}function Ks(t,e){return new Xs(It(t,e))}Ws.NULL=new Qs;const Js=function(){return Ks(Bt(),Zt())};let Xs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Js,t})();function ta(t){return t instanceof Xs?t.nativeElement:t}class ea{}let na=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ra(),t})();const ra=function(){const t=Zt(),e=Rt(Bt().index,t);return function(t){return t[11]}(ct(e)?e:t)};let ia=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class oa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const sa=new oa("12.1.3");class aa{constructor(){}supports(t){return Oo(t)}create(t){return new ua(t)}}const la=(t,e)=>e;class ua{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||la}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<pa(n,r,i)?e:n,s=pa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Oo(t))throw new Error(`Error trying to diff '${c(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ao()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new ca(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new da),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new da),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ca{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ha{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class da{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new ha,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class fa{constructor(){}supports(t){return t instanceof Map||Do(t)}create(){return new ma}}class ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Do(t)))throw new Error(`Error trying to diff '${c(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ga(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ga{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ya(){return new va([new aa])}let va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||ya()),deps:[[t,new En,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:ya}),t})();function _a(){return new ba([new fa])}let ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||_a()),deps:[[t,new En,new Tn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:_a}),t})();function wa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),ht(o))for(let t=ut;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&wa(e[1],e,n,r)}const s=n.type;if(8&s)wa(t,e,n.child,r);else if(32&s){const t=Cr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=jr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Sr(e[16]);wa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ca{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return wa(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Or(t,n),ln(e,n))}this._attachedToViewContainer=!1}Dr(this._lView[1],this._lView)}onDestroy(t){Ii(this._lView[1],this._lView,null,t)}markForCheck(){Yi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Qi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{Qi(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Sa extends Ca{constructor(t){super(t),this._view=t}detectChanges(){Wi(this._view)}checkNoChanges(){!function(t){Wt(!0);try{Wi(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const xa=function(t){return function(t,e,n){if(pt(t)&&!n){const n=Rt(t.index,e);return new Ca(n,n)}return 47&t.type?new Ca(e[16],e):null}(Bt(),Zt(),16==(16&t))};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=xa,t})();const Ea=[new fa],ka=new va([new aa]),Aa=new ba(Ea),Ia=function(){return Pa(Bt(),Zt())};let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ia,t})();const Da=Oa,Ra=class extends Da{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=yi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),bi(e,n,t),new Ca(n)}};function Pa(t,e){return 4&t.type?new Ra(e,t,Ks(t,e)):null}class Na{}class Fa{}const La=function(){return ja(Bt(),Zt())};let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=La,t})();const qa=Ma,Ua=class extends qa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ks(this._hostTNode,this._hostLView)}get injector(){return new We(this._hostTNode,this._hostLView)}get parentInjector(){const t=Me(this._hostTNode,this._hostLView);if(Ae(t)){const e=Oe(t,this._hostLView),n=Ie(t);return new We(e[1].data[n+8],e)}return new We(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Za(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Na,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ua(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ut+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ut?(e[4]=n[i],an(n,ut+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Br(i,o),a=n[11],l=Mr(a,o[7]);return null!==l&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,zr(t,r,n,1,i,o)}(r,o[6],a,n,l,s),t.attachToViewContainerRef(),an(Va(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Za(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);n&&(ln(Va(this._lContainer),e),Dr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);return n&&null!=ln(Va(this._lContainer),e)?new Ca(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Za(t){return t[8]}function Va(t){return t[8]||(t[8]=[])}function ja(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=It(t,e);Nr(n,Mr(n,r),i,function(t,e){return Tt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ji(r,e,i,t),Hi(e,n)}return new Ua(n,t,e)}const Ba={};class Ga extends Ws{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=st(t);return new Ya(e,this.ngModule)}}function za(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new en("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class Ya extends Ys{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return za(this.componentDef.inputs)}get outputs(){return za(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ba,i);return o!==Ba||r===Ba?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ea,Et),s=i.get(ia,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Tt(t))return t.selectRootElement(e,n===F.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Ar(o.createRenderer(null,this.componentDef),l,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:_r,clean:Ki,playerHandler:null,flags:0},d=Ai(0,null,null,1,0,null,null,null,null,null),p=yi(null,d,h,c,null,null,o,a,s,i);let f,m;se(p);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=vi(s,20,2,"#host",null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(ro(a,l,!0),null!==t&&(Se(i,t,l),null!==a.classes&&Qr(i,t,a.classes),null!==a.styles&&Yr(i,t,a.styles)));const u=r.createRenderer(t,e),c=yi(n,ki(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(qe(Ne(a,n),s,e.type),Fi(s,a),Mi(a,n.length,1)),Hi(n,c),n[20]=c}(u,this.componentDef,p,o,a);if(u)if(n)Se(a,u,["ng-version",sa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!ei(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(a,u,t),e&&e.length>0&&Qr(a,u,e.join(" "))}if(m=Ot(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}f=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Bt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),qi(t,r,e,_i(t,e,1,null),n));const i=He(e,t,r.directiveStart,r);fr(i,e);const o=It(r,e);return o&&fr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Bt();e.contentQueries(1,s,t.directiveStart)}const a=Bt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(pe(a.index),Pi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ni(e,s)),s}(t,this.componentDef,p,h,[wo]),bi(d,p,null)}finally{he()}return new Qa(this.componentType,f,Ks(m,p),p,m)}}class Qa extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Sa(r),this.componentType=t}get injector(){return new We(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Wa=new Map;class $a extends Na{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ga(this);const n=at(t),r=t[Y]||null;r&&qs(r),this._bootstrapComponents=br(n.bootstrap),this._r3Injector=ho(t,e,[{provide:Na,useValue:this},{provide:Ws,useValue:this.componentFactoryResolver}],c(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=bo.THROW_IF_NOT_FOUND,n=I.Default){return t===bo||t===Na||t===io?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ka extends Fa{constructor(t){super(),this.moduleType=t,null!==at(t)&&function(t){const e=new Set;!function t(n){const r=at(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${c(e)} vs ${c(e.name)}`)}(i,Wa.get(i),n),Wa.set(i,n));const o=br(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new $a(this.moduleType,t)}}function Ja(t,e,n){const r=$t()+t,i=Zt();return i[r]===ai?Ro(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Xa(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return Po(t,s,i)?Ro(t,s+1,o?r.call(o,i):r(i)):tl(t,s+1)}(Zt(),$t(),t,e,n,r)}function tl(t,e){const n=t[e];return n===ai?void 0:n}function el(t,e){const n=Vt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=gt(r.type)),s=D(qo);try{const t=Re(!1),e=o();return Re(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Zt(),i,e),e}finally{D(s)}}function nl(t,e,n,r){const i=t+lt,o=Zt(),s=Dt(o,i);return function(t,e){return Io.isWrapped(e)&&(e=Io.unwrap(e),t[qt.lFrame.bindingIndex]=ai),e}(o,function(t,e){return t[1].data[e].pure}(o,i)?function(t,e,n,r,i,o,s){const a=e+n;return function(t,e,n,r){const i=Po(t,e,n);return Po(t,e+1,r)||i}(t,a,i,o)?Ro(t,a+2,s?r.call(s,i,o):r(i,o)):tl(t,a+2)}(o,$t(),e,s.transform,n,r,s):s.transform(n,r))}function rl(t){return e=>{setTimeout(t,void 0,e)}}const il=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,l=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),l=null===(o=e.error)||void 0===o?void 0:o.bind(e),u=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(l=rl(l),a&&(a=rl(a)),u&&(u=rl(u)));const c=super.subscribe({next:a,error:l,complete:u});return t instanceof i.w&&t.add(c),c}};function ol(){return this._results[Ao()]()}class sl{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ao(),n=sl.prototype;n[e]||(n[e]=ol)}get changes(){return this._changes||(this._changes=new il)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class al{constructor(t){this.queryList=t,this.matches=null}clone(){return new al(this.queryList)}setDirty(){this.queryList.setDirty()}}class ll{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ll(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Cl(t,e).matches&&this.queries[e].setDirty()}}class ul{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class cl{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new cl(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class hl{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new hl(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,dl(e,i)),this.matchTNodeWithReadOption(t,e,ze(e,t,i,!1,!1))}else n===Oa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ze(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Xs||r===Ma||r===Oa&&4&e.type)this.addMatch(e.index,-2);else{const n=ze(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function dl(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function pl(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ks(t,e):4&t.type?Pa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Xs?Ks(e,t):n===Oa?Pa(e,t):n===Ma?ja(e,t):void 0}(t,e,r):He(t,t[1],n,e)}function fl(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:pl(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function ml(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=fl(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ut;t<s.length;t++){const e=s[t];e[17]===e[3]&&ml(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];ml(n[1],n,i,r)}}}}}return r}function gl(t){const e=Zt(),n=Vt(),r=ne();re(r+1);const i=Cl(n,r);if(t.dirty&&Pt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?ml(n,e,r,[]):fl(n,e,i,r);t.reset(o,ta),t.notifyOnChanges()}return!0}return!1}function yl(t,e,n){const r=Vt();r.firstCreatePass&&(wl(r,new ul(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),bl(r,Zt(),e)}function vl(t,e,n,r){const i=Vt();if(i.firstCreatePass){const o=Bt();wl(i,new ul(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}bl(i,Zt(),n)}function _l(){return t=Zt(),e=ne(),t[19].queries[e].queryList;var t,e}function bl(t,e,n){const r=new sl(4==(4&n));Ii(t,e,r,r.destroy),null===e[19]&&(e[19]=new ll),e[19].queries.push(new al(r))}function wl(t,e,n){null===t.queries&&(t.queries=new cl),t.queries.track(new hl(e,n))}function Cl(t,e){return t.queries.getByIndex(e)}const Sl=new en("Application Initializer");let xl=(()=>{class t{constructor(t){this.appInits=t,this.resolve=$s,this.reject=$s,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Yo(e))t.push(e);else if(Wo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(bn(Sl,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Tl=new en("AppId"),El={provide:Tl,useFactory:function(){return`${kl()}${kl()}${kl()}`},deps:[]};function kl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Al=new en("Platform Initializer"),Il=new en("Platform ID"),Ol=new en("appBootstrapListener");let Dl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Rl=new en("LocaleId"),Pl=new en("DefaultCurrencyCode");class Nl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Fl=function(t){return new Ka(t)},Ll=Fl,Ml=function(t){return Promise.resolve(Fl(t))},ql=function(t){const e=Fl(t),n=br(at(t).declarations).reduce((t,e)=>{const n=st(e);return n&&t.push(new Ya(n)),t},[]);return new Nl(e,n)},Ul=ql,Zl=function(t){return Promise.resolve(ql(t))};let Vl=(()=>{class t{constructor(){this.compileModuleSync=Ll,this.compileModuleAsync=Ml,this.compileModuleAndAllComponentsSync=Ul,this.compileModuleAndAllComponentsAsync=Zl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const jl=(()=>Promise.resolve(0))();function Bl(t){"undefined"==typeof Zone?jl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Gl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=Z.requestAnimationFrame,e=Z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Yl(t),t.isCheckStableRunning=!0,Hl(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Yl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Ql(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),Wl(t)}},onInvoke:(n,r,i,o,s,a,l)=>{try{return Ql(t),n.invoke(i,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Wl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Yl(t),Hl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Gl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,zl,$s,$s);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const zl={};function Hl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Yl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ql(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wl(t){t._nesting--,Hl(t)}class $l{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Kl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gl.assertNotInAngularZone(),Bl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Bl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(bn(Gl))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),Jl=(()=>{class t{constructor(){this._applications=new Map,nu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return nu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class Xl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function tu(t){nu=t}let eu,nu=new Xl,ru=!0,iu=!1;function ou(){return iu=!0,ru}function su(){if(iu)throw new Error("Cannot enable prod mode after platform setup.");ru=!1}const au=new en("AllowMultipleToken");class lu{constructor(t,e){this.name=t,this.token=e}}function uu(t,e,n=[]){const r=`Platform: ${e}`,i=new en(r);return(e=[])=>{let o=cu();if(!o||o.injector.get(au,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(t){if(eu&&!eu.destroyed&&!eu.injector.get(au,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");eu=t.get(hu);const e=t.get(Al,null);e&&e.forEach(t=>t())}(bo.create({providers:t,name:r}))}return function(t){const e=cu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function cu(){return eu&&!eu.destroyed?eu:null}let hu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $l:("zone.js"===t?void 0:t)||new Gl({enableLongStackTrace:ou(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Gl,useValue:n}];return n.run(()=>{const e=bo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(vr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{fu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Yo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(xl);return t.runInitializers(),t.donePromise.then(()=>(qs(i.injector.get(Rl,Ls)||Ls),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=du({},e);return function(t,e,n){const r=new Ka(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(pu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${c(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(bn(bo))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function du(t,e){return Array.isArray(e)?e.reduce(du,t):Object.assign(Object.assign({},t),e)}let pu=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Gl.assertNotInAngularZone(),Bl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Gl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,u.pipe((0,a.B)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ys?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Na),i=n.create(bo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Kl,null),a=s&&i.injector.get(Jl);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),fu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;fu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ol,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(bn(Gl),bn(bo),bn(vr),bn(Ws),bn(xl))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function fu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class mu{}class gu{}const yu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let vu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||yu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>_u(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>_u(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(bn(Vl),bn(gu,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function _u(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const bu=function(t){return null},wu=uu(null,"core",[{provide:Il,useValue:"unknown"},{provide:hu,deps:[bo]},{provide:Jl,deps:[]},{provide:Dl,deps:[]}]),Cu=[{provide:pu,useClass:pu,deps:[Gl,bo,vr,Ws,xl]},{provide:Ha,deps:[Gl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:xl,useClass:xl,deps:[[new Tn,Sl]]},{provide:Vl,useClass:Vl,deps:[]},El,{provide:va,useFactory:function(){return ka},deps:[]},{provide:ba,useFactory:function(){return Aa},deps:[]},{provide:Rl,useFactory:function(t){return qs(t=t||"undefined"!=typeof $localize&&$localize.locale||Ls),t},deps:[[new xn(Rl),new Tn,new En]]},{provide:Pl,useValue:"USD"}];let Su=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(bn(pu))},t.\u0275mod=et({type:t}),t.\u0275inj=w({providers:Cu}),t})()},57:(t,e,n)=>{"use strict";n.d(e,{hO:()=>E,xv:()=>_,Dh:()=>v,HU:()=>p,GT:()=>y,sI:()=>x,on:()=>w,ss:()=>f,pX:()=>g,yq:()=>C});var r=n(7771),i=n(3637),o=n(3342),s=n(9673),a=n(9746),l=n(7716),u=n(2329);function c(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",c,{},c,c)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class p{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function f(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new l.OlP("angularfire2.app.options"),_=new l.OlP("angularfire2.app.nameOrConfig"),b=new l.GfV("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&S("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(l){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const T={provide:class{},useFactory:w,deps:[v,l.R0b,[new l.FiY,_]]};let E=(()=>{class t{constructor(t){u.Z.registerVersion("angularfire",b.full,t.toString()),u.Z.registerVersion("angular",l.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(l.Lbi))},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({providers:[T]}),t})()},9759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var r,i,o=n(4762),s=n(4685),a=n(6034),l=n(300),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),c=new s.LL("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",p=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new l.Yd("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw c.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw c.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw c.create("duplicate-app",{appName:a});var l=new t(n,o,r);return e[a]=l,l},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=p[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&l&&u.push("and"),l&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:l.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw c.create("invalid-log-argument");(0,l.Am)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||d))throw c.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return f.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw c.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(l,o.serviceProps),r[a]=l,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var b=g;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.30",void 0),t.registerVersion("fire-js","")}(b);const w=b},6034:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>l,zt:()=>a});var r=n(4762),i=n(4685),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),l=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService({instanceIdentifier:u});l.resolve(c)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=(0,r.CR)(u.value,2),h=c[1];s===this.normalizeInstanceIdentifier(c[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.XA)(o),a=s.next();!a.done;a=s.next()){var l=a.value;try{l(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},9192:(t,e,n)=>{"use strict";var r=n(9759),i=n(6034),o=n(4685),s=n(4762),a=n(300);t=n.hmd(t);var l="";function u(t){l=t}var c,h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.Pz)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.cI)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),d=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.r3)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),p=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new d},f=p("localStorage"),m=p("sessionStorage"),g=new a.Yd("@firebase/database"),y=(c=1,function(){return c++}),v=function(t){var e=(0,o.dS)(t),n=new o.gQ;n.update(e);var r=n.digest();return o.US.encodeByteArray(r)},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=_.apply(null,i):n+="object"==typeof i?(0,o.Pz)(i):i,n+=" "}return n},b=null,w=!0,C=function(t,e){(0,o.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=a.in.VERBOSE,b=g.log.bind(g),e&&m.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,m.remove("logging_enabled"))},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===m.get("logging_enabled")&&C(!0)),b){var n=_.apply(null,t);b(n)}},x=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];S.apply(void 0,(0,s.ev)([t],(0,s.CR)(e)))}},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,s.ev)([],(0,s.CR)(t)));g.error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,s.ev)([],(0,s.CR)(t)));throw g.error(n),new Error(n)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+_.apply(void 0,(0,s.ev)([],(0,s.CR)(t)));g.warn(n)},A=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},I="[MIN_NAME]",O="[MAX_NAME]",D=function(t,e){if(t===e)return 0;if(t===I||e===O)return-1;if(e===I||t===O)return 1;var n=U(t),r=U(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},R=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.Pz)(e))},N=function(t){if("object"!=typeof t||null===t)return(0,o.Pz)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(e[i]),r+=":",r+=N(t[e[i]]);return r+"}"},F=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function L(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var M=function(t){var e,n,r,i,s;(0,o.hu)(!A(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var l=a.join(""),u="";for(s=0;s<64;s+=8){var c=parseInt(l.substr(s,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},q=new RegExp("^-?(0*)\\d{1,10}$"),U=function(t){if(q.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Z=function(t){try{t()}catch(e){setTimeout(function(){throw k("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},j=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),B=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';k(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),G=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),z=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,H="websocket",Y="long_polling",Q=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function W(t,e,n){var r;if((0,o.hu)("string"==typeof e,"typeof type must == string"),(0,o.hu)("object"==typeof n,"typeof params must == object"),e===H)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==Y)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return L(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}var $=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.p$)(this.counters_)},t}(),K={},J={};function X(t){var e=t.toString();return K[e]||(K[e]=new $),K[e]}var tt=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Z(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),et="start",nt="close",rt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(t),this.stats_=X(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),W(e,Y,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new tt(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,o.Yr)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new it(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.CR)(t,5),i=r[0],o=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===et)n.id=o,n.password=a;else{if(i!==nt)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,s.CR)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!((0,o.Yr)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.h$)(e),r=F(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),it=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){S("frame writing exception"),l.stack&&S(l.stack),S(l)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||S("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;(0,o.Yr)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){S("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),ot=null;"undefined"!=typeof MozWebSocket?ot=MozWebSocket:"undefined"!=typeof WebSocket&&(ot=WebSocket);var st=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=X(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={v:"5"};return!(0,o.Yr)()&&"undefined"!=typeof location&&location.hostname&&z.test(location.hostname)&&(i.r="f"),e&&(i.s=e),n&&(i.ls=n),r&&(i.ac=r),W(t,H,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r={headers:{"User-Agent":"Firebase/5/"+l+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(r.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);var i=process.env,s=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new ot(this.connURL,[],r)}else this.mySock=new ot(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ot&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.cI)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=F(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),at=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[rt,st]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=st&&st.isAvailable(),o=i&&!st.previouslyFailed();if(e.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[st];else{var a=this.transports_=[];try{for(var l=(0,s.XA)(t.ALL_TRANSPORTS),u=l.next();!u.done;u=l.next()){var c=u.value;c&&c.isAvailable()&&a.push(c)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),lt=function(){function t(t,e,n,r,i,o,s,a,l,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new at(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?T("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ut=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ct=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,s.ev)([],(0,s.CR)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.hu)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),ht=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,o.uI)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return(0,s.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ct),dt=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function pt(){return new dt("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function mt(t){return t.pieces_.length-t.pieceNum_}function gt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new dt(t.pieces_,e)}function yt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function _t(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new dt(e,0)}function bt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof dt)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new dt(n,0)}function wt(t){return t.pieceNum_>=t.pieces_.length}function Ct(t,e){var n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return Ct(gt(t),gt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function St(t,e){for(var n=vt(t,0),r=vt(e,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function xt(t,e){if(mt(t)!==mt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Tt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(mt(t)>mt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Et=function(t,e){this.errorPrefix_=e,this.parts_=vt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);kt(this)};function kt(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+At(t))}function At(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var It,Ot,Dt=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return(0,s.ZT)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ct),Rt=1e3,Pt=function(t){function e(n,r,i,s,a,l,u,c){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=i,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=l,h.appCheckTokenProvider_=u,h.authOverride_=c,h.id=e.nextPersistentConnectionId_++,h.log_=x("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Rt,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,c&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Dt.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&ht.getInstance().on("online",h.onOnline_,h),h}return(0,s.ZT)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.BH,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&i===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,l=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==l&&n.removeListen_(i,o),t.onComplete&&t.onComplete(l,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&(0,o.r3)(t,"w")){var n=(0,o.DV)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||(0,o.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.Pz)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):T("Unrecognized action received from server: "+(0,o.Pz)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Rt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,s.mG)(this,void 0,void 0,function(){var t,n,r,i,a,l,u,c,h,d,p,f,m,g=this;return(0,s.Jh)(this,function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,l=!1,u=null,this.realtime_={close:c=function(){u?u.close():(l=!0,r())},sendRequest:function(t){(0,o.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=s.CR.apply(void 0,[y.sent(),2]),p=d[0],f=d[1],l?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=f&&f.token,u=new lt(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){k(t+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},a)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&k(m),c()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){S("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){S("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Rt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return N(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new dt(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){S("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){S("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,s.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var a=o.value;try{for(var l=(n=void 0,(0,s.XA)(a.values())),u=l.next();!u.done;u=l.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var c=0;c<this.outstandingPuts_.length;c++)this.outstandingPuts_[c]&&this.sendPut_(c);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(c=0;c<this.outstandingGets_.length;c++)this.outstandingGets_[c]&&this.sendGet_(c)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.Yr)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+l.replace(/\./g,"-")]=1,(0,o.uI)()?t["framework.cordova"]=1:(0,o.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=ht.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ut),Nt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ft=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Nt(I,t),r=new Nt(I,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Nt.MIN},t}(),Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return It},set:function(t){It=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return D(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(O,It)},e.prototype.makePost=function(t,e){return(0,o.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,It)},e.prototype.toString=function(){return".key"},e}(Ft),Mt=new Lt,qt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ut=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Zt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ut(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ut.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new qt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new qt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new qt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new qt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Zt,t}();function jt(t,e){return D(t.name,e.name)}function Bt(t,e){return D(t,e)}var Gt,zt,Ht,Yt,Qt,Wt=function(t){return"number"==typeof t?"number:"+M(t):"string:"+t},$t=function(t){if(t.isLeafNode()){var e=t.val();(0,o.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,o.r3)(e,".sv"),"Priority must be a string or number.")}else(0,o.hu)(t===Ot||t.isEmpty(),"priority of unexpected type.");(0,o.hu)(t===Ot||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Kt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$t(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Gt},set:function(t){Gt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return wt(e)?this:".priority"===ft(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ft(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===mt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(gt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Wt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?M(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(s>=0,"Unknown leaf type: "+r),i===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Jt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(O,new Kt("[PRIORITY-POST]",Ht))},e.prototype.makePost=function(t,e){var n=zt(t);return new Nt(e,new Kt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ft)),Xt=Math.log(2),te=function(){function t(t){this.count=parseInt(Math.log(t+1)/Xt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ee=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,null,null);var l=parseInt(a/2,10)+e,u=i(e,l),c=i(l+1,r);return o=t[l],s=n?n(o):o,new Ut(s,o.node,Ut.BLACK,u,c)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),c=t[o],h=n?n(c):c;l(new Ut(h,c.node,r,null,u))},l=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var c=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));c?a(h,Ut.BLACK):(a(h,Ut.BLACK),a(h,Ut.RED))}return o}(new te(t.length));return new Vt(r||e,o)},ne={},re=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.hu)(ne&&Jt,"ChildrenNode.ts has not been loaded"),Yt=Yt||new t({".priority":ne},{".priority":Jt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return(0,o.r3)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.hu)(e!==Mt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,l=n.getIterator(Nt.Wrap),u=l.getNext();u;)a=a||e.isDefinedOn(u.node),i.push(u),u=l.getNext();r=a?ee(i,e.getCompare()):ne;var c=e.toString(),h=(0,s.pi)({},this.indexSet_);h[c]=e;var d=(0,s.pi)({},this.indexes_);return d[c]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t((0,o.UI)(this.indexes_,function(t,i){var s=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(s,"Missing index implementation for "+i),t===ne){if(s.isDefinedOn(e.node)){for(var a=[],l=n.getIterator(Nt.Wrap),u=l.getNext();u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),ee(a,s.getCompare())}return ne}var c=n.get(e.name),h=t;return c&&(h=h.remove(new Nt(e.name,c))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t((0,o.UI)(this.indexes_,function(t){if(t===ne)return t;var r=n.get(e.name);return r?t.remove(new Nt(e.name,r)):t}),this.indexSet_)},t}(),ie=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$t(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Qt||(Qt=new t(new Vt(Bt),null,re.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Qt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Qt:e},t.prototype.getChild=function(t){var e=ft(t);return null===e?this:this.getImmediateChild(e).getChild(gt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Nt(e,n),i=void 0,s=void 0;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Qt:this.priorityNode_;return new t(i,a,s)},t.prototype.updateChild=function(t,e){var n=ft(t);if(null===n)return e;(0,o.hu)(".priority"!==ft(t)||1===mt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(gt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Jt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Wt(this.getPriority().val())+":"),this.forEachChild(Jt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Nt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Nt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Nt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===oe?-1:0},t.prototype.withIndex=function(e){if(e===Mt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Mt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Jt),r=e.getIterator(Jt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Mt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),oe=new(function(t){function e(){return t.call(this,new Vt(Bt),ie.EMPTY_NODE,re.Default)||this}return(0,s.ZT)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ie.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ie));function se(t,e){if(void 0===e&&(e=null),null===t)return ie.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kt(t,se(e));if(t instanceof Array){var n=ie.EMPTY_NODE;return L(t,function(e,r){if((0,o.r3)(t,e)&&"."!==e.substring(0,1)){var i=se(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(se(e))}var r=[],i=!1;if(L(t,function(t,e){if("."!==t.substring(0,1)){var n=se(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Nt(t,n)))}}),0===r.length)return ie.EMPTY_NODE;var s=ee(r,jt,function(t){return t.name},Bt);if(i){var a=ee(r,Jt.getCompare());return new ie(s,se(e),new re({".priority":a},{".priority":Jt}))}return new ie(s,se(e),re.Default)}Object.defineProperties(Nt,{MIN:{value:new Nt(I,ie.EMPTY_NODE)},MAX:{value:new Nt(O,oe)}}),Lt.__EMPTY_NODE=ie.EMPTY_NODE,Kt.__childrenNodeConstructor=ie,Ot=oe,Ht=oe,zt=se;var ae,le,ue=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.hu)(!wt(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,s.ZT)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=se(t),r=ie.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nt(e,r)},e.prototype.maxPost=function(){var t=ie.EMPTY_NODE.updateChild(this.indexPath_,oe);return new Nt(O,t)},e.prototype.toString=function(){return vt(this.indexPath_,0).join("/")},e}(Ft),ce=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?D(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return Nt.MAX},e.prototype.makePost=function(t,e){var n=se(t);return new Nt(e,n)},e.prototype.toString=function(){return".value"},e}(Ft)),he="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",de=(ae=0,le=[],function(t){var e,n=t===ae;ae=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=he.charAt(t%64),t=Math.floor(t/64);(0,o.hu)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===le[e];e--)le[e]=0;le[e]++}else for(e=0;e<12;e++)le[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=he.charAt(le[e]);return(0,o.hu)(20===i.length,"nextPushId: Length should be 20."),i}),pe=function(t){if("2147483647"===t)return"-";var e=U(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return O;var o=he.charAt(he.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},fe=function(t){if("-2147483648"===t)return I;var e=U(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=he.charAt(he.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function me(t){return{type:"value",snapshotNode:t}}function ge(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ye(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ve(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var _e=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,s){(0,o.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ye(e,a)):(0,o.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ge(e,n)):s.trackChildChange(ve(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Jt,function(t,r){e.hasChild(t)||n.trackChildChange(ye(t,r))}),e.isLeafNode()||e.forEachChild(Jt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve(e,r,i))}else n.trackChildChange(ge(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ie.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),be=function(){function t(e){this.indexedFilter_=new _e(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Nt(e,n))||(n=ie.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ie.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ie.EMPTY_NODE);var i=this;return e.forEachChild(Jt,function(t,e){i.matches(new Nt(t,e))||(r=r.updateImmediateChild(t,ie.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),we=function(){function t(t){this.rangedFilter_=new be(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Nt(e,n))||(n=ie.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ie.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ie.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ie.EMPTY_NODE);var a=void 0,l=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var c=this.index_.getCompare();u=function(t,e){return c(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,l)<=0?o++:r=r.updateImmediateChild(s.name,ie.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var l=t;(0,o.hu)(l.numChildren()===this.limit_,"");var u=new Nt(e,n),c=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(l.hasChild(e)){for(var d=l.getImmediateChild(e),p=r.getChildAfterChild(this.index_,c,this.reverse_);null!=p&&(p.name===e||l.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var f=null==p?1:s(p,u);if(h&&!n.isEmpty()&&f>=0)return null!=i&&i.trackChildChange(ve(e,n,d)),l.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ye(e,d));var m=l.updateImmediateChild(e,ie.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(ge(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?t:h&&s(c,u)>=0?(null!=i&&(i.trackChildChange(ye(c.name,c.node)),i.trackChildChange(ge(e,n))),l.updateImmediateChild(e,n).updateImmediateChild(c.name,ie.EMPTY_NODE)):t},t}(),Ce=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Jt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:O},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Jt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Se(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function xe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Te(t,e){var n=t.copy();return n.index_=e,n}function Ee(t){var e,n={};return t.isDefault()||(t.index_===Jt?e="$priority":t.index_===ce?e="$value":t.index_===Mt?e="$key":((0,o.hu)(t.index_ instanceof ue,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=(0,o.Pz)(e),t.startSet_&&(n.startAt=(0,o.Pz)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+(0,o.Pz)(t.indexStartName_))),t.endSet_&&(n.endAt=(0,o.Pz)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+(0,o.Pz)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function ke(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Jt&&(e.i=t.index_.toString()),e}var Ae=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=x("p:rest:"),o.listens_={},o}return(0,s.ZT)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var l=e.getListenId_(t,r),u={};this.listens_[l]=u;var c=Ee(t._queryParams);this.restRequest_(a+".json",c,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),(0,o.DV)(s.listens_,l)===u&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Ee(t._queryParams),r=t._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var a=(0,s.CR)(i,2),l=a[0],u=a[1];l&&l.accessToken&&(e.auth=l.accessToken),u&&u.token&&(e.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.xO)(e);r.log_("Sending REST request for "+c);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=(0,o.cI)(h.responseText)}catch(e){k("Failed to parse JSON response for "+c+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&k("Got unsuccessful REST response for "+c+" Status: "+h.status),n(h.status);n=null}},h.open("GET",c,!0),h.send()})},e}(ut),Ie=function(){function t(){this.rootNode_=ie.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Oe(){return{value:null,children:new Map}}function De(t,e,n){if(wt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ft(e);t.children.has(r)||t.children.set(r,Oe()),De(t.children.get(r),e=gt(e),n)}}function Re(t,e){if(wt(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Jt,function(e,n){De(t,new dt(e),n)}),Re(t,e)}if(t.children.size>0){var r=ft(e);return e=gt(e),t.children.has(r)&&Re(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function Pe(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){Pe(r,new dt(e.toString()+"/"+t),n)})}var Ne=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,s.pi)({},t);return this.last_&&L(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Fe=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ne(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;L(e,function(e,i){i>0&&(0,o.r3)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Le=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Le||(Le={})),Le))();function Me(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var qe,Ue=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Le.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(wt(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new dt(e));return new t(pt(),n,this.revert)}return(0,o.hu)(ft(this.path)===e,"operationForChild called for unrelated child."),new t(gt(this.path),this.affectedTree,this.revert)},t}(),Ze=function(){function t(t,e){this.source=t,this.path=e,this.type=Le.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,pt()):new t(this.source,gt(this.path))},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Le.OVERWRITE}return t.prototype.operationForChild=function(e){return wt(this.path)?new t(this.source,pt(),this.snap.getImmediateChild(e)):new t(this.source,gt(this.path),this.snap)},t}(),je=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Le.MERGE}return t.prototype.operationForChild=function(e){if(wt(this.path)){var n=this.children.subtree(new dt(e));return n.isEmpty()?null:n.value?new Ve(this.source,pt(),n.value):new t(this.source,pt(),n)}return(0,o.hu)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,gt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Be=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(wt(t))return this.isFullyInitialized()&&!this.filtered_;var e=ft(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ge=function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()};function ze(t,e,n,r,i,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Nt(e.childName,e.snapshotNode),i=new Nt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function He(t,e){return{eventCache:t,serverCache:e}}function Ye(t,e,n,r){return He(new Be(e,n,r),t.serverCache)}function Qe(t,e,n,r){return He(t.eventCache,new Be(e,n,r))}function We(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $e(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Ke=function(){function t(t,e){void 0===e&&(qe||(qe=new Vt(R)),e=qe),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return L(e,function(t,e){n=n.set(new dt(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:pt(),value:this.value};if(wt(t))return null;var n=ft(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(gt(t),e);return null!=i?{path:bt(new dt(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(wt(e))return this;var n=ft(e),r=this.children.get(n);return null!==r?r.subtree(gt(e)):new t(null)},t.prototype.set=function(e,n){if(wt(e))return new t(n,this.children);var r=ft(e),i=(this.children.get(r)||new t(null)).set(gt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(wt(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ft(e),r=this.children.get(n);if(r){var i=r.remove(gt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(wt(t))return this.value;var e=ft(t),n=this.children.get(e);return n?n.get(gt(t)):null},t.prototype.setTree=function(e,n){if(wt(e))return n;var r,i=ft(e),o=(this.children.get(i)||new t(null)).setTree(gt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(pt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(bt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,pt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(wt(t))return null;var i=ft(t),o=this.children.get(i);return o?o.findOnPath_(gt(t),bt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,pt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(wt(e))return this;this.value&&r(n,this.value);var i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(gt(e),bt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(pt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(bt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Je=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Ke(null))},t}();function Xe(t,e,n){if(wt(e))return new Je(new Ke(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Ct(i,e);return o=o.updateChild(s,n),new Je(t.writeTree_.set(i,o))}var a=new Ke(n),l=t.writeTree_.setTree(e,a);return new Je(l)}function tn(t,e,n){var r=t;return L(n,function(t,n){r=Xe(r,bt(e,t),n)}),r}function en(t,e){if(wt(e))return Je.empty();var n=t.writeTree_.setTree(e,new Ke(null));return new Je(n)}function nn(t,e){return null!=rn(t,e)}function rn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Ct(n.path,e)):null}function on(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Jt,function(t,n){e.push(new Nt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Nt(t,n.value))}),e}function sn(t,e){if(wt(e))return t;var n=rn(t,e);return new Je(null!=n?new Ke(n):t.writeTree_.subtree(e))}function an(t){return t.writeTree_.isEmpty()}function ln(t,e){return un(pt(),t.writeTree_,e)}function un(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=un(bt(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(bt(t,".priority"),r)),n}function cn(t,e){return wn(e,t)}function hn(t,e){if(t.snap)return Tt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Tt(bt(t.path,n),e))return!0;return!1}function dn(t){return t.visible}function pn(t,e,n){for(var r=Je.empty(),i=0;i<t.length;++i){var s=t[i];if(e(s)){var a=s.path,l=void 0;if(s.snap)Tt(n,a)?r=Xe(r,l=Ct(n,a),s.snap):Tt(a,n)&&(l=Ct(a,n),r=Xe(r,pt(),s.snap.getChild(l)));else{if(!s.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Tt(n,a))r=tn(r,l=Ct(n,a),s.children);else if(Tt(a,n))if(wt(l=Ct(a,n)))r=tn(r,pt(),s.children);else{var u=(0,o.DV)(s.children,ft(l));if(u){var c=u.getChild(gt(l));r=Xe(r,pt(),c)}}}}}return r}function fn(t,e,n,r,i){if(r||i){var o=sn(t.visibleWrites,e);return!i&&an(o)?n:i||null!=n||nn(o,pt())?ln(pn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Tt(t.path,e)||Tt(e,t.path))},e),n||ie.EMPTY_NODE):null}var s=rn(t.visibleWrites,e);if(null!=s)return s;var a=sn(t.visibleWrites,e);return an(a)?n:null!=n||nn(a,pt())?ln(a,n||ie.EMPTY_NODE):null}function mn(t,e,n,r){return fn(t.writeTree,t.treePath,e,n,r)}function gn(t,e){return function(t,e,n){var r=ie.EMPTY_NODE,i=rn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Jt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=sn(t.visibleWrites,e);return n.forEachChild(Jt,function(t,e){var n=ln(sn(o,new dt(t)),e);r=r.updateImmediateChild(t,n)}),on(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return on(sn(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function yn(t,e,n,r){return function(t,e,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var s=bt(e,n);if(nn(t.visibleWrites,s))return null;var a=sn(t.visibleWrites,s);return an(a)?i.getChild(n):ln(a,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function vn(t,e){return function(t,e){return rn(t.visibleWrites,e)}(t.writeTree,bt(t.treePath,e))}function _n(t,e,n){return function(t,e,n,r){var i=bt(e,n),o=rn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ln(sn(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function bn(t,e){return wn(bt(t.treePath,e),t.writeTree)}function wn(t,e){return{treePath:t,writeTree:e}}var Cn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,ve(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,ye(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,ge(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Sn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),xn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Be(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _n(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$e(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,l=sn(t.visibleWrites,e),u=rn(l,pt());if(null!=u)a=u;else{if(null==n)return[];a=ln(l,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var c=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),p=d.getNext();p&&c.length<1;)0!==h(p,r)&&c.push(p),p=d.getNext();return c}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function Tn(t,e,n,r,i,s){var a=e.eventCache;if(null!=vn(r,n))return e;var l=void 0,u=void 0;if(wt(n))if((0,o.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var c=$e(e),h=gn(r,c instanceof ie?c:ie.EMPTY_NODE);l=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=mn(r,$e(e));l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var p=ft(n);if(".priority"===p){(0,o.hu)(1===mt(n),"Can't have a priority with additional path components");var f=a.getNode(),m=yn(r,n,f,u=e.serverCache.getNode());l=null!=m?t.filter.updatePriority(f,m):a.getNode()}else{var g=gt(n),y=void 0;if(a.isCompleteForChild(p)){u=e.serverCache.getNode();var v=yn(r,n,a.getNode(),u);y=null!=v?a.getNode().getImmediateChild(p).updateChild(g,v):a.getNode().getImmediateChild(p)}else y=_n(r,p,e.serverCache);l=null!=y?t.filter.updateChild(a.getNode(),p,y,g,i,s):a.getNode()}}return Ye(e,l,a.isFullyInitialized()||wt(n),t.filter.filtersNodes())}function En(t,e,n,r,i,o,s,a){var l,u=e.serverCache,c=s?t.filter:t.filter.getIndexedFilter();if(wt(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),h,null)}else{var d=ft(n);if(!u.isCompleteForPath(n)&&mt(n)>1)return e;var p=gt(n),f=u.getNode().getImmediateChild(d).updateChild(p,r);l=".priority"===d?c.updatePriority(u.getNode(),f):c.updateChild(u.getNode(),d,f,p,Sn,null)}var m=Qe(e,l,u.isFullyInitialized()||wt(n),c.filtersNodes());return Tn(t,m,n,i,new xn(i,m,o),a)}function kn(t,e,n,r,i,o,s){var a,l,u=e.eventCache,c=new xn(i,e,o);if(wt(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ye(e,l,!0,t.filter.filtersNodes());else{var h=ft(n);if(".priority"===h)l=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ye(e,l,u.isFullyInitialized(),u.isFiltered());else{var d=gt(n),p=u.getNode().getImmediateChild(h),f=void 0;if(wt(d))f=r;else{var m=c.getCompleteChild(h);f=null!=m?".priority"===yt(d)&&m.getChild(_t(d)).isEmpty()?m:m.updateChild(d,r):ie.EMPTY_NODE}a=p.equals(f)?e:Ye(e,t.filter.updateChild(u.getNode(),h,f,d,c,s),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function An(t,e){return t.eventCache.isCompleteForChild(e)}function In(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function On(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var l,u=e;l=wt(n)?r:new Ke(null).setTree(n,r);var c=e.serverCache.getNode();return l.children.inorderTraversal(function(n,r){if(c.hasChild(n)){var l=In(0,e.serverCache.getNode().getImmediateChild(n),r);u=En(t,u,new dt(n),l,i,o,s,a)}}),l.children.inorderTraversal(function(n,r){var l=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!l){var h=In(0,e.serverCache.getNode().getImmediateChild(n),r);u=En(t,u,new dt(n),h,i,o,s,a)}}),u}var Dn,Rn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new _e(r.getIndex()),o=(n=r).loadsAllData()?new _e(n.getIndex()):n.hasLimit()?new we(n):new be(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,l=i.updateFullNode(ie.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(ie.EMPTY_NODE,a.getNode(),null),c=new Be(l,s.isFullyInitialized(),i.filtersNodes()),h=new Be(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=He(h,c),this.eventGenerator_=new Ge(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Pn(t,e){var n=$e(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!wt(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function Nn(t){return 0===t.eventRegistrations_.length}function Fn(t,e,n){var r=[];if(n){(0,o.hu)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var l=t.eventRegistrations_[a];if(l.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(l)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Ln(t,e,n,r){e.type===Le.MERGE&&null!==e.source.queryId&&((0,o.hu)($e(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(We(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,s,a=t.viewCache_,l=function(t,e,n,r,i){var s,a,l=new Cn;if(n.type===Le.OVERWRITE){var u=n;u.source.fromUser?s=kn(t,e,u.path,u.snap,r,i,l):((0,o.hu)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!wt(u.path),s=En(t,e,u.path,u.snap,r,i,a,l))}else if(n.type===Le.MERGE){var c=n;c.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,l){var u=bt(n,r);An(e,ft(u))&&(a=kn(t,a,u,l,i,o,s))}),r.foreach(function(r,l){var u=bt(n,r);An(e,ft(u))||(a=kn(t,a,u,l,i,o,s))}),a}(t,e,c.path,c.children,r,i,l):((0,o.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=On(t,e,c.path,c.children,r,i,a,l))}else if(n.type===Le.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,i,s){var a;if(null!=vn(r,n))return e;var l=new xn(r,e,i),u=e.eventCache.getNode(),c=void 0;if(wt(n)||".priority"===ft(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=mn(r,$e(e));else{var d=e.serverCache.getNode();(0,o.hu)(d instanceof ie,"serverChildren would be complete if leaf node"),h=gn(r,d)}c=t.filter.updateFullNode(u,h=h,s)}else{var p=ft(n),f=_n(r,p,e.serverCache);null==f&&e.serverCache.isCompleteForChild(p)&&(f=u.getImmediateChild(p)),(c=null!=f?t.filter.updateChild(u,p,f,gt(n),l,s):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(u,p,ie.EMPTY_NODE,gt(n),l,s):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=mn(r,$e(e))).isLeafNode()&&(c=t.filter.updateFullNode(c,a,s))}return a=e.serverCache.isFullyInitialized()||null!=vn(r,pt()),Ye(e,c,a,t.filter.filtersNodes())}(t,e,h.path,r,i,l):function(t,e,n,r,i,o,s){if(null!=vn(i,n))return e;var a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(wt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return En(t,e,n,l.getNode().getChild(n),i,o,a,s);if(wt(n)){var u=new Ke(null);return l.getNode().forEachChild(Mt,function(t,e){u=u.set(new dt(t),e)}),On(t,e,n,u,i,o,a,s)}return e}var c=new Ke(null);return r.foreach(function(t,e){var r=bt(n,t);l.isCompleteForPath(r)&&(c=c.set(t,l.getNode().getChild(r)))}),On(t,e,n,c,i,o,a,s)}(t,e,h.path,h.affectedTree,r,i,l)}else{if(n.type!==Le.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return Tn(t,Qe(e,o.getNode(),o.isFullyInitialized()||wt(n),o.isFiltered()),n,r,Sn,i)}(t,e,n.path,r,l)}var d=l.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=We(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(me(We(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return i=t.processor_,(0,o.hu)((s=l.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(l.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=l.viewCache,Mn(t,l.changes,l.viewCache.eventCache.getNode(),null)}function Mn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),ze(t,i,"child_removed",e,r,n),ze(t,i,"child_added",e,r,n),ze(t,i,"child_moved",o,r,n),ze(t,i,"child_changed",e,r,n),ze(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var qn,Un=function(){this.views=new Map};function Zn(t,e,n,r){var i,a,l=e.source.queryId;if(null!==l){var u=t.views.get(l);return(0,o.hu)(null!=u,"SyncTree gave us an op for an invalid query."),Ln(u,e,n,r)}var c=[];try{for(var h=(0,s.XA)(t.views.values()),d=h.next();!d.done;d=h.next())c=c.concat(Ln(u=d.value,e,n,r))}catch(p){i={error:p}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(i)throw i.error}}return c}function Vn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=mn(n,i?r:null),a=!1;s?a=!0:r instanceof ie?(s=gn(n,r),a=!1):(s=ie.EMPTY_NODE,a=!1);var l=He(new Be(s,a,!1),new Be(r,i,!1));return new Rn(e,l)}return o}function jn(t){var e,n,r=[];try{for(var i=(0,s.XA)(t.views.values()),o=i.next();!o.done;o=i.next()){var a=o.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Bn(t,e){var n,r,i=null;try{for(var o=(0,s.XA)(t.views.values()),a=o.next();!a.done;a=o.next())i=i||Pn(a.value,e)}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Gn(t,e){return e._queryParams.loadsAllData()?Yn(t):t.views.get(e._queryIdentifier)}function zn(t,e){return null!=Gn(t,e)}function Hn(t){return null!=Yn(t)}function Yn(t){var e,n;try{for(var r=(0,s.XA)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Qn=1,Wn=function(t){this.listenProvider_=t,this.syncPointTree_=new Ke(null),this.pendingWriteTree_={visibleWrites:Je.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function $n(t,e,n,r,i){return function(t,e,n,r,i){(0,o.hu)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Xe(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?nr(t,new Ve({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Kn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,s=!1,a=t.allWrites.length-1;i&&a>=0;){var l=t.allWrites[a];l.visible&&(a>=n&&hn(l,r.path)?i=!1:Tt(r.path,l.path)&&(s=!0)),a--}return!!i&&(s?(function(t){t.visibleWrites=pn(t.allWrites,dn,pt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=en(t.visibleWrites,r.path):L(r.children,function(e){t.visibleWrites=en(t.visibleWrites,bt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var i=new Ke(null);return null!=r.snap?i=i.set(pt(),!0):L(r.children,function(t){i=i.set(new dt(t),!0)}),nr(t,new Ue(r.path,i,n))}return[]}function Jn(t,e,n){return nr(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Xn(t,e,n,r){var i=e._path,a=t.syncPointTree_.get(i),l=[];if(a&&("default"===e._queryIdentifier||zn(a,e))){var u=function(t,e,n,r){var i,a,l=e._queryIdentifier,u=[],c=[],h=Hn(t);if("default"===l)try{for(var d=(0,s.XA)(t.views.entries()),p=d.next();!p.done;p=d.next()){var f,m=(0,s.CR)(p.value,2),g=m[0];c=c.concat(Fn(f=m[1],n,r)),Nn(f)&&(t.views.delete(g),f.query._queryParams.loadsAllData()||u.push(f.query))}}catch(y){i={error:y}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(i)throw i.error}}else(f=t.views.get(l))&&(c=c.concat(Fn(f,n,r)),Nn(f)&&(t.views.delete(l),f.query._queryParams.loadsAllData()||u.push(f.query)));return h&&!Hn(t)&&u.push(new((0,o.hu)(Dn,"Reference.ts has not been loaded"),Dn)(e._repo,e._path)),{removed:u,events:c}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var c=u.removed;l=u.events;var h=-1!==c.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(i,function(t,e){return Hn(e)});if(h&&!d){var p=t.syncPointTree_.subtree(i);if(!p.isEmpty())for(var f=function(t){return t.fold(function(t,e,n){if(e&&Hn(e))return[Yn(e)];var r=[];return e&&(r=jn(e)),L(n,function(t,e){r=r.concat(e)}),r})}(p),m=0;m<f.length;++m){var g=f[m],y=g.query,v=or(t,g);t.listenProvider_.startListening(hr(y),sr(t,y),v.hashFn,v.onComplete)}}!d&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(hr(e),null):c.forEach(function(e){var n=t.queryToTagMap.get(ar(e));t.listenProvider_.stopListening(hr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=ar(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,c)}return l}function tr(t,e,n){var r=e._path,i=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=Ct(t,r);i=i||Bn(e,n),s=s||Hn(e)});var a,l=t.syncPointTree_.get(r);l?(s=s||Hn(l),i=i||Bn(l,pt())):(l=new Un,t.syncPointTree_=t.syncPointTree_.set(r,l)),null!=i?a=!0:(a=!1,i=ie.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Bn(e,pt());n&&(i=i.updateImmediateChild(t,n))}));var u=zn(l,e);if(!u&&!e._queryParams.loadsAllData()){var c=ar(e);(0,o.hu)(!t.queryToTagMap.has(c),"View does not exist, but we have a tag");var h=Qn++;t.queryToTagMap.set(c,h),t.tagToQueryMap.set(h,c)}var d=function(t,e,n,r,i,o){var s=Vn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Jt,function(t,e){r.push(ge(t,e))}),n.isFullyInitialized()&&r.push(me(n.getNode())),Mn(t,r,n.getNode(),e)}(s,n)}(l,e,n,cn(t.pendingWriteTree_,r),i,a);if(!u&&!s){var p=Gn(l,e);d=d.concat(function(t,e,n){var r=e._path,i=sr(t,e),s=or(t,n),a=t.listenProvider_.startListening(hr(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)(0,o.hu)(!Hn(l.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=l.fold(function(t,e,n){if(!wt(t)&&e&&Hn(e))return[Yn(e).query];var r=[];return e&&(r=r.concat(jn(e).map(function(t){return t.query}))),L(n,function(t,e){r=r.concat(e)}),r}),c=0;c<u.length;++c){var h=u[c];t.listenProvider_.stopListening(hr(h),sr(t,h))}return a}(t,e,p))}return d}function er(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Bn(n,Ct(t,e));if(r)return r});return fn(r,e,i,n,!0)}function nr(t,e){return rr(e,t.syncPointTree_,null,cn(t.pendingWriteTree_,pt()))}function rr(t,e,n,r){if(wt(t.path))return ir(t,e,n,r);var i=e.get(pt());null==n&&null!=i&&(n=Bn(i,pt()));var o=[],s=ft(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){var u=n?n.getImmediateChild(s):null,c=bn(r,s);o=o.concat(rr(a,l,u,c))}return i&&(o=o.concat(Zn(i,t,r,n))),o}function ir(t,e,n,r){var i=e.get(pt());null==n&&null!=i&&(n=Bn(i,pt()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=bn(r,e),l=t.operationForChild(e);l&&(o=o.concat(ir(l,i,s,a)))}),i&&(o=o.concat(Zn(i,t,r,n))),o}function or(t,e){var n=e.query,r=sr(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||ie.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=lr(t,n);if(r){var i=ur(r),o=i.path,s=i.queryId,a=Ct(o,e);return cr(t,o,new Ze(Me(s),a))}return[]}(t,n._path,r):function(t,e){return nr(t,new Ze({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Xn(t,n,null,i)}}}function sr(t,e){var n=ar(e);return t.queryToTagMap.get(n)}function ar(t){return t._path.toString()+"$"+t._queryIdentifier}function lr(t,e){return t.tagToQueryMap.get(e)}function ur(t){var e=t.indexOf("$");return(0,o.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new dt(t.substr(0,e))}}function cr(t,e,n){var r=t.syncPointTree_.get(e);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Zn(r,n,cn(t.pendingWriteTree_,e),null)}function hr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new((0,o.hu)(qn,"Reference.ts has not been loaded"),qn)(t._repo,t._path):t}var dr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),pr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=bt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return er(this.syncTree_,this.path_)},t}(),fr=function(t,e,n){return t&&"object"==typeof t?((0,o.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?mr(t[".sv"],e,n):"object"==typeof t[".sv"]?gr(t[".sv"],e):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},mr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:(0,o.hu)(!1,"Unexpected server value: "+t)}},gr=function(t,e,n){t.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var s=i.getValue();return"number"!=typeof s?r:s+r},yr=function(t,e,n,r){return _r(e,new pr(n,t),r)},vr=function(t,e,n){return _r(t,new dr(e),n)};function _r(t,e,n){var r,i=t.getPriority().val(),o=fr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=fr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Kt(a,se(o)):t}var l=t;return r=l,o!==l.getPriority().val()&&(r=r.updatePriority(new Kt(o))),l.forEachChild(Jt,function(t,i){var o=_r(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var br=function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n};function wr(t,e){for(var n=e instanceof dt?e:new dt(e),r=t,i=ft(n);null!==i;){var s=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new br(i,r,s),i=ft(n=gt(n))}return r}function Cr(t){return t.node.value}function Sr(t,e){t.node.value=e,Ar(t)}function xr(t){return t.node.childCount>0}function Tr(t,e){L(t.node.children,function(n,r){e(new br(n,t,r))})}function Er(t,e,n,r){n&&!r&&e(t),Tr(t,function(t){Er(t,e,!0,r)}),n&&r&&e(t)}function kr(t){return new dt(null===t.parent?t.name:kr(t.parent)+"/"+t.name)}function Ar(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Cr(t)&&!xr(t)}(n),i=(0,o.r3)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Ar(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,Ar(t))}(t.parent,t.name,t)}var Ir=/[\[\].#$\/\u0000-\u001F\u007F]/,Or=/[\[\].#$\u0000-\u001F\u007F]/,Dr=10485760,Rr=function(t){return"string"==typeof t&&0!==t.length&&!Ir.test(t)},Pr=function(t){return"string"==typeof t&&0!==t.length&&!Or.test(t)},Nr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!A(t)||t&&"object"==typeof t&&(0,o.r3)(t,".sv")},Fr=function(t,e,n,r){r&&void 0===e||Lr((0,o.gK)(t,"value"),e,n)},Lr=function(t,e,n){var r=n instanceof dt?new Et(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+At(r));if("function"==typeof e)throw new Error(t+"contains a function "+At(r)+" with contents = "+e.toString());if(A(e))throw new Error(t+"contains "+e.toString()+" "+At(r));if("string"==typeof e&&e.length>Dr/3&&(0,o.ug)(e)>Dr)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+At(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,s=!1;if(L(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Rr(e)))throw new Error(t+" contains an invalid key ("+e+") "+At(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,l;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.ug)(e),kt(t)}(r,e),Lr(t,n,r),l=(a=r).parts_.pop(),a.byteLength_-=(0,o.ug)(l),a.parts_.length>0&&(a.byteLength_-=1)}),i&&s)throw new Error(t+' contains ".value" child '+At(r)+" in addition to actual children.")}},Mr=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.gK)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var s=[];L(e,function(t,e){var r=new dt(t);if(Lr(i,e,bt(n,r)),".priority"===yt(r)&&!Nr(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=vt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Rr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(St);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Tt(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(i,s)}},qr=function(t,e,n){if(!n||void 0!==e){if(A(e))throw new Error((0,o.gK)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Nr(e))throw new Error((0,o.gK)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ur=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Zr=function(t,e,n,r){if(!(r&&void 0===n||Rr(n)))throw new Error((0,o.gK)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vr=function(t,e,n,r){if(!(r&&void 0===n||Pr(n)))throw new Error((0,o.gK)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jr=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},Br=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Rr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Pr(t)}(n))throw new Error((0,o.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Gr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error((0,o.gK)(t,e)+"must be a boolean.")},zr=function(){this.eventLists_=[],this.recursionDepth_=0};function Hr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||xt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Yr(t,e,n){Hr(t,n),Wr(t,function(t){return xt(t,e)})}function Qr(t,e,n){Hr(t,n),Wr(t,function(t){return Tt(t,e)||Tt(e,t)})}function Wr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?($r(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function $r(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();b&&S("event: "+n.toString()),Z(r)}}}var Kr="repo_interrupt",Jr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Oe(),this.transactionQueueTree_=new br,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Xr(t){var e=t.infoData_.getNode(new dt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ti(t){return(e=(e={timestamp:Xr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ei(t,e,n,r,i){t.dataUpdateCount++;var s=new dt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(i)if(r){var l=(0,o.UI)(n,function(t){return se(t)});a=function(t,e,n,r){var i=lr(t,r);if(i){var o=ur(i),s=o.path,a=o.queryId,l=Ct(s,e),u=Ke.fromObject(n);return cr(t,s,new je(Me(a),l,u))}return[]}(t.serverSyncTree_,s,l,i)}else{var u=se(n);a=function(t,e,n,r){var i=lr(t,r);if(null!=i){var o=ur(i),s=o.path,a=o.queryId,l=Ct(s,e);return cr(t,s,new Ve(Me(a),l,n))}return[]}(t.serverSyncTree_,s,u,i)}else if(r){var c=(0,o.UI)(n,function(t){return se(t)});a=function(t,e,n){var r=Ke.fromObject(n);return nr(t,new je({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,c)}else{var h=se(n);a=Jn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=fi(t,s)),Qr(t.eventQueue_,d,a)}function ni(t,e){ri(t,"connected",e),!1===e&&function(t){ci(t,"onDisconnectEvents");var e=ti(t),n=Oe();Pe(t.onDisconnect_,pt(),function(r,i){var o=yr(r,i,t.serverSyncTree_,e);De(n,r,o)});var r=[];Pe(n,pt(),function(e,n){r=r.concat(Jn(t.serverSyncTree_,e,n));var i=_i(t,e);fi(t,i)}),t.onDisconnect_=Oe(),Qr(t.eventQueue_,pt(),r)}(t)}function ri(t,e,n){var r=new dt("/.info/"+e),i=se(n);t.infoData_.updateSnapshot(r,i);var o=Jn(t.infoSyncTree_,r,i);Qr(t.eventQueue_,r,o)}function ii(t){return t.nextWriteId_++}function oi(t,e,n,r,i){ci(t,"set",{path:e.toString(),value:n,priority:r});var o=ti(t),s=se(n,r),a=er(t.serverSyncTree_,e),l=vr(s,a,o),u=ii(t),c=$n(t.serverSyncTree_,e,l,u,!0);Hr(t.eventQueue_,c),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||k("set at "+e+" failed: "+n);var s=Kn(t.serverSyncTree_,u,!o);Qr(t.eventQueue_,e,s),hi(0,i,n,r)});var h=_i(t,e);fi(t,h),Qr(t.eventQueue_,h,[])}function si(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Re(t.onDisconnect_,e),hi(0,n,r,i)})}function ai(t,e,n,r){var i=se(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&De(t.onDisconnect_,e,i),hi(0,r,n,o)})}function li(t,e,n){var r;r=".info"===ft(e._path)?Xn(t.infoSyncTree_,e,n):Xn(t.serverSyncTree_,e,n),Yr(t.eventQueue_,e._path,r)}function ui(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Kr)}function ci(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),S.apply(void 0,(0,s.ev)([r],(0,s.CR)(e)))}function hi(t,e,n,r){e&&Z(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function di(t,e,n){return er(t.serverSyncTree_,e,n)||ie.EMPTY_NODE}function pi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||vi(t,e),Cr(e)){var n=gi(t,e);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=di(t,e,r),s=i,a=i.hash(),l=0;l<n.length;l++){var u=n[l];(0,o.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=Ct(e,u.path);s=s.updateChild(c,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(r){ci(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Kn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(vi(t,wr(t.transactionQueueTree_,e)),pi(t,t.transactionQueueTree_),Qr(t.eventQueue_,e,i),a=0;a<o.length;a++)Z(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(k("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;fi(t,e)}},a)}(t,kr(e),n)}else xr(e)&&Tr(e,function(e){pi(t,e)})}function fi(t,e){var n=mi(t,e),r=kr(n);return function(t,e,n){if(0!==e.length){for(var r=[],i=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var l,u=e[a],c=Ct(n,u.path),h=!1;if((0,o.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,l=u.abortReason,i=i.concat(Kn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,l="maxretry",i=i.concat(Kn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=di(t,u.path,s);u.currentInputSnapshot=d;var p=e[a].update(d.val());if(void 0!==p){Lr("transaction failed: Data returned ",p,u.path);var f=se(p);"object"==typeof p&&null!=p&&(0,o.r3)(p,".priority")||(f=f.updatePriority(d.getPriority()));var m=u.currentWriteId,g=ti(t),y=vr(f,d,g);u.currentOutputSnapshotRaw=f,u.currentOutputSnapshotResolved=y,u.currentWriteId=ii(t),s.splice(s.indexOf(m),1),i=(i=i.concat($n(t.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally))).concat(Kn(t.serverSyncTree_,m,!0))}else h=!0,l="nodata",i=i.concat(Kn(t.serverSyncTree_,u.currentWriteId,!0))}Qr(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===l?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(l),!1,null)}))},l=0;l<e.length;l++)a(l);for(vi(t,t.transactionQueueTree_),l=0;l<r.length;l++)Z(r[l]);pi(t,t.transactionQueueTree_)}}(t,gi(t,n),r),r}function mi(t,e){var n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===Cr(r);)r=wr(r,n),n=ft(e=gt(e));return r}function gi(t,e){var n=[];return yi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function yi(t,e,n){var r=Cr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Tr(e,function(e){yi(t,e,n)})}function vi(t,e){var n=Cr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Sr(e,n.length>0?n:void 0)}Tr(e,function(e){vi(t,e)})}function _i(t,e){var n=kr(mi(t,e)),r=wr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){bi(t,e)}),bi(t,r),Er(r,function(e){bi(t,e)}),n}function bi(t,e){var n=Cr(e);if(n){for(var r=[],i=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?((0,o.hu)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):((0,o.hu)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(Kn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Sr(e,void 0):n.length=s+1,Qr(t.eventQueue_,kr(e),i),a=0;a<r.length;a++)Z(r[a])}}var wi=function(t,e){var n=Ci(t),r=n.namespace;return"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Q(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new dt(n.pathString)}},Ci=function(t){var e="",n="",r="",i="",o="",a=!0,l="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(l=t.substring(0,c-1),t=t.substring(c+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,s.XA)(t.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value;if(0!==a.length){var l=a.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):k("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(c=e.indexOf(":"))>=0?(a="https"===l||"wss"===l,u=parseInt(e.substring(c+1),10)):c=e.length;var f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:l,pathString:i,namespace:o}},Si=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},t}(),xi=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ti=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Ei=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.BH;return si(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){jr("OnDisconnect.remove",this._path);var t=new o.BH;return ai(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){jr("OnDisconnect.set",this._path),Fr("OnDisconnect.set",t,this._path,!1);var e=new o.BH;return ai(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){jr("OnDisconnect.setWithPriority",this._path),Fr("OnDisconnect.setWithPriority",t,this._path,!1),qr("OnDisconnect.setWithPriority",e,!1);var n=new o.BH;return function(t,e,n,r,i){var o=se(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&De(t.onDisconnect_,e,o),hi(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){jr("OnDisconnect.update",this._path),Mr("OnDisconnect.update",t,this._path,!1);var e=new o.BH;return function(t,e,n,r){if((0,o.xb)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void hi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&L(n,function(n,r){var i=se(r);De(t.onDisconnect_,bt(e,n),i)}),hi(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),ki=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return wt(this._path)?null:yt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Di(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=ke(this._queryParams),e=N(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return ke(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=(0,o.m9)(e))instanceof t))return!1;var n=this._repo===e._repo,r=xt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function Ai(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ii(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Mt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==O)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Jt){if(null!=e&&!Nr(e)||null!=n&&!Nr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(t.getIndex()instanceof ue||t.getIndex()===ce,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Oi(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Di=function(t){function e(e,n){return t.call(this,e,n,new Ce,!1)||this}return(0,s.ZT)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=_t(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(ki),Ri=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new dt(e),r=Fi(this.ref,e);return new t(this._node.getChild(n),r,Jt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Fi(n.ref,r),Jt))})},t.prototype.hasChild=function(t){var e=new dt(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Pi(t,e){return(t=(0,o.m9)(t))._checkNotDeleted("ref"),void 0!==e?Fi(t._root,e):t._root}function Ni(t,e){(t=(0,o.m9)(t))._checkNotDeleted("refFromURL");var n=wi(e,t._repo.repoInfo_.nodeAdmin);Br("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Pi(t,n.path.toString())}function Fi(t,e){var n;return null===ft((t=(0,o.m9)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vr("child","path",n,!1)):Vr("child","path",e,!1),new Di(t._repo,bt(t._path,e))}function Li(t,e){t=(0,o.m9)(t),jr("push",t._path),Fr("push",e,t._path,!0);var n,r=Xr(t._repo),i=de(r),s=Fi(t,i),a=Fi(t,i);return n=null!=e?qi(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function Mi(t){return jr("remove",t._path),qi(t,null)}function qi(t,e){t=(0,o.m9)(t),jr("set",t._path),Fr("set",e,t._path,!1);var n=new o.BH;return oi(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Ui(t,e){t=(0,o.m9)(t),jr("setPriority",t._path),qr("setPriority",e,!1);var n=new o.BH;return oi(t._repo,bt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Zi(t,e,n){if(jr("setWithPriority",t._path),Fr("setWithPriority",e,t._path,!1),qr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.BH;return oi(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Vi(t,e){Mr("update",e,t._path,!1);var n=new o.BH;return function(t,e,n,r){ci(t,"update",{path:e.toString(),value:n});var i=!0,s=ti(t),a={};if(L(n,function(n,r){i=!1,a[n]=yr(bt(e,n),se(r),t.serverSyncTree_,s)}),i)S("update() called with empty data.  Don't do anything."),hi(0,r,"ok",void 0);else{var l=ii(t),u=function(t,e,n,r){!function(t,e,n,r){(0,o.hu)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=tn(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=Ke.fromObject(n);return nr(t,new je({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,e,a,l);Hr(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||k("update at "+e+" failed: "+n);var s=Kn(t.serverSyncTree_,l,!o),a=s.length>0?fi(t,e):e;Qr(t.eventQueue_,a,s),hi(0,r,n,i)}),L(n,function(n){var r=_i(t,bt(e,n));fi(t,r)}),Qr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var ji=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Si("value",this,new Ri(t.snapshotNode,new Di(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new xi(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Bi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new xi(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.hu)(null!=t.childName,"Child events should have a childName.");var n=Fi(new Di(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Si(t.type,this,new Ri(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Gi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){li(t._repo,t,u),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var l=new Ti(n,o||void 0),u="value"===e?new ji(l):new Bi(e,l);return function(t,e,n){var r;r=".info"===ft(e._path)?tr(t.infoSyncTree_,e,n):tr(t.serverSyncTree_,e,n),Yr(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return li(t._repo,t,u)}}function zi(t,e,n,r){return Gi(t,"value",e,n,r)}function Hi(t,e,n,r){return Gi(t,"child_added",e,n,r)}function Yi(t,e,n,r){return Gi(t,"child_changed",e,n,r)}function Qi(t,e,n,r){return Gi(t,"child_moved",e,n,r)}function Wi(t,e,n,r){return Gi(t,"child_removed",e,n,r)}function $i(t,e,n){var r=null,i=n?new Ti(n):null;"value"===e?r=new ji(i):e&&(r=new Bi(e,i)),li(t._repo,t,r)}var Ki=function(){},Ji=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Fr("endAt",this._value,t._path,!0);var e=xe(t._queryParams,this._value,this._key);if(Oi(e),Ii(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ki(t._repo,t._path,e,t._orderByCalled)},e}(Ki);function Xi(t,e){return Zr("endAt","key",e,!0),new Ji(t,e)}var to=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Fr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Mt?("string"==typeof n&&(n=fe(n)),i=xe(e,n,r)):i=xe(e,n,null==r?I:fe(r)),i.endBeforeSet_=!0,i);if(Oi(o),Ii(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ki(t._repo,t._path,o,t._orderByCalled)},e}(Ki);function eo(t,e){return Zr("endBefore","key",e,!0),new to(t,e)}var no=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Fr("startAt",this._value,t._path,!0);var e=Se(t._queryParams,this._value,this._key);if(Oi(e),Ii(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ki(t._repo,t._path,e,t._orderByCalled)},e}(Ki);function ro(t,e){return void 0===t&&(t=null),Zr("startAt","key",e,!0),new no(t,e)}var io=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Fr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===Mt?("string"==typeof n&&(n=pe(n)),i=Se(e,n,r)):i=Se(e,n,null==r?O:pe(r)),i.startAfterSet_=!0,i);if(Oi(o),Ii(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ki(t._repo,t._path,o,t._orderByCalled)},e}(Ki);function oo(t,e){return Zr("startAfter","key",e,!0),new io(t,e)}var so=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ki(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Ki);function ao(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new so(t)}var lo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,s.ZT)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ki(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Ki);function uo(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new lo(t)}var co=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ai(t,"orderByChild");var e=new dt(this._path);if(wt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ue(e),r=Te(t._queryParams,n);return Ii(r),new ki(t._repo,t._path,r,!0)},e}(Ki);function ho(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vr("orderByChild","path",t,!1),new co(t)}var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ai(t,"orderByKey");var e=Te(t._queryParams,Mt);return Ii(e),new ki(t._repo,t._path,e,!0)},e}(Ki);function fo(){return new po}var mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ai(t,"orderByPriority");var e=Te(t._queryParams,Jt);return Ii(e),new ki(t._repo,t._path,e,!0)},e}(Ki);function go(){return new mo}var yo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,s.ZT)(e,t),e.prototype._apply=function(t){Ai(t,"orderByValue");var e=Te(t._queryParams,ce);return Ii(e),new ki(t._repo,t._path,e,!0)},e}(Ki);function vo(){return new yo}var _o=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,s.ZT)(e,t),e.prototype._apply=function(t){if(Fr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Ji(this._value,this._key)._apply(new no(this._value,this._key)._apply(t))},e}(Ki);function bo(t,e){return Zr("equalTo","key",e,!0),new _o(t,e)}function wo(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=(0,o.m9)(t);try{for(var l=(0,s.XA)(r),u=l.next();!u.done;u=l.next()){var c=u.value;a=c._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return a}!function(t){(0,o.hu)(!Dn,"__referenceConstructor has already been defined"),Dn=t}(Di),function(t){(0,o.hu)(!qn,"__referenceConstructor has already been defined"),qn=t}(Di);var Co={},So=!1;function xo(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=wi(o,i),l=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,l=(a=wi(o="http://"+u+"?ns="+l.namespace,i)).repoInfo):s=!a.repoInfo.secure;var c=i&&s?new G(G.OWNER):new B(t.name,t.options,e);Br("Invalid Firebase Database URL",a),wt(a.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=Co[e.name];i||(Co[e.name]=i={});var o=i[t.toURLString()];return o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jr(t,So,n,r),i[t.toURLString()]=o,o}(l,t,c,new j(t.name,n));return new To(h,t)}var To=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=X(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new Ae(t.repoInfo_,function(e,n,r,i){ei(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ni(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Pt(t.repoInfo_,e,function(e,n,r,i){ei(t,e,n,r,i)},function(e){ni(t,e)},function(e){!function(t,e){L(e,function(e,n){ri(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Fe(t.stats_,t.server_)},i=t.repoInfo_.toString(),J[i]||(J[i]=r()),J[i]),t.infoData_=new Ie,t.infoSyncTree_=new Wn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Jn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ri(t,"connected",!1),t.serverSyncTree_=new Wn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Qr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Di(this._repo,pt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return null!==this._rootInternal&&(t=this._repo,(n=Co[e=this.app.name])&&n[t.key]===t||E("Database "+e+"("+t.repoInfo_+") has already been deleted."),ui(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&E("Cannot call "+t+" on a deleted database.")},t}();function Eo(t){(t=(0,o.m9)(t))._checkNotDeleted("goOffline"),ui(t._repo)}function ko(t){var e;(t=(0,o.m9)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Kr)}var Ao={".sv":"timestamp"},Io=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Oo(t,e,n){var r;if(t=(0,o.m9)(t),jr("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new o.BH,a=zi(t,function(){});return function(e,n,r,i,a,l){ci(e,"transaction on "+n);var u={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Ri(r,new Di(t._repo,t._path),Jt),s.resolve(new Io(n,i)))},status:null,order:y(),applyLocally:l,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=di(e,n,void 0);u.currentInputSnapshot=c;var h=u.update(c.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Lr("transaction failed: Data returned ",h,u.path),u.status=0;var d=wr(e.transactionQueueTree_,n),p=Cr(d)||[];p.push(u),Sr(d,p);var f=void 0;"object"==typeof h&&null!==h&&(0,o.r3)(h,".priority")?(f=(0,o.DV)(h,".priority"),(0,o.hu)(Nr(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):f=(er(e.serverSyncTree_,n)||ie.EMPTY_NODE).getPriority().val();var m=ti(e),g=se(h,f),v=vr(g,c,m);u.currentOutputSnapshotRaw=g,u.currentOutputSnapshotResolved=v,u.currentWriteId=ii(e);var _=$n(e.serverSyncTree_,n,v,u.currentWriteId,u.applyLocally);Qr(e.eventQueue_,n,_),pi(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,i),s.promise}var Do=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},t}(),Ro=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Po=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Vr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Fo(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),No=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var s,a=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var l=t.getCancelAndContextArgs_("Query.on",r,i),u=function(t,e){n.call(l.context,new Po(a.database,t),e)};u.userCallback=n,u.context=l.context;var c=null===(s=l.cancel)||void 0===s?void 0:s.bind(l.context);switch(e){case"value":return zi(this._delegate,u,c),n;case"child_added":return Hi(this._delegate,u,c),n;case"child_removed":return Wi(this._delegate,u,c),n;case"child_changed":return Yi(this._delegate,u,c),n;case"child_moved":return Qi(this._delegate,u,c),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Ur("Query.off",t,!0),(0,o.Wj)("Query.off","callback",e,!0),(0,o.lb)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,$i(this._delegate,t,r)}else $i(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=Ct(t,n);r=r||Bn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Bn(i,pt()):(i=new Un,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new Be(r,!0,!1):null;return We(Vn(i,e,cn(t.pendingWriteTree_,e._path),o?s.getNode():ie.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=se(n).withIndex(e._queryParams.getIndex()),i=Jn(t.serverSyncTree_,e._path,r);return Yr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ci(t,"get for query "+(0,o.Pz)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=(0,o.m9)(t))._repo,t).then(function(e){return new Ri(e,new Di(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Po(t.database,e)})},t.prototype.once=function(e,n,r,i){var s=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),l=new o.BH,u=function(t,e){var r=new Po(s.database,t);n&&n.call(a.context,r,e),l.resolve(r)};u.userCallback=n,u.context=a.context;var c=function(t){a.cancel&&a.cancel.call(a.context,t),l.reject(t)};switch(e){case"value":zi(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":Hi(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":Wi(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":Yi(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":Qi(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise},t.prototype.limitToFirst=function(e){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new t(this.database,wo(this._delegate,ao(e)))},t.prototype.limitToLast=function(e){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new t(this.database,wo(this._delegate,uo(e)))},t.prototype.orderByChild=function(e){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new t(this.database,wo(this._delegate,ho(e)))},t.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new t(this.database,wo(this._delegate,fo()))},t.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new t(this.database,wo(this._delegate,go()))},t.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new t(this.database,wo(this._delegate,vo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new t(this.database,wo(this._delegate,ro(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new t(this.database,wo(this._delegate,oo(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new t(this.database,wo(this._delegate,Xi(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new t(this.database,wo(this._delegate,eo(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new t(this.database,wo(this._delegate,bo(e,n)))},t.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.Wj)(t,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,o.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new Fo(this.database,new Di(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),Fo=function(t){function e(e,n){var r=t.call(this,e,new ki(n._repo,n._path,new Ce,!1))||this;return r.database=e,r._delegate=n,r}return(0,s.ZT)(e,t),e.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Fi(this._delegate,t))},e.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",e,!0);var n=qi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",e,!0);var i=Vi(this._delegate,t);return e&&i.then(function(){return e(null)},function(t){return e(t)}),i},e.prototype.setWithPriority=function(t,e,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=Zi(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",t,!0);var e=Mi(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,o.Wj)("Reference.transaction","onComplete",e,!0),Gr("Reference.transaction","applyLocally",n,!0);var i=Oo(this._delegate,t,{applyLocally:n}).then(function(t){return new Ro(t.committed,new Po(r.database,t.snapshot))});return e&&i.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),i},e.prototype.setPriority=function(t,e){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",e,!0);var n=Ui(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Li(this._delegate,t),s=i.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,i);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return jr("Reference.onDisconnect",this._delegate._path),new Do(new Ei(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(No),Lo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=(0,o.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,s=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new G(G.OWNER);else if(r.mockUserToken){var a="string"==typeof r.mockUserToken?r.mockUserToken:(0,o.Sg)(r.mockUserToken,t.app.options.projectId);s=new G(a)}!function(t,e,n,r){t.repoInfo_=new Q(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.Dv)("database.ref",0,1,arguments.length),t instanceof Fo){var e=Ni(this._delegate,t.toString());return new Fo(this,e)}return e=Pi(this._delegate,t),new Fo(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.Dv)(e,1,1,arguments.length);var n=Ni(this._delegate,t);return new Fo(this,n)},t.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),Eo(this._delegate)},t.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),ko(this._delegate)},t.ServerValue={TIMESTAMP:Ao,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),Mo=Object.freeze({__proto__:null,forceLongPolling:function(){st.forceDisallow(),rt.forceAllow()},forceWebSockets:function(){rt.forceDisallow()},isWebSocketsAvailable:function(){return st.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Ne(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);L(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;u(t.version);var l=new i.zt("auth-internal",new i.H0("database-standalone"));return l.setComponent(new i.wA("auth-internal",function(){return r},"PRIVATE")),{instance:new Lo(xo(e,l,void 0,n,a),e),namespace:o}}}),qo=Pt;Pt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Pt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Uo=Object.freeze({__proto__:null,DataConnection:qo,RealTimeConnection:lt,hijackHash:function(t){var e=Pt.prototype.put;return Pt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Pt.prototype.put=e}},ConnectionTarget:Q,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){So=t}(t)}}),Zo=Lo.ServerValue;!function(e){u(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.wA("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Lo(xo(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:Fo,Query:No,Database:Lo,DataSnapshot:Po,enableLogging:C,INTERNAL:Mo,ServerValue:Zo,TEST_ACCESS:Uo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.11.0"),(0,o.Yr)()&&(t.exports=n)}(r.Z)},300:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>p});var o=[],s=(()=>(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(s||(s={})),s))(),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),c=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=l,this._logHandler=c,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},4685:(t,e,n)=>{"use strict";n.d(e,{BH:()=>p,LL:()=>k,gQ:()=>Z,hu:()=>i,g5:()=>o,US:()=>a,h$:()=>l,r3:()=>F,Sg:()=>f,ne:()=>V,p$:()=>h,ZB:()=>d,gK:()=>z,m9:()=>$,z$:()=>m,GJ:()=>N,jU:()=>v,ru:()=>_,d:()=>w,xb:()=>M,w1:()=>C,uI:()=>g,UG:()=>y,Yr:()=>x,b$:()=>b,G6:()=>T,Mn:()=>S,w9:()=>P,cI:()=>O,UI:()=>q,xO:()=>U,DV:()=>L,ug:()=>W,dS:()=>Q,Pz:()=>D,Dv:()=>G,Wj:()=>H,lb:()=>Y});var r=n(4762),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=s(t);return a.encodeByteArray(e,!0)},u=function(t){return l(t).replace(/\./g,"")},c=function(t){try{return a.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[u(JSON.stringify({alg:"none",type:"JWT"})),u(JSON.stringify(s)),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function v(){return"object"==typeof self&&self.self===self}function _(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return m().indexOf("Electron/")>=0}function C(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S(){return m().indexOf("MSAppHost/")>=0}function x(){return!1}function T(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var E=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,k.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),k=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?A(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new E(i,a,r);return l},t}();function A(t,e){return t.replace(I,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var I=/\{\$([^}]+)}/g;function O(t){return JSON.parse(t)}function D(t){return JSON.stringify(t)}var R=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=O(c(o[0])||""),n=O(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},P=function(t){var e=R(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},N=function(t){var e=R(t).claims;return"object"==typeof e&&!0===e.admin};function F(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function M(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function q(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function U(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var Z=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),o=1518500249):(i=a^l^u,o=1859775393):r<60?(i=a&l|u&(a|l),o=2400959708):(i=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function V(t,e){var n=new j(t,e);return n.subscribe.bind(n)}var j=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function B(){}var G=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function z(t,e){return t+" failed: "+e+" argument "}function H(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(z(t,e)+"must be a valid function.")}function Y(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(z(t,e)+"must be a valid context object.")}var Q=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},W=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function $(t){return t&&t._delegate?t._delegate:t}},2329:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(9759),i="8.10.0";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},5020:(t,e,n)=>{t.exports=n(732)},732:t=>{var e={defaults:{chars:!0,numbers:!0,specials:!1,sticks:!1,forceUppercase:!1,forceLowercase:!1,length:32},generate:function(t){var n,r,i,o,s,a,l,u;for(n in"object"!=typeof t&&(t={}),e.defaults)e.defaults.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e.defaults[n]));if(r=isNaN(t.length)?32:t.length,i=t.forceUppercase,o=t.forceLowercase,s=t.exclude instanceof Array?t.exclude:[],a="",t.chars&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"),t.numbers&&(a+="0123456789"),t.sticks&&(a+="-_"),t.specials&&(a+=',.;:#*?=)(/&%$\xa7"!\xa1\u201c\xa2[]|{}\u2260@'),""===a)throw"You must select at least one char type.";for(l=0;l<s.length;l++)a=a.replace(s[l],"");for(n="",l=0;l<r;l++)u=Math.floor(Math.random()*a.length),n+=a.substring(u,u+1);return i&&(n=n.toUpperCase()),o&&(n=n.toLowerCase()),n},password:function(t){return t=t||{},e.generate({chars:!0,sticks:!1,numbers:!0,specials:!1,length:isNaN(t.length)?8:t.length,exclude:["O","0","I","1"]})},session_id:function(t){return t=t||{},e.generate({chars:!0,sticks:!0,numbers:!0,specials:!1,length:isNaN(t.length)?32:t.length})},transaction_id:function(t){return t=t||{},e.generate({chars:!0,sticks:!0,numbers:!0,specials:!0,length:isNaN(t.length)?6:t.length})},number:function(t){return t=t||{},e.generate({chars:!1,sticks:!1,numbers:!0,specials:!1,length:isNaN(t.length)?8:t.length})}};e._=e.generate,t.exports=e},3098:(t,e,n)=>{"use strict";n.d(e,{P:()=>s});var r=n(9193),i=n(5917),o=n(205);class s{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,i.of)(this.value);case"E":return(0,o._)(this.error);case"C":return(0,r.c)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new s("N",t):s.undefinedValueNotification}static createError(t){return new s("E",void 0,t)}static createComplete(){return s.completeNotification}}s.completeNotification=new s("C"),s.undefinedValueNotification=new s("N",void 0)},7574:(t,e,n)=>{"use strict";n.d(e,{y:()=>u});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),l=n(2494);let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||l.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),l.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){l.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=c(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=c(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function c(t){if(t||(t=l.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>u,xQ:()=>c});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),l=n(9181);class u extends i.L{constructor(t){super(t),this.destination=t}}let c=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[l.b](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends c{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},8858:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:(t,e,n)=>{"use strict";n.d(e,{L:()=>u});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),l=n(4449);class u extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new c(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new c(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class c extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,l.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:l,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,o.m)(l)){n&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){t=h instanceof s?u(h.errors):[h]}}if((0,r.k)(c)){let e=-1,n=c.length;for(;++e<n;){const n=c[e];if((0,i.K)(n))try{n.unsubscribe()}catch(h){t=t||[],h instanceof s?t=t.concat(u(h.errors)):t.push(h)}}}if(t)throw new s(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var l;function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}a.EMPTY=((l=new a).closed=!0,l)},2494:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>l});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function l(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2441:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>l});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const l=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),l=n(377),u=n(4072),c=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,u.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,c.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[l.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},6682:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},5917:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},205:(t,e,n)=>{"use strict";n.d(e,{_:()=>i});var r=n(7574);function i(t,e){return new r.y(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},8002:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(9773),i=n(4487);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(t,e,n)=>{"use strict";n.d(e,{QV:()=>o,ht:()=>a});var r=n(7393),i=n(3098);function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new l(t,this.destination)))}_next(t){this.scheduleMessage(i.P.createNext(t))}_error(t){this.scheduleMessage(i.P.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.P.createComplete()),this.unsubscribe()}}class l{constructor(t,e){this.notification=t,this.destination=e}}},1307:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(7393);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(t,e,n)=>{"use strict";n.d(e,{B:()=>a});var r=n(2441),i=n(1307),o=n(9765);function s(){return new o.xQ}function a(){return t=>{return(0,i.x)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.N);return i.source=t,i.subjectFactory=n,i})(t));var e}}},9673:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var r=n(7574),i=n(4581),o=n(6561);class s extends r.y{constructor(t,e=0,n=i.e){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(0,o.k)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.e)}static create(t,e=0,n=i.e){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},3342:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(7393);function i(){}var o=n(9105);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}class l extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(7574),i=n(5319);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},4581:(t,e,n)=>{"use strict";n.d(e,{e:()=>h,E:()=>c});let r=1;const i=Promise.resolve(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var l=n(6465),u=n(6102);const c=new class extends u.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends l.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}),h=c},3637:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(6465);const i=new(n(6102).v)(r.o),o=i},7771:(t,e,n)=>{"use strict";n.d(e,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),s=o},377:(t,e,n)=>{"use strict";n.d(e,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},4487:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},9796:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},6561:(t,e,n)=>{"use strict";n.d(e,{k:()=>i});var r=n(9796);function i(t){return!(0,r.k)(t)&&t-parseFloat(t)+1>=0}},1555:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},4072:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},4869:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},7444:(t,e,n)=>{"use strict";n.d(e,{s:()=>c});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),l=n(4072),u=n(1555);const c=t=>{if(t&&"function"==typeof t[s.L])return c=t,t=>{const e=c[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,l.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,u.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,c}},5015:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},8404:(t,e,n)=>{"use strict";var r=n(7716);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return(0,r.LFG)(c)}const u=new r.OlP("Location Initialized");let c=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new c((0,r.LFG)(s))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function f(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(s).location;return new _((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=f(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=p,t.stripTrailingSlash=f,t.\u0275prov=(0,r.Yz7)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w((0,r.LFG)(g),(0,r.LFG)(a))}function S(t){return t.replace(/\/index.html$/,"")}var x=(()=>((x=x||{})[x.Zero=0]="Zero",x[x.One=1]="One",x[x.Two=2]="Two",x[x.Few=3]="Few",x[x.Many=4]="Many",x[x.Other=5]="Other",x))(),T=(()=>((T=T||{})[T.Format=0]="Format",T[T.Standalone=1]="Standalone",T))(),E=(()=>((E=E||{})[E.Narrow=0]="Narrow",E[E.Abbreviated=1]="Abbreviated",E[E.Wide=2]="Wide",E[E.Short=3]="Short",E))(),k=(()=>((k=k||{})[k.Short=0]="Short",k[k.Medium=1]="Medium",k[k.Long=2]="Long",k[k.Full=3]="Full",k))(),A=(()=>((A=A||{})[A.Decimal=0]="Decimal",A[A.Group=1]="Group",A[A.List=2]="List",A[A.PercentSign=3]="PercentSign",A[A.PlusSign=4]="PlusSign",A[A.MinusSign=5]="MinusSign",A[A.Exponential=6]="Exponential",A[A.SuperscriptingExponent=7]="SuperscriptingExponent",A[A.PerMille=8]="PerMille",A[A[1/0]=9]="Infinity",A[A.NaN=10]="NaN",A[A.TimeSeparator=11]="TimeSeparator",A[A.CurrencyDecimal=12]="CurrencyDecimal",A[A.CurrencyGroup=13]="CurrencyGroup",A))();function I(t,e){return F((0,r.cg1)(t)[r.wAp.DateFormat],e)}function O(t,e){return F((0,r.cg1)(t)[r.wAp.TimeFormat],e)}function D(t,e){return F((0,r.cg1)(t)[r.wAp.DateTimeFormat],e)}function R(t,e){const n=(0,r.cg1)(t),i=n[r.wAp.NumberSymbols][e];if(void 0===i){if(e===A.CurrencyDecimal)return n[r.wAp.NumberSymbols][A.Decimal];if(e===A.CurrencyGroup)return n[r.wAp.NumberSymbols][A.Group]}return i}const P=r.kL8;function N(t){if(!t[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function F(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function L(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const M=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},U=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Z=(()=>((Z=Z||{})[Z.Short=0]="Short",Z[Z.ShortGMT=1]="ShortGMT",Z[Z.Long=2]="Long",Z[Z.Extended=3]="Extended",Z))(),V=(()=>((V=V||{})[V.FullYear=0]="FullYear",V[V.Month=1]="Month",V[V.Date=2]="Date",V[V.Hours=3]="Hours",V[V.Minutes=4]="Minutes",V[V.Seconds=5]="Seconds",V[V.FractionalSeconds=6]="FractionalSeconds",V[V.Day=7]="Day",V))(),j=(()=>((j=j||{})[j.DayPeriods=0]="DayPeriods",j[j.Days=1]="Days",j[j.Months=2]="Months",j[j.Eras=3]="Eras",j))();function B(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return G(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(M))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,l=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,l,u),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=z(n,e)||e;let o,s=[];for(;e;){if(o=U.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let l="";return s.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=W(j.Eras,E.Abbreviated);break;case"GGGG":e=W(j.Eras,E.Wide);break;case"GGGGG":e=W(j.Eras,E.Narrow);break;case"y":e=Q(V.FullYear,1,0,!1,!0);break;case"yy":e=Q(V.FullYear,2,0,!0,!0);break;case"yyy":e=Q(V.FullYear,3,0,!1,!0);break;case"yyyy":e=Q(V.FullYear,4,0,!1,!0);break;case"Y":e=X(1);break;case"YY":e=X(2,!0);break;case"YYY":e=X(3);break;case"YYYY":e=X(4);break;case"M":case"L":e=Q(V.Month,1,1);break;case"MM":case"LL":e=Q(V.Month,2,1);break;case"MMM":e=W(j.Months,E.Abbreviated);break;case"MMMM":e=W(j.Months,E.Wide);break;case"MMMMM":e=W(j.Months,E.Narrow);break;case"LLL":e=W(j.Months,E.Abbreviated,T.Standalone);break;case"LLLL":e=W(j.Months,E.Wide,T.Standalone);break;case"LLLLL":e=W(j.Months,E.Narrow,T.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=Q(V.Date,1);break;case"dd":e=Q(V.Date,2);break;case"c":case"cc":e=Q(V.Day,1);break;case"ccc":e=W(j.Days,E.Abbreviated,T.Standalone);break;case"cccc":e=W(j.Days,E.Wide,T.Standalone);break;case"ccccc":e=W(j.Days,E.Narrow,T.Standalone);break;case"cccccc":e=W(j.Days,E.Short,T.Standalone);break;case"E":case"EE":case"EEE":e=W(j.Days,E.Abbreviated);break;case"EEEE":e=W(j.Days,E.Wide);break;case"EEEEE":e=W(j.Days,E.Narrow);break;case"EEEEEE":e=W(j.Days,E.Short);break;case"a":case"aa":case"aaa":e=W(j.DayPeriods,E.Abbreviated);break;case"aaaa":e=W(j.DayPeriods,E.Wide);break;case"aaaaa":e=W(j.DayPeriods,E.Narrow);break;case"b":case"bb":case"bbb":e=W(j.DayPeriods,E.Abbreviated,T.Standalone,!0);break;case"bbbb":e=W(j.DayPeriods,E.Wide,T.Standalone,!0);break;case"bbbbb":e=W(j.DayPeriods,E.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":e=W(j.DayPeriods,E.Abbreviated,T.Format,!0);break;case"BBBB":e=W(j.DayPeriods,E.Wide,T.Format,!0);break;case"BBBBB":e=W(j.DayPeriods,E.Narrow,T.Format,!0);break;case"h":e=Q(V.Hours,1,-12);break;case"hh":e=Q(V.Hours,2,-12);break;case"H":e=Q(V.Hours,1);break;case"HH":e=Q(V.Hours,2);break;case"m":e=Q(V.Minutes,1);break;case"mm":e=Q(V.Minutes,2);break;case"s":e=Q(V.Seconds,1);break;case"ss":e=Q(V.Seconds,2);break;case"S":e=Q(V.FractionalSeconds,1);break;case"SS":e=Q(V.FractionalSeconds,2);break;case"SSS":e=Q(V.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=$(Z.Short);break;case"ZZZZZ":e=$(Z.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=$(Z.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=$(Z.Long);break;default:return null}return tt[t]=e,e}(t);l+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function G(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function z(t,e){const n=function(t){return(0,r.cg1)(t)[r.wAp.LocaleId]}(t);if(q[n]=q[n]||{},q[n][e])return q[n][e];let i="";switch(e){case"shortDate":i=I(t,k.Short);break;case"mediumDate":i=I(t,k.Medium);break;case"longDate":i=I(t,k.Long);break;case"fullDate":i=I(t,k.Full);break;case"shortTime":i=O(t,k.Short);break;case"mediumTime":i=O(t,k.Medium);break;case"longTime":i=O(t,k.Long);break;case"fullTime":i=O(t,k.Full);break;case"short":const e=z(t,"shortTime"),n=z(t,"shortDate");i=H(D(t,k.Short),[e,n]);break;case"medium":const r=z(t,"mediumTime"),o=z(t,"mediumDate");i=H(D(t,k.Medium),[r,o]);break;case"long":const s=z(t,"longTime"),a=z(t,"longDate");i=H(D(t,k.Long),[s,a]);break;case"full":const l=z(t,"fullTime"),u=z(t,"fullDate");i=H(D(t,k.Full),[l,u])}return i&&(q[n][e]=i),i}function H(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function Y(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Q(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case V.FullYear:return e.getFullYear();case V.Month:return e.getMonth();case V.Date:return e.getDate();case V.Hours:return e.getHours();case V.Minutes:return e.getMinutes();case V.Seconds:return e.getSeconds();case V.FractionalSeconds:return e.getMilliseconds();case V.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===V.Hours)0===a&&-12===n&&(a=12);else if(t===V.FractionalSeconds)return l=e,Y(a,3).substr(0,l);var l;const u=R(s,A.MinusSign);return Y(a,e,u,r,i)}}function W(t,e,n=T.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case j.Months:return function(t,e,n){const i=(0,r.cg1)(t),o=F([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],e);return F(o,n)}(e,o,i)[t.getMonth()];case j.Days:return function(t,e,n){const i=(0,r.cg1)(t),o=F([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],e);return F(o,n)}(e,o,i)[t.getDay()];case j.DayPeriods:const a=t.getHours(),l=t.getMinutes();if(s){const t=function(t){const e=(0,r.cg1)(t);return N(e),(e[r.wAp.ExtraData][2]||[]).map(t=>"string"==typeof t?L(t):[L(t[0]),L(t[1])])}(e),n=function(t,e,n){const i=(0,r.cg1)(t);N(i);const o=F([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],e)||[];return F(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&l>=e.minutes,i=a<n.hours||a===n.hours&&l<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===l)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=(0,r.cg1)(t),o=F([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],e);return F(o,n)}(e,o,i)[a<12?0:1];case j.Eras:return function(t,e){return F((0,r.cg1)(t)[r.wAp.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function $(t){return function(e,n,r){const i=-1*r,o=R(n,A.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Z.Short:return(i>=0?"+":"")+Y(s,2,o)+Y(Math.abs(i%60),2,o);case Z.ShortGMT:return"GMT"+(i>=0?"+":"")+Y(s,1,o);case Z.Long:return"GMT"+(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);case Z.Extended:return 0===r?"Z":(i>=0?"+":"")+Y(s,2,o)+":"+Y(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function K(t){return G(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=K(n),e=function(t){const e=G(t,0,1).getDay();return G(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return Y(i,t,R(r,A.MinusSign))}}function X(t,e=!1){return function(n,r){return Y(K(n).getFullYear(),t,R(r,A.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(P(e||this.locale)(t)){case x.Zero:return"zero";case x.One:return"one";case x.Two:return"two";case x.Few:return"few";case x.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class st{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let at=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(Ev){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new lt(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new lt(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class lt{constructor(t,e){this.record=t,this.view=e}}let ut=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ct,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ct{constructor(){this.$implicit=null,this.ngIf=null}}function ht(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}class dt{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pt=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),ft=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new dt(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(pt,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),mt=(()=>{class t{constructor(t,e,n){n._addDefault(new dt(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(pt,9))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),gt=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,o){if(null==e||""===e||e!=e)return null;try{return B(e,n,o||this.locale,i)}catch(s){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16))},t.\u0275pipe=r.Yjl({name:"date",type:t,pure:!0}),t})(),yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:rt,useClass:it}]}),t})();function vt(t){return"server"===t}let _t=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new bt((0,r.LFG)(s),window)}),t})();class bt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wt(this.window.history)||wt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(Ev){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Ev){return!1}}}function wt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Ct extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new Ct,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(xt=xt||document.querySelector("base"),xt?xt.getAttribute("href"):null);return null==e?null:function(t){St=St||document.createElement("a"),St.setAttribute("href",t);const e=St.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){xt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let St,xt=null;const Tt=new r.OlP("TRANSITION_ID"),Et=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Tt,s,r.zs3],multi:!0}];class kt{static init(){(0,r.VLi)(new kt)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let At=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const It=new r.OlP("EventManagerPlugins");let Ot=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(It),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Dt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Pt=(()=>{class t extends Rt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(Nt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Nt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function Nt(t){o().remove(t)}const Ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Lt=/%COMP%/g;function Mt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Mt(t,i,n):(i=i.replace(Lt,t),n.push(i))}return n}function qt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ut=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Zt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new jt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Mt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ot),r.LFG(Pt),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Zt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ft[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ft[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ft[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,qt(n)):this.eventManager.addEventListener(t,e,qt(n))}}class Vt extends Zt{constructor(t,e,n,r){super(t),this.component=n;const i=Mt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Lt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Lt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class jt extends Zt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Mt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bt=(()=>{class t extends Dt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Gt=["alt","control","meta","shift"],zt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ht={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Qt=(()=>{class t extends Dt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Gt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Ht.hasOwnProperty(e)&&(e=Ht[e]))}return zt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Gt.forEach(r=>{r!=n&&(0,Yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Wt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(Kt)},token:t,providedIn:"root"}),t})();function $t(t){return new Kt(t.get(s))}let Kt=(()=>{class t extends Wt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:function(){return $t((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const Jt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Ct.makeCurrent(),kt.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),Xt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:It,useClass:Bt,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:It,useClass:Qt,multi:!0,deps:[s]},[],{provide:Ut,useClass:Ut,deps:[Ot,Pt,r.AFp]},{provide:r.FYo,useExisting:Ut},{provide:Rt,useExisting:Pt},{provide:Pt,useClass:Pt,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Ot,useClass:Ot,deps:[It,r.R0b]},{provide:class{},useClass:At,deps:[]},[]];let te=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:Tt,useExisting:r.AFp},Et]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:Xt,imports:[yt,r.hGG]}),t})();"undefined"!=typeof window&&window;var ee=n(4402),ne=n(5917),re=n(9765),ie=n(7971);class oe extends re.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ie.N;return this._value}next(t){super.next(this._value=t)}}var se=n(4869),ae=n(9796),le=n(7393);class ue extends le.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class ce extends le.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var he=n(7444),de=n(7574);function pe(t,e,n,r,i=new ce(t,n,r)){if(!i.closed)return e instanceof de.y?e.subscribe(i):(0,he.s)(e)(i)}var fe=n(6693);const me={};function ge(...t){let e,n;return(0,se.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,ae.k)(t[0])&&(t=t[0]),(0,fe.n)(t,n).lift(new ye(e))}class ye{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new ve(t,this.resultSelector))}}class ve extends ue{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(me),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(pe(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===me?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const _e=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var be=n(3282);function we(...t){return(0,be.J)(1)((0,ne.of)(...t))}var Ce=n(9193);function Se(t){return new de.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,ee.D)(n):(0,Ce.c)()).subscribe(e)})}var xe=n(2441),Te=n(8002),Ee=n(5345);function ke(t,e){return"function"==typeof e?n=>n.pipe(ke((n,r)=>(0,ee.D)(t(n,r)).pipe((0,Te.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ae(t))}class Ae{constructor(t){this.project=t}call(t,e){return e.subscribe(new Ie(t,this.project))}}class Ie extends Ee.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Ee.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Ee.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Oe=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function De(t){return e=>0===t?(0,Ce.c)():e.lift(new Re(t))}class Re{constructor(t){if(this.total=t,this.total<0)throw new Oe}call(t,e){return e.subscribe(new Pe(t,this.total))}}class Pe extends le.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ne(...t){const e=t[t.length-1];return(0,se.K)(e)?(t.pop(),n=>we(t,n,e)):e=>we(t,e)}function Fe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Le(t,e,n))}}class Le{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Me(t,this.accumulator,this.seed,this.hasSeed))}}class Me extends le.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function qe(t,e){return function(n){return n.lift(new Ue(t,e))}}class Ue{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ze(t,this.predicate,this.thisArg))}}class Ze extends le.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Ve(t){return function(e){const n=new je(t),r=e.lift(n);return n.caught=r}}class je{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Be(t,this.selector,this.caught))}}class Be extends Ee.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Ee.IY(this);this.add(r);const i=(0,Ee.ft)(n,r);i!==r&&this.add(i)}}}var Ge=n(9773);function ze(t,e){return(0,Ge.zg)(t,e,1)}function He(t){return function(e){return 0===t?(0,Ce.c)():e.lift(new Ye(t))}}class Ye{constructor(t){if(this.total=t,this.total<0)throw new Oe}call(t,e){return e.subscribe(new Qe(t,this.total))}}class Qe extends le.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function We(t=Je){return e=>e.lift(new $e(t))}class $e{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ke(t,this.errorFactory))}}class Ke extends le.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(j_){t=j_}this.destination.error(t)}}}function Je(){return new _e}function Xe(t=null){return e=>e.lift(new tn(t))}class tn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new en(t,this.defaultValue))}}class en extends le.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var nn=n(4487);function rn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qe((e,n)=>t(e,n,r)):nn.y,De(1),n?Xe(e):We(()=>new _e))}var on=n(3342),sn=n(1307),an=n(5319);function ln(t){return e=>e.lift(new un(t))}class un{constructor(t){this.callback=t}call(t,e){return e.subscribe(new cn(t,this.callback))}}class cn extends le.L{constructor(t,e){super(t),this.add(new an.w(e))}}class hn{constructor(t,e){this.id=t,this.url=e}}class dn extends hn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pn extends hn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fn extends hn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mn extends hn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends hn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _n extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends hn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Cn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class En{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const An="primary";class In{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function On(t){return new In(t)}function Dn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Rn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Pn(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Nn(t[i],e[i]))return!1;return!0}function Nn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Fn(t){return Array.prototype.concat.apply([],t)}function Ln(t){return t.length>0?t[t.length-1]:null}function Mn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function qn(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,ee.D)(Promise.resolve(t)):(0,ne.of)(t)}const Un={exact:function t(e,n,r){if(!Qn(e.segments,n.segments))return!1;if(!Gn(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:jn},Zn={exact:function(t,e){return Pn(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Nn(t[n],e[n]))},ignored:()=>!0};function Vn(t,e,n){return Un[n.paths](t.root,e.root,n.matrixParams)&&Zn[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function jn(t,e,n){return Bn(t,e,e.segments,n)}function Bn(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!Qn(i,n)&&!e.hasChildren()&&!!Gn(i,n,r)}if(t.segments.length===n.length){if(!Qn(t.segments,n))return!1;if(!Gn(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!jn(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!Qn(t.segments,i)&&!!Gn(t.segments,i,r)&&!!t.children.primary&&Bn(t.children.primary,e,o,r)}}function Gn(t,e,n){return e.every((e,r)=>Zn[n](t[r].parameters,e.parameters))}class zn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return Kn.serialize(this)}}class Hn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jn(this)}}class Yn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=On(this.parameters)),this._parameterMap}toString(){return or(this)}}function Qn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Wn{}class $n{parse(t){const e=new cr(t);return new zn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Xn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${er(e)}=${er(t)}`).join("&"):`${er(e)}=${er(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Kn=new $n;function Jn(t){return t.segments.map(t=>or(t)).join("/")}function Xn(t,e){if(!t.hasChildren())return Jn(t);if(e){const e=t.children.primary?Xn(t.children.primary,!1):"",n=[];return Mn(t.children,(t,e)=>{e!==An&&n.push(`${e}:${Xn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Mn(t.children,(t,r)=>{r===An&&(n=n.concat(e(t,r)))}),Mn(t.children,(t,r)=>{r!==An&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===An?[Xn(t.children.primary,!1)]:[`${n}:${Xn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Jn(t)}/${e[0]}`:`${Jn(t)}/(${e.join("//")})`}}function tr(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function er(t){return tr(t).replace(/%3B/gi,";")}function nr(t){return tr(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function rr(t){return decodeURIComponent(t)}function ir(t){return rr(t.replace(/\+/g,"%20"))}function or(t){return`${nr(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${nr(t)}=${nr(e[t])}`).join("")}`;var e}const sr=/^[^\/()?;=#]+/;function ar(t){const e=t.match(sr);return e?e[0]:""}const lr=/^[^=?&#]+/,ur=/^[^?&#]+/;class cr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Hn(t,e)),n}parseSegment(){const t=ar(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Yn(rr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ar(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ar(this.remaining);t&&(n=t,this.capture(n))}t[rr(e)]=rr(n)}parseQueryParam(t){const e=function(t){const e=t.match(lr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(ur);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=ir(e),i=ir(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ar(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=An);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Hn([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class hr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=dr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=dr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=pr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return pr(t,this._root).map(t=>t.value)}}function dr(t,e){if(t===e.value)return e;for(const n of e.children){const e=dr(t,n);if(e)return e}return null}function pr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=pr(t,n);if(r.length)return r.unshift(e),r}return[]}class fr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function mr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class gr extends hr{constructor(t,e){super(t),this.snapshot=e,Cr(this,t)}toString(){return this.snapshot.toString()}}function yr(t,e){const n=function(t,e){const n=new br([],{},{},"",{},An,e,null,t.root,-1,{});return new wr("",new fr(n,[]))}(t,e),r=new oe([new Yn("",{})]),i=new oe({}),o=new oe({}),s=new oe({}),a=new oe(""),l=new vr(r,i,s,a,o,An,e,n.root);return l.snapshot=n.root,new gr(new fr(l,[]),n)}class vr{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Te.U)(t=>On(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Te.U)(t=>On(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _r(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class br{constructor(t,e,n,r,i,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=On(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=On(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wr extends hr{constructor(t,e){super(e),this.url=t,Cr(this,e)}toString(){return Sr(this._root)}}function Cr(t,e){e.value._routerState=t,e.children.forEach(e=>Cr(t,e))}function Sr(t){const e=t.children.length>0?` { ${t.children.map(Sr).join(", ")} } `:"";return`${t.value}${e}`}function xr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Pn(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Pn(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Pn(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Pn(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Tr(t,e){return Pn(t.params,e.params)&&function(t,e){return Qn(t,e)&&t.every((t,n)=>Pn(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Tr(t.parent,e.parent))}function Er(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Er(t,e,r);return Er(t,e)})}(t,e,n);return new fr(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return kr(e,t),t}}const n=new vr(new oe((r=e.value).url),new oe(r.params),new oe(r.queryParams),new oe(r.fragment),new oe(r.data),r.outlet,r.component,r),i=e.children.map(e=>Er(t,e));return new fr(n,i)}var r}function kr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)kr(t.children[n],e.children[n])}function Ar(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ir(t){return"object"==typeof t&&null!=t&&t.outlets}function Or(t,e,n,r,i){let o={};return r&&Mn(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new zn(n.root===t?e:Dr(n.root,t,e),o,i)}function Dr(t,e,n){const r={};return Mn(t.children,(t,i)=>{r[i]=t===e?n:Dr(t,e,n)}),new Hn(t.segments,r)}class Rr{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ar(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ir);if(r&&r!==Ln(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Nr(t,e,n){if(t||(t=new Hn([],{})),0===t.segments.length&&t.hasChildren())return Fr(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ir(s))break;const a=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Ur(a,l,e))return o;r+=2}else{if(!Ur(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Hn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Hn(t.segments.slice(r.pathIndex),t.children),Fr(e,0,i)}return r.match&&0===i.length?new Hn(t.segments,{}):r.match&&!t.hasChildren()?Lr(t,e,n):r.match?Fr(t,0,i):Lr(t,e,n)}function Fr(t,e,n){if(0===n.length)return new Hn(t.segments,{});{const r=function(t){return Ir(t[0])?t[0].outlets:{[An]:t}}(n),i={};return Mn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Nr(t.children[r],e,n))}),Mn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Hn(t.segments,i)}}function Lr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ir(o)){const t=Mr(o.outlets);return new Hn(r,t)}if(0===i&&Ar(n[0])){r.push(new Yn(t.segments[e].path,qr(n[0]))),i++;continue}const s=Ir(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ar(a)?(r.push(new Yn(s,qr(a))),i+=2):(r.push(new Yn(s,{})),i++)}return new Hn(r,{})}function Mr(t){const e={};return Mn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Lr(new Hn([],{}),0,t))}),e}function qr(t){const e={};return Mn(t,(t,n)=>e[n]=`${t}`),e}function Ur(t,e,n){return t==n.path&&Pn(e,n.parameters)}class Zr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),xr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=mr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Mn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=mr(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=mr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new En(t.value.snapshot))}),t.children.length&&this.forwardEvent(new xn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(xr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Vr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Vr(t){xr(t.value),t.children.forEach(Vr)}class jr{constructor(t,e){this.routes=t,this.module=e}}function Br(t){return"function"==typeof t}function Gr(t){return t instanceof zn}const zr=Symbol("INITIAL_VALUE");function Hr(){return ke(t=>ge(t.map(t=>t.pipe(De(1),Ne(zr)))).pipe(Fe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==zr)return t;if(r===zr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Gr(r))return r}return t},t)},zr),qe(t=>t!==zr),(0,Te.U)(t=>Gr(t)?t:!0===t),De(1)))}let Yr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[zi]},encapsulation:2}),t})();function Qr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Wr(r,$r(e,r))}}function Wr(t,e){t.children&&Qr(t.children,e)}function $r(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Kr(t){const e=t.children&&t.children.map(Kr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==An&&(n.component=Yr),n}function Jr(t){return t.outlet||An}function Xr(t,e){const n=t.filter(t=>Jr(t)===e);return n.push(...t.filter(t=>Jr(t)!==e)),n}const ti={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ei(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ti):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Rn)(n,t,e);if(!i)return Object.assign({},ti);const o={};Mn(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function ni(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>ri(t,e,n)&&Jr(n)!==An)}(t,n,r)){const i=new Hn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Jr(o)!==An){const n=new Hn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Jr(o)]=n}return i}(t,e,r,new Hn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>ri(t,e,n))}(t,n,r)){const o=new Hn(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(ri(t,n,a)&&!i[Jr(a)]){const n=new Hn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Jr(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Hn(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function ri(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function ii(t,e,n,r){return!!(Jr(t)===r||r!==An&&ri(e,n,t))&&("**"===t.path||ei(e,t,n).matched)}function oi(t,e,n){return 0===e.length&&!t.children[n]}class si{constructor(t){this.segmentGroup=t||null}}class ai{constructor(t){this.urlTree=t}}function li(t){return new de.y(e=>e.error(new si(t)))}function ui(t){return new de.y(e=>e.error(new ai(t)))}function ci(t){return new de.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class hi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=ni(this.urlTree.root,[],[],this.config).segmentGroup,e=new Hn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,An).pipe((0,Te.U)(t=>this.createUrlTree(di(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ve(t=>{if(t instanceof ai)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof si)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,An).pipe((0,Te.U)(e=>this.createUrlTree(di(e),t.queryParams,t.fragment))).pipe(Ve(t=>{if(t instanceof si)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Hn([],{[An]:t}):t;return new zn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Te.U)(t=>new Hn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,ee.D)(r).pipe(ze(r=>{const i=n.children[r],o=Xr(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Te.U)(t=>({segment:t,outlet:r})))}),Fe((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?qe((e,n)=>t(e,n,r)):nn.y,He(1),n?Xe(e):We(()=>new _e))}())}expandSegment(t,e,n,r,i,o){return(0,ee.D)(n).pipe(ze(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Ve(t=>{if(t instanceof si)return(0,ne.of)(null);throw t}))),rn(t=>!!t),Ve((t,n)=>{if(t instanceof _e||"EmptyError"===t.name){if(oi(e,r,i))return(0,ne.of)(new Hn([],{}));throw new si(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return ii(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):li(e):li(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ui(i):this.lineralizeSegments(n,i).pipe((0,Ge.zg)(n=>{const i=new Hn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=ei(e,r,i);if(!s)return li(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?ui(c):this.lineralizeSegments(r,c).pipe((0,Ge.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,ne.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Te.U)(t=>(n._loadedConfig=t,new Hn(r,{})))):(0,ne.of)(new Hn(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=ei(e,n,r);if(!o)return li(e);const l=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,Ge.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:u}=ni(e,s,l,o),c=new Hn(a.segments,a.children);if(0===u.length&&c.hasChildren())return this.expandChildren(r,o,c).pipe((0,Te.U)(t=>new Hn(s,t)));if(0===o.length&&0===u.length)return(0,ne.of)(new Hn(s,{}));const h=Jr(n)===i;return this.expandSegment(r,c,o,u,h?An:i,!0).pipe((0,Te.U)(t=>new Hn(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,ne.of)(new jr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ne.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Ge.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Te.U)(t=>(e._loadedConfig=t,t))):function(t){return new de.y(e=>e.error(Dn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,ne.of)(new jr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,ne.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Br(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Br(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return qn(o)});return(0,ne.of)(i).pipe(Hr(),(0,on.b)(t=>{if(!Gr(t))return;const e=Dn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Te.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,ne.of)(n);if(r.numberOfChildren>1||!r.children.primary)return ci(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new zn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Mn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Mn(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Hn(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function di(t){const e={};for(const n of Object.keys(t.children)){const r=di(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Hn(t.segments.concat(e.segments),e.children)}return t}(new Hn(t.segments,e))}class pi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class fi{constructor(t,e){this.component=t,this.route=e}}function mi(t,e,n){const r=t._root;return yi(r,e?e._root:null,n,[r.value])}function gi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function yi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=mr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Qn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qn(t.url,e.url)||!Pn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tr(t,e)||!Pn(t.queryParams,e.queryParams);case"paramsChange":default:return!Tr(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pi(r)):(o.data=s.data,o._resolvedData=s._resolvedData),yi(t,e,o.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fi(a.outlet.component,s))}else s&&vi(e,a,i),i.canActivateChecks.push(new pi(r)),yi(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Mn(o,(t,e)=>vi(t,n.getContext(e),i)),i}function vi(t,e,n){const r=mr(t),i=t.value;Mn(r,(t,r)=>{vi(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new fi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class _i{}function bi(t){return new de.y(e=>e.error(t))}class wi{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=ni(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,An);if(null===e)return null;const n=new br([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},An,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new fr(n,e),i=new wr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=_r(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Xr(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Si(n);return r.sort((t,e)=>t.value.outlet===An?-1:e.value.outlet===An?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return oi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!ii(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Ln(n).parameters:{};i=new br(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ei(t),Jr(t),t.component,t,xi(e),Ti(e)+n.length,ki(t))}else{const r=ei(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new br(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ei(t),Jr(t),t.component,t,xi(e),Ti(e)+o.length,ki(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=ni(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return null===t?null:[new fr(i,t)]}if(0===a.length&&0===u.length)return[new fr(i,[])];const c=Jr(t)===r,h=this.processSegment(a,l,u,c?An:r);return null===h?null:[new fr(i,h)]}}function Ci(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Si(t){const e=[],n=new Set;for(const r of t){if(!Ci(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Si(r.children);e.push(new fr(r.value,t))}return e.filter(t=>!n.has(t))}function xi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ti(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Ei(t){return t.data||{}}function ki(t){return t.resolve||{}}function Ai(t){return ke(e=>{const n=t(e);return n?(0,ee.D)(n).pipe((0,Te.U)(()=>e)):(0,ne.of)(e)})}class Ii extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Oi=new r.OlP("ROUTES");class Di{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Te.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new jr(Fn(i.injector.get(Oi,void 0,r.XFs.Self|r.XFs.Optional)).map(Kr),i)}),Ve(t=>{throw e._loader$=void 0,t}));return e._loader$=new xe.c(n,()=>new re.xQ).pipe((0,sn.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,ee.D)(this.loader.load(t)):qn(t()).pipe((0,Ge.zg)(t=>t instanceof r.YKP?(0,ne.of)(t):(0,ee.D)(this.compiler.compileModuleAsync(t))))}}class Ri{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pi,this.attachRef=null}}class Pi{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ri,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ni{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fi(t){throw t}function Li(t,e,n){return e.parse("/")}function Mi(t,e){return(0,ne.of)(null)}const qi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ui={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class t{constructor(t,e,n,i,o,s,a,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new re.xQ,this.errorHandler=Fi,this.malformedUriErrorHandler=Li,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Mi,afterPreactivation:Mi},this.urlHandlingStrategy=new Ni,this.routeReuseStrategy=new Ii,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const u=o.get(r.R0b);this.isNgZoneEnabled=u instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new zn(new Hn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Di(s,a,t=>this.triggerEvent(new wn(t)),t=>this.triggerEvent(new Cn(t))),this.routerState=yr(this.currentUrlTree,this.rootComponentType),this.transitions=new oe({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(qe(t=>0!==t.id),(0,Te.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ke(t=>{let n=!1,r=!1;return(0,ne.of)(t).pipe((0,on.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ke(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,ne.of)(t).pipe(ke(t=>{const n=this.transitions.getValue();return e.next(new dn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Ce.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,ke(t=>function(t,e,n,r,i){return new hi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,Te.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,on.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,Ge.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new wi(t,e,n,r,i,o).recognize();return null===s?bi(new _i):(0,ne.of)(s)}catch(j_){return bi(j_)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Te.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,on.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new gn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new dn(n,this.serializeUrl(r),i,o);e.next(a);const l=yr(r,this.rootComponentType).snapshot;return(0,ne.of)(Object.assign(Object.assign({},t),{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Ce.E}),Ai(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,on.b)(t=>{const e=new yn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Te.U)(t=>Object.assign(Object.assign({},t),{guards:mi(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Ge.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,ne.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,ee.D)(t).pipe((0,Ge.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,ne.of)(!0);const s=o.map(o=>{const s=gi(o,e,i);let a;if(function(t){return t&&Br(t.canDeactivate)}(s))a=qn(s.canDeactivate(t,e,n,r));else{if(!Br(s))throw new Error("Invalid CanDeactivate guard");a=qn(s(t,e,n,r))}return a.pipe(rn())});return(0,ne.of)(s).pipe(Hr())}(t.component,t.route,n,e,r)),rn(t=>!0!==t,!0))}(s,r,i,t).pipe((0,Ge.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,ee.D)(e).pipe(ze(e=>we(function(t,e){return null!==t&&e&&e(new Sn(t)),(0,ne.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Tn(t)),(0,ne.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Se(()=>{const i=e.guards.map(i=>{const o=gi(i,e.node,n);let s;if(function(t){return t&&Br(t.canActivateChild)}(o))s=qn(o.canActivateChild(r,t));else{if(!Br(o))throw new Error("Invalid CanActivateChild guard");s=qn(o(r,t))}return s.pipe(rn())});return(0,ne.of)(i).pipe(Hr())}));return(0,ne.of)(i).pipe(Hr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,ne.of)(!0);const i=r.map(r=>Se(()=>{const i=gi(r,e,n);let o;if(function(t){return t&&Br(t.canActivate)}(i))o=qn(i.canActivate(e,t));else{if(!Br(i))throw new Error("Invalid CanActivate guard");o=qn(i(e,t))}return o.pipe(rn())}));return(0,ne.of)(i).pipe(Hr())}(t,e.route,n))),rn(t=>!0!==t,!0))}(r,o,t,e):(0,ne.of)(n)),(0,Te.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,on.b)(t=>{if(Gr(t.guardsResult)){const e=Dn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new vn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),qe(t=>!!t.guardsResult||(this.cancelNavigationTransitionRestoreHistory(t,""),!1)),Ai(t=>{if(t.guards.canActivateChecks.length)return(0,ne.of)(t).pipe((0,on.b)(t=>{const e=new _n(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ke(t=>{let e=!1;return(0,ne.of)(t).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Ge.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,ne.of)(t);let o=0;return(0,ee.D)(i).pipe(ze(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,ne.of)({});const o={};return(0,ee.D)(i).pipe((0,Ge.zg)(i=>function(t,e,n,r){const i=gi(t,e,r);return qn(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,on.b)(t=>{o[i]=t}))),He(1),(0,Ge.zg)(()=>Object.keys(o).length===i.length?(0,ne.of)(o):Ce.E))}(t._resolve,t,e,r).pipe((0,Te.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),_r(t,n).resolve),null)))}(t.route,e,n,r)),(0,on.b)(()=>o++),He(1),(0,Ge.zg)(e=>o===i.length?(0,ne.of)(t):Ce.E))})),(0,on.b)({next:()=>e=!0,complete:()=>{e||this.cancelNavigationTransitionRestoreHistory(t,"At least one route resolver didn't emit any value.")}}));var n,r}),(0,on.b)(t=>{const e=new bn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Ai(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Te.U)(t=>{const e=function(t,e,n){const r=Er(t,e._root,n?n._root:void 0);return new gr(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,on.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),(0,Te.U)(t=>(new Zr(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),(0,on.b)({next(){n=!0},complete(){n=!0}}),ln(()=>{if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?this.cancelNavigationTransitionRestoreHistory(t,e):this.cancelNavigationTransition(t,e)}this.currentNavigation=null}),Ve(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Gr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new fn(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new mn(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(hh){t.reject(hh)}}var i;return Ce.E}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Qr(t),this.config=t.map(Kr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,l=s?this.currentUrlTree.fragment:i;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return Or(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Rr(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Mn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Rr(n,e,r)}(n);if(o.toRoot())return Or(e.root,new Hn([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Pr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Pr(t,t===e.root,0)}const r=Ar(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Pr(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Fr(s.segmentGroup,s.index,o.commands):Nr(s.segmentGroup,s.index,o.commands);return Or(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,null!=l?l:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Gr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(j_){e=this.malformedUriErrorHandler(j_,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},qi):!1===e?Object.assign({},Ui):e,Gr(t))return Vn(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Vn(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new pn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),l="imperative"!==e&&"imperative"===(null==a?void 0:a.source),u=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(l&&u)return Promise.resolve(!0);let c,h,d;i?(c=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{c=t,h=e});const p=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransitionRestoreHistory(t,e){"computed"===this.canceledNavigationResolution?"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy||this.location.historyGo(this.currentPageId-t.targetPageId):this.resetUrlToCurrentUrlTree(),this.cancelNavigationTransition(t,e)}cancelNavigationTransition(t,e){const n=new fn(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Wn),r.LFG(Pi),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Vi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new re.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Bi(this.skipLocationChange),replaceUrl:Bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zi),r.Y36(vr),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),ji=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new re.xQ,this.subscription=t.events.subscribe(t=>{t instanceof pn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Bi(this.skipLocationChange),replaceUrl:Bi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Bi(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zi),r.Y36(vr),r.Y36(g))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function Bi(t){return""===t||!!t}let Gi=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof pn&&this.update()})}ngAfterContentInit(){(0,ne.of)(this.links.changes,this.linksWithHrefs.changes,(0,ne.of)(null)).pipe((0,be.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,ee.D)(e).pipe((0,be.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e="paths"in this.routerLinkActiveOptions?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zi),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(Vi,8),r.Y36(ji,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,Vi,5),r.Suo(n,ji,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),zi=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||An,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Hi(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Pi),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Hi{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===vr?this.route:t===Pi?this.childContexts:this.parent.get(t,e)}}class Yi{}class Qi{preload(t,e){return(0,ne.of)(null)}}let Wi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Di(e,n,e=>t.triggerEvent(new wn(e)),e=>t.triggerEvent(new Cn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(qe(t=>t instanceof pn),ze(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,ee.D)(n).pipe((0,be.J)(),(0,Te.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,ne.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Ge.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Zi),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Yi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),$i=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof dn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof kn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new kn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Zi),r.LFG(_t),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const Ki=new r.OlP("ROUTER_CONFIGURATION"),Ji=new r.OlP("ROUTER_FORROOT_GUARD"),Xi=[w,{provide:Wn,useClass:$n},{provide:Zi,useFactory:function(t,e,n,r,i,o,s,a={},l,u){const c=new Zi(null,t,e,n,r,i,o,Fn(s));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,c),a.enableTracing&&c.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[Wn,Pi,w,r.zs3,r.v3s,r.Sil,Oi,Ki,[class{},new r.FiY],[class{},new r.FiY]]},Pi,{provide:vr,useFactory:function(t){return t.routerState.root},deps:[Zi]},{provide:r.v3s,useClass:r.EAV},Wi,Qi,class{preload(t,e){return e().pipe(Ve(()=>(0,ne.of)(null)))}},{provide:Ki,useValue:{enableTracing:!1}}];function to(){return new r.PXZ("Router",Zi)}let eo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Xi,oo(e),{provide:Ji,useFactory:io,deps:[[Zi,new r.FiY,new r.tp0]]},{provide:Ki,useValue:n||{}},{provide:g,useFactory:ro,deps:[a,[new r.tBr(v),new r.FiY],Ki]},{provide:$i,useFactory:no,deps:[Zi,_t,Ki]},{provide:Yi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Qi},{provide:r.PXZ,multi:!0,useFactory:to},[so,{provide:r.ip1,multi:!0,useFactory:ao,deps:[so]},{provide:uo,useFactory:lo,deps:[so]},{provide:r.tb,multi:!0,useExisting:uo}]]}}static forChild(e){return{ngModule:t,providers:[oo(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ji,8),r.LFG(Zi,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function no(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new $i(t,e,n)}function ro(t,e,n={}){return n.useHash?new b(t,e):new _(t,e)}function io(t){return"guarded"}function oo(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Oi,multi:!0,useValue:t}]}let so=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new re.xQ}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Zi),r=this.injector.get(Ki);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,ne.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ki),n=this.injector.get(Wi),i=this.injector.get($i),o=this.injector.get(Zi),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function ao(t){return t.appInitializer.bind(t)}function lo(t){return t.bootstrapListener.bind(t)}const uo=new r.OlP("Router Initializer");let co=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-about"]],decls:2,vars:0,template:function(t,e){1&t&&(r.TgZ(0,"p"),r._uU(1,"about works!"),r.qZA())},styles:[""]}),t})();function ho(t,e,n,r,i,o,s){try{var a=t[o](s),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function po(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){ho(o,r,i,s,a,"next",t)}function a(t){ho(o,r,i,s,a,"throw",t)}s(void 0)})}}var fo=n(3637);function mo(){return t=>t.lift(new go)}class go{call(t,e){return e.subscribe(new yo(t))}}class yo extends le.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function vo(t,e){return n=>n.lift(new _o(t,e))}class _o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new bo(t,this.compare,this.keySelector))}}class bo extends le.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var wo=n(9746),Co=n(57),So=n(2329),xo=n(9759),To=n(4762),Eo=n(4685),ko=n(300),Ao=function(t,e){return(Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Io(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Oo,Do="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ro=Ro||{},Po=Do||self;function No(){}function Fo(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Lo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Mo="closure_uid_"+(1e9*Math.random()>>>0),qo=0;function Uo(t,e,n){return t.call.apply(t.bind,arguments)}function Zo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Vo(t,e,n){return(Vo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uo:Zo).apply(null,arguments)}function jo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Bo(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Go(){this.s=this.s,this.o=this.o}var zo={};Go.prototype.s=!1,Go.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Mo)&&t[Mo]||(t[Mo]=++qo)}(this);delete zo[t]}},Go.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ho=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Yo=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Qo(t){return Array.prototype.concat.apply([],arguments)}function Wo(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $o(t){return/^[\s\xa0]*$/.test(t)}var Ko,Jo=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Xo(t,e){return-1!=t.indexOf(e)}function ts(t,e){return t<e?-1:t>e?1:0}t:{var es=Po.navigator;if(es){var ns=es.userAgent;if(ns){Ko=ns;break t}}Ko=""}function rs(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function is(t){var e={};for(var n in t)e[n]=t[n];return e}var os="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ss(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<os.length;o++)n=os[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function as(t){return as[" "](t),t}as[" "]=No;var ls,us,cs=Xo(Ko,"Opera"),hs=Xo(Ko,"Trident")||Xo(Ko,"MSIE"),ds=Xo(Ko,"Edge"),ps=ds||hs,fs=Xo(Ko,"Gecko")&&!(Xo(Ko.toLowerCase(),"webkit")&&!Xo(Ko,"Edge"))&&!(Xo(Ko,"Trident")||Xo(Ko,"MSIE"))&&!Xo(Ko,"Edge"),ms=Xo(Ko.toLowerCase(),"webkit")&&!Xo(Ko,"Edge");function gs(){var t=Po.document;return t?t.documentMode:void 0}t:{var ys="",vs=(us=Ko,fs?/rv:([^\);]+)(\)|;)/.exec(us):ds?/Edge\/([\d\.]+)/.exec(us):hs?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(us):ms?/WebKit\/(\S+)/.exec(us):cs?/(?:Version)[ \/]?(\S+)/.exec(us):void 0);if(vs&&(ys=vs?vs[1]:""),hs){var _s=gs();if(null!=_s&&_s>parseFloat(ys)){ls=String(_s);break t}}ls=ys}var bs={};var ws=Po.document&&hs&&(gs()||parseInt(ls,10))||void 0,Cs=function(){if(!Po.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Po.addEventListener("test",No,e),Po.removeEventListener("test",No,e)}catch(n){}return t}();function Ss(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function xs(t,e){if(Ss.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(fs){t:{try{as(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ts[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xs.Z.h.call(this)}}Ss.prototype.h=function(){this.defaultPrevented=!0},Bo(xs,Ss);var Ts={2:"touch",3:"pen",4:"mouse"};xs.prototype.h=function(){xs.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Es="closure_listenable_"+(1e6*Math.random()|0),ks=0;function As(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ks,this.ca=this.fa=!1}function Is(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Os(t){this.src=t,this.g={},this.h=0}function Ds(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=Ho(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Is(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Rs(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}Os.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var s=Rs(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):((e=new As(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var Ps="closure_lm_"+(1e6*Math.random()|0),Ns={};function Fs(t,e,n,r,i){if(r&&r.once)return Ms(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fs(t,e[o],n,r,i);return null}return n=Gs(n),t&&t[Es]?t.N(e,n,Lo(r)?!!r.capture:!!r,i):Ls(t,e,n,!1,r,i)}function Ls(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Lo(i)?!!i.capture:!!i,a=js(t);if(a||(t[Ps]=a=new Os(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Vs;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cs||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Zs(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ms(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ms(t,e[o],n,r,i);return null}return n=Gs(n),t&&t[Es]?t.O(e,n,Lo(r)?!!r.capture:!!r,i):Ls(t,e,n,!0,r,i)}function qs(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)qs(t,e[o],n,r,i);else r=Lo(r)?!!r.capture:!!r,n=Gs(n),t&&t[Es]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Rs(o=t.g[e],n,r,i))&&(Is(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=js(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Rs(e,n,r,i)),(n=-1<t?e[t]:null)&&Us(n))}function Us(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Es])Ds(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Zs(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=js(e))?(Ds(n,t),0==n.h&&(n.src=null,e[Ps]=null)):Is(t)}}}function Zs(t){return t in Ns?Ns[t]:Ns[t]="on"+t}function Vs(t,e){if(t.ca)t=!0;else{e=new xs(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Us(t),t=n.call(r,e)}return t}function js(t){return(t=t[Ps])instanceof Os?t:null}var Bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gs(t){return"function"==typeof t?t:(t[Bs]||(t[Bs]=function(e){return t.handleEvent(e)}),t[Bs])}function zs(){Go.call(this),this.i=new Os(this),this.P=this,this.I=null}function Hs(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Ss(e,t);else if(e instanceof Ss)e.target=e.target||t;else{var i=e;ss(e=new Ss(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Ys(s,r,!0,e)&&i}if(i=Ys(s=e.g=t,r,!0,e)&&i,i=Ys(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ys(s=e.g=n[o],r,!1,e)&&i}function Ys(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,l=s.ia||s.src;s.fa&&Ds(t.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Bo(zs,Go),zs.prototype[Es]=!0,zs.prototype.removeEventListener=function(t,e,n,r){qs(this,t,e,n,r)},zs.prototype.M=function(){if(zs.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Is(n[r]);delete e.g[t],e.h--}}this.I=null},zs.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},zs.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Qs=Po.JSON.stringify;function Ws(){var t=ra,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var $s,Ks=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Js.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Js=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},t}())(function(){return new Xs},function(t){return t.reset()}),Xs=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function ta(t){Po.setTimeout(function(){throw t},0)}function ea(t,e){$s||function(){var t=Po.Promise.resolve(void 0);$s=function(){t.then(ia)}}(),na||($s(),na=!0),ra.add(t,e)}var na=!1,ra=new Ks;function ia(){for(var t;t=Ws();){try{t.h.call(t.g)}catch(n){ta(n)}var e=Js;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}na=!1}function oa(t,e){zs.call(this),this.h=t||1,this.g=e||Po,this.j=Vo(this.kb,this),this.l=Date.now()}function sa(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function aa(t,e,n){if("function"==typeof t)n&&(t=Vo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vo(t.handleEvent,t)}return 2147483647<Number(e)?-1:Po.setTimeout(t,e||0)}function la(t){t.g=aa(function(){t.g=null,t.i&&(t.i=!1,la(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}Bo(oa,zs),(Oo=oa.prototype).da=!1,Oo.S=null,Oo.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hs(this,"tick"),this.da&&(sa(this),this.start()))}},Oo.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Oo.M=function(){oa.Z.M.call(this),sa(this),delete this.g};var ua=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ao(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:la(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Po.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Go);function ca(t){Go.call(this),this.h=t,this.g={}}Bo(ca,Go);var ha=[];function da(t,e,n,r){Array.isArray(n)||(n&&(ha[0]=n.toString()),n=ha);for(var i=0;i<n.length;i++){var o=Fs(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function pa(t){rs(t.g,function(t,e){this.g.hasOwnProperty(e)&&Us(t)},t),t.g={}}function fa(){this.g=!0}function ma(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Qs(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}ca.prototype.M=function(){ca.Z.M.call(this),pa(this)},ca.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fa.prototype.Aa=function(){this.g=!1},fa.prototype.info=function(){};var ga={},ya=null;function va(){return ya=ya||new zs}function _a(t){Ss.call(this,ga.Ma,t)}function ba(t){var e=va();Hs(e,new _a(e,t))}function wa(t,e){Ss.call(this,ga.STAT_EVENT,t),this.stat=e}function Ca(t){var e=va();Hs(e,new wa(e,t))}function Sa(t,e){Ss.call(this,ga.Na,t),this.size=e}function xa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Po.setTimeout(function(){t()},e)}ga.Ma="serverreachability",Bo(_a,Ss),ga.STAT_EVENT="statevent",Bo(wa,Ss),ga.Na="timingevent",Bo(Sa,Ss);var Ta={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ea={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ka(){}function Aa(){}ka.prototype.h=null;var Ia,Oa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Da(){Ss.call(this,"d")}function Ra(){Ss.call(this,"c")}function Pa(){}function Na(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new ca(this),this.P=La,this.W=new oa(t=ps?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fa}function Fa(){this.i=null,this.g="",this.h=!1}Bo(Da,Ss),Bo(Ra,Ss),Bo(Pa,ka),Pa.prototype.g=function(){return new XMLHttpRequest},Pa.prototype.i=function(){return{}},Ia=new Pa;var La=45e3,Ma={},qa={};function Ua(t,e,n){t.K=1,t.v=ll(nl(e)),t.s=n,t.U=!0,Za(t,null)}function Za(t,e){t.F=Date.now(),Ga(t),t.A=nl(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),wl(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Fa,t.g=Cu(t.l,n?e:null,!t.s),0<t.O&&(t.L=new ua(Vo(t.Ia,t,t.g),t.O)),da(t.V,t.g,"readystatechange",t.gb),e=t.H?is(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ba(1),function(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.j,t.u,t.A,t.m,t.X,t.s)}function Va(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function ja(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Ba(t,n))==qa){4==e&&(t.o=4,Ca(14),i=!1),ma(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ma){t.o=4,Ca(15),ma(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ma(t.j,t.m,r,null),Wa(t,r)}Va(t)&&r!=qa&&r!=Ma&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ca(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),fu(e),e.L=!0,Ca(11))):(ma(t.j,t.m,n,"[Invalid Chunked Response]"),Qa(t),Ya(t))}function Ba(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?qa:(n=Number(e.substring(n,r)),isNaN(n)?Ma:(r+=1)+n>e.length?qa:(e=e.substr(r,n),t.C=r+n,e))}function Ga(t){t.Y=Date.now()+t.P,za(t,t.P)}function za(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=xa(Vo(t.eb,t),e)}function Ha(t){t.B&&(Po.clearTimeout(t.B),t.B=null)}function Ya(t){0==t.l.G||t.I||yu(t.l,t)}function Qa(t){Ha(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,sa(t.W),pa(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wa(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Al(n.i,t)))if(n.I=t.N,!t.J&&Al(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;gu(n),ou(n)}pu(n),Ca(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=xa(Vo(n.ab,n),6e3));if(1>=kl(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else _u(n,11)}else if((t.J||n.g==t)&&gu(n),!$o(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var l=o[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var u=t.g;if(u){var c=u.g?u.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(Xo(c,"spdy")||Xo(c,"quic")||Xo(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Il(h,h.h),h.h=null))}if(r.D){var d=u.g?u.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,al(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var p=t;if((r=n).oa=wu(r,r.H?r.la:null,r.W),p.J){Ol(r.i,p);var f=p,m=r.K;m&&f.setTimeout(m),f.B&&(Ha(f),Ga(f)),r.g=p}else du(r);0<n.l.length&&lu(n)}else"stop"!=o[0]&&"close"!=o[0]||_u(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?_u(n,7):iu(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ba(4)}catch(o){}}function $a(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Fo(t)||"string"==typeof t)Yo(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Fo(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Fo(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ka(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ka)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ja(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Xa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Xa(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Xa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Oo=Na.prototype).setTimeout=function(t){this.P=t},Oo.gb=function(t){t=t.target;var e=this.L;e&&3==Xl(t)?e.l():this.Ia(t)},Oo.Ia=function(t){try{if(t==this.g)t:{var e=Xl(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||ps||this.g&&(this.h.h||this.g.ga()||tu(this.g)))){this.I||4!=e||7==n||ba(8==n||0>=r?3:2),Ha(this);var i=this.g.ba();this.N=i;e:if(Va(this)){var o=tu(this.g);t="";var s=o.length,a=4==Xl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qa(this),Ya(this);var l="";break e}this.h.i=new Po.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$o(u)){var h=u;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,Ca(12),Qa(this),Ya(this);break t}ma(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wa(this,i)}this.U?(ja(this,e,l),ps&&this.i&&3==e&&(da(this.V,this.W,"tick",this.fb),this.W.start())):(ma(this.j,this.m,l,null),Wa(this,l)),4==e&&Qa(this),this.i&&!this.I&&(4==e?yu(this.l,this):(this.i=!1,Ga(this)))}else 400==i&&0<l.indexOf("Unknown SID")?(this.o=3,Ca(12)):(this.o=0,Ca(13)),Qa(this),Ya(this)}}}catch(e){}},Oo.fb=function(){if(this.g){var t=Xl(this.g),e=this.g.ga();this.C<e.length&&(Ha(this),ja(this,t,e),this.i&&4!=t&&Ga(this))}},Oo.cancel=function(){this.I=!0,Qa(this)},Oo.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ba(3),Ca(17)),Qa(this),this.o=2,Ya(this)):za(this,this.Y-t)},(Oo=Ka.prototype).R=function(){Ja(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},Oo.T=function(){return Ja(this),this.g.concat()},Oo.get=function(t,e){return Xa(this.h,t)?this.h[t]:e},Oo.set=function(t,e){Xa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},Oo.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var tl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function el(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof el){this.g=void 0!==e?e:t.g,rl(this,t.j),this.s=t.s,il(this,t.i),ol(this,t.m),this.l=t.l,e=t.h;var n=new yl;n.i=e.i,e.g&&(n.g=new Ka(e.g),n.h=e.h),sl(this,n),this.o=t.o}else t&&(n=String(t).match(tl))?(this.g=!!e,rl(this,n[1]||"",!0),this.s=ul(n[2]||""),il(this,n[3]||"",!0),ol(this,n[4]),this.l=ul(n[5]||"",!0),sl(this,n[6]||"",!0),this.o=ul(n[7]||"")):(this.g=!!e,this.h=new yl(null,this.g))}function nl(t){return new el(t)}function rl(t,e,n){t.j=n?ul(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function il(t,e,n){t.i=n?ul(e,!0):e}function ol(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function sl(t,e,n){e instanceof yl?(t.h=e,function(t,e){e&&!t.j&&(vl(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(_l(this,e),wl(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=cl(e,ml)),t.h=new yl(e,t.g))}function al(t,e,n){t.h.set(e,n)}function ll(t){return al(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ul(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}el.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cl(e,dl,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(cl(e,dl,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(cl(n,"/"==n.charAt(0)?fl:pl,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cl(n,gl)),t.join("")};var dl=/[#\/\?@]/g,pl=/[#\?:]/g,fl=/[#\?]/g,ml=/[#\?@]/g,gl=/#/g;function yl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vl(t){t.g||(t.g=new Ka,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function _l(t,e){vl(t),e=Cl(t,e),Xa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Xa((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Ja(t)))}function bl(t,e){return vl(t),e=Cl(t,e),Xa(t.g.h,e)}function wl(t,e,n){_l(t,e),0<n.length&&(t.i=null,t.g.set(Cl(t,e),Wo(n)),t.h+=n.length)}function Cl(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(Oo=yl.prototype).add=function(t,e){vl(this),this.i=null,t=Cl(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Oo.forEach=function(t,e){vl(this),this.g.forEach(function(n,r){Yo(n,function(n){t.call(e,n,r,this)},this)},this)},Oo.T=function(){vl(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Oo.R=function(t){vl(this);var e=[];if("string"==typeof t)bl(this,t)&&(e=Qo(e,this.g.get(Cl(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Qo(e,t[n])}return e},Oo.set=function(t,e){return vl(this),this.i=null,bl(this,t=Cl(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Oo.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},Oo.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var Sl=function(t,e){this.h=t,this.g=e};function xl(t){this.l=t||Tl,t=Po.PerformanceNavigationTiming?0<(t=Po.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Po.g&&Po.g.Ea&&Po.g.Ea()&&Po.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Tl=10;function El(t){return!!t.h||!!t.g&&t.g.size>=t.j}function kl(t){return t.h?1:t.g?t.g.size:0}function Al(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Il(t,e){t.g?t.g.add(e):t.h=e}function Ol(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Dl(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=Io(t.g.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.D)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Wo(t.i)}function Rl(){}function Pl(){this.g=new Rl}function Nl(t,e,n){var r=n||"";try{$a(t,function(t,n){var i=t;Lo(t)&&(i=Qs(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(j_){throw e.push(r+"type="+encodeURIComponent("_badmap")),j_}}function Fl(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Ll(t){this.l=t.$b||null,this.j=t.ib||!1}function Ml(t,e){zs.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ql,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}xl.prototype.cancel=function(){var t,e;if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=Io(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Rl.prototype.stringify=function(t){return Po.JSON.stringify(t,void 0)},Rl.prototype.parse=function(t){return Po.JSON.parse(t,void 0)},Bo(Ll,ka),Ll.prototype.g=function(){return new Ml(this.l,this.j)},Ll.prototype.i=function(t){return function(){return t}}({}),Bo(Ml,zs);var ql=0;function Ul(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Zl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Vl(t)}function Vl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Oo=Ml.prototype).open=function(t,e){if(this.readyState!=ql)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Vl(this)},Oo.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Po).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Oo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zl(this)),this.readyState=ql},Oo.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Po.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ul(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},Oo.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zl(this):Vl(this),3==this.readyState&&Ul(this)}},Oo.Ua=function(t){this.g&&(this.response=this.responseText=t,Zl(this))},Oo.Ta=function(t){this.g&&(this.response=t,Zl(this))},Oo.ha=function(){this.g&&Zl(this)},Oo.setRequestHeader=function(t,e){this.v.append(t,e)},Oo.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Oo.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Ml.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var jl=Po.JSON.parse;function Bl(t){zs.call(this),this.headers=new Ka,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gl,this.K=this.L=!1}Bo(Bl,zs);var Gl="",zl=/^https?$/i,Hl=["POST","PUT"];function Yl(t){return"content-type"==t.toLowerCase()}function Ql(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Wl(t),Kl(t)}function Wl(t){t.D||(t.D=!0,Hs(t,"complete"),Hs(t,"error"))}function $l(t){if(t.h&&void 0!==Ro&&(!t.C[1]||4!=Xl(t)||2!=t.ba()))if(t.v&&4==Xl(t))aa(t.Fa,0,t);else if(Hs(t,"readystatechange"),4==Xl(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(tl)[1]||null;if(!o&&Po.self&&Po.self.location){var s=Po.self.location.protocol;o=s.substr(0,s.length-1)}i=!zl.test(o?o.toLowerCase():"")}e=i}if(e)Hs(t,"complete"),Hs(t,"success");else{t.m=6;try{var a=2<Xl(t)?t.g.statusText:""}catch(l){a=""}t.j=a+" ["+t.ba()+"]",Wl(t)}}finally{Kl(t)}}}function Kl(t,e){if(t.g){Jl(t);var n=t.g,r=t.C[0]?No:null;t.g=null,t.C=null,e||Hs(t,"ready");try{n.onreadystatechange=r}catch(j_){}}}function Jl(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Po.clearTimeout(t.A),t.A=null)}function Xl(t){return t.g?t.g.readyState:0}function tu(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Gl:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function eu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return rs(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):al(t,e,n))}function nu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ru(t){this.za=0,this.l=[],this.h=new fa,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nu("baseRetryDelayMs",5e3,t),this.$a=nu("retryDelaySeedMs",1e4,t),this.Ya=nu("forwardChannelMaxRetries",2,t),this.ra=nu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new xl(t&&t.concurrentRequestLimit),this.Ca=new Pl,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function iu(t){if(su(t),3==t.G){var e=t.V++,n=nl(t.F);al(n,"SID",t.J),al(n,"RID",e),al(n,"TYPE","terminate"),cu(t,n),(e=new Na(t,t.h,e,void 0)).K=2,e.v=ll(nl(n)),n=!1,Po.navigator&&Po.navigator.sendBeacon&&(n=Po.navigator.sendBeacon(e.v.toString(),"")),!n&&Po.Image&&((new Image).src=e.v,n=!0),n||(e.g=Cu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ga(e)}bu(t)}function ou(t){t.g&&(fu(t),t.g.cancel(),t.g=null)}function su(t){ou(t),t.u&&(Po.clearTimeout(t.u),t.u=null),gu(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Po.clearTimeout(t.m),t.m=null)}function au(t,e){t.l.push(new Sl(t.Za++,e)),3==t.G&&lu(t)}function lu(t){El(t.i)||t.m||(t.m=!0,ea(t.Ha,t),t.C=0)}function uu(t,e){var n;n=e?e.m:t.V++;var r=nl(t.F);al(r,"SID",t.J),al(r,"RID",n),al(r,"AID",t.U),cu(t,r),t.o&&t.s&&eu(r,t.o,t.s),n=new Na(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=hu(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Il(t.i,n),Ua(n,r,e)}function cu(t,e){t.j&&$a({},function(t,n){al(e,n,t)})}function hu(t,e,n){n=Math.min(t.l.length,n);var r=t.j?Vo(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].h)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=i[l].h,c=i[l].g;if(0>(u-=o))o=Math.max(0,i[l].h-100),a=!1;else try{Nl(c,s,"req"+u+"_")}catch(ec){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function du(t){t.g||t.u||(t.Y=1,ea(t.Ga,t),t.A=0)}function pu(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=xa(Vo(t.Ga,t),vu(t,t.A)),t.A++,0))}function fu(t){null!=t.B&&(Po.clearTimeout(t.B),t.B=null)}function mu(t){t.g=new Na(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=nl(t.oa);al(e,"RID","rpc"),al(e,"SID",t.J),al(e,"CI",t.N?"0":"1"),al(e,"AID",t.U),cu(t,e),al(e,"TYPE","xmlhttp"),t.o&&t.s&&eu(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ll(nl(e)),n.s=null,n.U=!0,Za(n,t)}function gu(t){null!=t.v&&(Po.clearTimeout(t.v),t.v=null)}function yu(t,e){var n=null;if(t.g==e){gu(t),fu(t),t.g=null;var r=2}else{if(!Al(t.i,e))return;n=e.D,Ol(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Hs(r=va(),new Sa(r,n,e,i)),lu(t)}else du(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(kl(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=xa(Vo(t.Ha,t,e),vu(t,t.C)),t.C++,0)))}(t,e)||2==r&&pu(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:_u(t,5);break;case 4:_u(t,10);break;case 3:_u(t,6);break;default:_u(t,2)}}function vu(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function _u(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=Vo(t.jb,t);n||(n=new el("//www.google.com/images/cleardot.gif"),Po.location&&"http"==Po.location.protocol||rl(n,"https"),ll(n)),function(t,e){var n=new fa;if(Po.Image){var r=new Image;r.onload=jo(Fl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jo(Fl,n,r,"TestLoadImage: error",!1,e),r.onabort=jo(Fl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jo(Fl,n,r,"TestLoadImage: timeout",!1,e),Po.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ca(2);t.G=0,t.j&&t.j.va(e),bu(t),su(t)}function bu(t){t.G=0,t.I=-1,t.j&&(0==Dl(t.i).length&&0==t.l.length||(t.i.i.length=0,Wo(t.l),t.l.length=0),t.j.ua())}function wu(t,e,n){var r=function(t){return t instanceof el?nl(t):new el(t,void 0)}(n);if(""!=r.i)e&&il(r,e+"."+r.i),ol(r,r.m);else{var i=Po.location;r=function(t,e,n,r){var i=new el(null,void 0);return t&&rl(i,t),e&&il(i,e),n&&ol(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&rs(t.aa,function(t,e){al(r,e,t)}),n=t.sa,(e=t.D)&&n&&al(r,e,n),al(r,"VER",t.ma),cu(t,r),r}function Cu(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Bl(n&&t.Ba&&!t.qa?new Ll({ib:!0}):t.qa)).L=t.H,e}function Su(){}function xu(){if(hs&&!(10<=Number(ws)))throw Error("Environmental error: no available transport.")}function Tu(t,e){zs.call(this),this.g=new ru(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!$o(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$o(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Au(this)}function Eu(t){Da.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ku(){Ra.call(this),this.status=1}function Au(t){this.g=t}(Oo=Bl.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ia.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ia),this.g.onreadystatechange=Vo(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Ql(this,o)}t=n||"";var i=new Ka(this.headers);r&&$a(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Yl,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Po.FormData&&t instanceof Po.FormData,!(0<=Ho(Hl,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jl(this),0<this.B&&((this.K=function(t){return hs&&function(){return t=bs,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var t=0,e=Jo(String(ls)).split("."),n=Jo("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=ts(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||ts(0==o[2].length,0==s[2].length)||ts(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}();var t}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Vo(this.pa,this)):this.A=aa(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Ql(this,o)}},Oo.pa=function(){void 0!==Ro&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hs(this,"timeout"),this.abort(8))},Oo.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Hs(this,"complete"),Hs(this,"abort"),Kl(this))},Oo.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kl(this,!0)),Bl.Z.M.call(this)},Oo.Fa=function(){this.s||(this.F||this.v||this.l?$l(this):this.cb())},Oo.cb=function(){$l(this)},Oo.ba=function(){try{return 2<Xl(this)?this.g.status:-1}catch(us){return-1}},Oo.ga=function(){try{return this.g?this.g.responseText:""}catch(us){return""}},Oo.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jl(e)}},Oo.Da=function(){return this.m},Oo.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Oo=ru.prototype).ma=8,Oo.G=1,Oo.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},Oo.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Na(this,this.h,t,void 0),n=this.s;if(this.P&&(n?ss(n=is(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=hu(this,e,r),al(i=nl(this.F),"RID",t),al(i,"CVER",22),this.D&&al(i,"X-HTTP-Session-Id",this.D),cu(this,i),this.o&&n&&eu(i,this.o,n),Il(this.i,e),this.Ra&&al(i,"TYPE","init"),this.ja?(al(i,"$req",r),al(i,"SID","null"),e.$=!0,Ua(e,i,null)):Ua(e,i,r),this.G=2}}else 3==this.G&&(t?uu(this,t):0==this.l.length||El(this.i)||uu(this))},Oo.Ga=function(){if(this.u=null,mu(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=xa(Vo(this.bb,this),t)}},Oo.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ca(10),ou(this),mu(this))},Oo.ab=function(){null!=this.v&&(this.v=null,ou(this),pu(this),Ca(19))},Oo.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ca(2)):(this.h.info("Failed to ping google.com"),Ca(1))},(Oo=Su.prototype).xa=function(){},Oo.wa=function(){},Oo.va=function(){},Oo.ua=function(){},Oo.Oa=function(){},xu.prototype.g=function(t,e){return new Tu(t,e)},Bo(Tu,zs),Tu.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ea(Vo(t.hb,t,e))),Ca(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=wu(t,null,t.W),lu(t)},Tu.prototype.close=function(){iu(this.g)},Tu.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,au(this.g,e)}else this.v?((e={}).__data__=Qs(t),au(this.g,e)):au(this.g,t)},Tu.prototype.M=function(){this.g.j=null,delete this.j,iu(this.g),delete this.g,Tu.Z.M.call(this)},Bo(Eu,Da),Bo(ku,Ra),Bo(Au,Su),Au.prototype.xa=function(){Hs(this.g,"a")},Au.prototype.wa=function(t){Hs(this.g,new Eu(t))},Au.prototype.va=function(t){Hs(this.g,new ku(t))},Au.prototype.ua=function(){Hs(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,Tu.prototype.send=Tu.prototype.u,Tu.prototype.open=Tu.prototype.m,Tu.prototype.close=Tu.prototype.close,Ta.NO_ERROR=0,Ta.TIMEOUT=8,Ta.HTTP_ERROR=6,Ea.COMPLETE="complete",Aa.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",zs.prototype.listen=zs.prototype.N,Bl.prototype.listenOnce=Bl.prototype.O,Bl.prototype.getLastError=Bl.prototype.La,Bl.prototype.getLastErrorCode=Bl.prototype.Da,Bl.prototype.getStatus=Bl.prototype.ba,Bl.prototype.getResponseJson=Bl.prototype.Qa,Bl.prototype.getResponseText=Bl.prototype.ga,Bl.prototype.send=Bl.prototype.ea;var Iu=Ta,Ou=Ea,Du=ga,Ru=Ll,Pu=Aa,Nu=Bl,Fu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Fu.o=-1;var Lu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Mu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,To.ZT)(e,t),e}(Error),qu=new ko.Yd("@firebase/firestore");function Uu(){return qu.logLevel}function Zu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=ko.in.DEBUG){var r=e.map(Bu);qu.debug.apply(qu,(0,To.ev)(["Firestore (8.10.0): "+t],r))}}function Vu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=ko.in.ERROR){var r=e.map(Bu);qu.error.apply(qu,(0,To.ev)(["Firestore (8.10.0): "+t],r))}}function ju(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(qu.logLevel<=ko.in.WARN){var r=e.map(Bu);qu.warn.apply(qu,(0,To.ev)(["Firestore (8.10.0): "+t],r))}}function Bu(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(j_){return t}}function Gu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+t;throw Vu(e),new Error(e)}function zu(t,e){t||Gu()}function Hu(t,e){return t}function Yu(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Qu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Yu(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Wu(t,e){return t<e?-1:t>e?1:0}function $u(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ku(t){return t+"\0"}var Ju=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mu(Lu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Wu(this.nanoseconds,t.nanoseconds):Wu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Xu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ju(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function tc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ec(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var rc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Gu(),void 0===n?n=t.length-e:n>t.length-e&&Gu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(rc),oc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return oc.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Mu(Lu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new Mu(Lu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Mu(Lu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(rc),ac=function(){function t(t){this.fields=t,t.sort(sc.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return $u(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),lc=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Wu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();lc.EMPTY_BYTE_STRING=new lc("");var uc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cc(t){if(zu(!!t),"string"==typeof t){var e=0,n=uc.exec(t);if(zu(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:hc(t.seconds),nanos:hc(t.nanos)}}function hc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function dc(t){return"string"==typeof t?lc.fromBase64String(t):lc.fromUint8Array(t)}function pc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fc(t){var e=t.mapValue.fields.__previous_value__;return pc(e)?fc(e):e}function mc(t){var e=cc(t.mapValue.fields.__local_write_time__.timestampValue);return new Ju(e.seconds,e.nanos)}function gc(t){return null==t}function yc(t){return 0===t&&1/t==-1/0}function vc(t){return"number"==typeof t&&Number.isInteger(t)&&!yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var _c=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(ic.fromString(e))},t.fromName=function(e){return new t(ic.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ic.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return ic.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new ic(e.slice()))},t}();function bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pc(t)?4:10:Gu()}function wc(t,e){var n=bc(t);if(n!==bc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=cc(t.timestampValue),r=cc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return dc(t.bytesValue).isEqual(dc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return hc(t.geoPointValue.latitude)===hc(e.geoPointValue.latitude)&&hc(t.geoPointValue.longitude)===hc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return hc(t.integerValue)===hc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=hc(t.doubleValue),r=hc(e.doubleValue);return n===r?yc(n)===yc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return $u(t.arrayValue.values||[],e.arrayValue.values||[],wc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(tc(n)!==tc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wc(n[i],r[i])))return!1;return!0}(t,e);default:return Gu()}}function Cc(t,e){return void 0!==(t.values||[]).find(function(t){return wc(t,e)})}function Sc(t,e){var n=bc(t),r=bc(e);if(n!==r)return Wu(n,r);switch(n){case 0:return 0;case 1:return Wu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=hc(t.integerValue||t.doubleValue),r=hc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return xc(t.timestampValue,e.timestampValue);case 4:return xc(mc(t),mc(e));case 5:return Wu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=dc(t),r=dc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Wu(n[i],r[i]);if(0!==o)return o}return Wu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Wu(hc(t.latitude),hc(e.latitude));return 0!==n?n:Wu(hc(t.longitude),hc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Sc(n[i],r[i]);if(o)return o}return Wu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Wu(r[s],o[s]);if(0!==a)return a;var l=Sc(n[r[s]],i[o[s]]);if(0!==l)return l}return Wu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Gu()}}function xc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Wu(t,e);var n=cc(t),r=cc(e),i=Wu(n.seconds,r.seconds);return 0!==i?i:Wu(n.nanos,r.nanos)}function Tc(t){return Ec(t)}function Ec(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=cc(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?dc(t.bytesValue).toBase64():"referenceValue"in t?_c.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Ec(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Ec(t.fields[o])}return e+"}"}(t.mapValue):Gu();var e}function kc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Ac(t){return!!t&&"integerValue"in t}function Ic(t){return!!t&&"arrayValue"in t}function Oc(t){return!!t&&"nullValue"in t}function Dc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rc(t){return!!t&&"mapValue"in t}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return ec(t.mapValue.fields,function(t,n){return e.mapValue.fields[t]=Pc(n)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Pc(t.arrayValue.values[r]);return n}return Object.assign({},t)}var Nc=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!Rc(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Pc(e)},t.prototype.setAll=function(t){var e=this,n=sc.emptyPath(),r={},i=[];t.forEach(function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Pc(t):i.push(o.lastSegment())});var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());Rc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return wc(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];Rc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ec(e,function(e,n){return t[e]=n});for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(Pc(this.value))},t}();function Fc(t){var e=[];return ec(t.fields,function(t,n){var r=new sc([t]);if(Rc(n)){var i=Fc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new ac(e)}var Lc=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Xu.min(),Nc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Nc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Nc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Nc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Nc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Mc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function qc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Mc(t,e,n,r,i,o,s)}function Uc(t){var e=Hu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Tc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),gc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Jc(e.startAt)),e.endAt&&(n+="|ub:",n+=Jc(e.endAt)),e.h=n}return e.h}function Zc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!th(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!wc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nh(t.startAt,e.startAt)&&nh(t.endAt,e.endAt)}function Vc(t){return _c.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var jc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,To.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Bc(t,n,r):"array-contains"===n?new Yc(t,r):"in"===n?new Qc(t,r):"not-in"===n?new Wc(t,r):"array-contains-any"===n?new $c(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Gc(t,n):new zc(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Sc(e,this.value)):null!==e&&bc(this.value)===bc(e)&&this.m(Sc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Gu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Bc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=_c.fromName(r.referenceValue),i}return(0,To.ZT)(e,t),e.prototype.matches=function(t){var e=_c.comparator(t.key,this.key);return this.m(e)},e}(jc),Gc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Hc(0,n),r}return(0,To.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(jc),zc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Hc(0,n),r}return(0,To.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(jc);function Hc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return _c.fromName(t.referenceValue)})}var Yc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,To.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Ic(e)&&Cc(e.arrayValue,this.value)},e}(jc),Qc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,To.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Cc(this.value.arrayValue,e)},e}(jc),Wc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,To.ZT)(e,t),e.prototype.matches=function(t){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Cc(this.value.arrayValue,e)},e}(jc),$c=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,To.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Ic(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Cc(e.value.arrayValue,t)})},e}(jc),Kc=function(t,e){this.position=t,this.before=e};function Jc(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Tc(t)}).join(",")}var Xc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function th(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function eh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?_c.comparator(_c.fromName(s.referenceValue),n.key):Sc(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function nh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!wc(t.position[n],e.position[n]))return!1;return!0}var rh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function ih(t,e,n,r,i,o,s,a){return new rh(t,e,n,r,i,o,s,a)}function oh(t){return new rh(t)}function sh(t){return!gc(t.limit)&&"F"===t.limitType}function ah(t){return!gc(t.limit)&&"L"===t.limitType}function lh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function uh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function ch(t){return null!==t.collectionGroup}function hh(t){var e=Hu(t);if(null===e.p){e.p=[];var n=uh(e),r=lh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Xc(n)),e.p.push(new Xc(sc.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Xc(sc.keyField(),l))}}}return e.p}function dh(t){var e=Hu(t);if(!e.T)if("F"===e.limitType)e.T=qc(e.path,e.collectionGroup,hh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=hh(e);r<i.length;r++){var o=i[r];n.push(new Xc(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Kc(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Kc(e.startAt.position,!e.startAt.before):null;e.T=qc(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function ph(t,e,n){return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fh(t,e){return Zc(dh(t),dh(e))&&t.limitType===e.limitType}function mh(t){return Uc(dh(t))+"|lt:"+t.limitType}function gh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Tc(e.value);var e}).join(", ")+"]"),gc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Jc(t.startAt)),t.endAt&&(e+=", endAt: "+Jc(t.endAt)),"Target("+e+")"}(dh(t))+"; limitType="+t.limitType+")"}function yh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_c.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!eh(t.startAt,hh(t),e)||t.endAt&&eh(t.endAt,hh(t),e))}(t,e)}function vh(t){return function(e,n){for(var r=!1,i=0,o=hh(t);i<o.length;i++){var s=o[i],a=_h(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function _h(t,e,n){var r=t.field.isKeyField()?_c.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Sc(r,i):Gu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Gu()}}function bh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function wh(t){return{integerValue:""+t}}function Ch(t,e){return vc(e)?wh(e):bh(t,e)}var Sh=function(){this._=void 0};function xh(t,e,n){return t instanceof kh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ah?Ih(t,e):t instanceof Oh?Dh(t,e):function(t,e){var n=Eh(t,e),r=Ph(n)+Ph(t.A);return Ac(n)&&Ac(t.A)?wh(r):bh(t.R,r)}(t,e)}function Th(t,e,n){return t instanceof Ah?Ih(t,e):t instanceof Oh?Dh(t,e):n}function Eh(t,e){return t instanceof Rh?Ac(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var kh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e}(Sh),Ah=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,To.ZT)(e,t),e}(Sh);function Ih(t,e){for(var n=Nh(e),r=function(t){n.some(function(e){return wc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Oh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,To.ZT)(e,t),e}(Sh);function Dh(t,e){for(var n=Nh(e),r=function(t){n=n.filter(function(e){return!wc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,To.ZT)(e,t),e}(Sh);function Ph(t){return hc(t.integerValue||t.doubleValue)}function Nh(t){return Ic(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Fh=function(t,e){this.field=t,this.transform=e},Lh=function(t,e){this.version=t,this.transformResults=e},Mh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function qh(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Uh=function(){};function Zh(t,e,n){t instanceof zh?function(t,e,n){var r=t.value.clone(),i=Qh(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Hh?function(t,e,n){if(qh(t.precondition,e)){var r=Qh(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Yh(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Vh(t,e,n){t instanceof zh?function(t,e,n){if(qh(t.precondition,e)){var r=t.value.clone(),i=Wh(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Gh(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Hh?function(t,e,n){if(qh(t.precondition,e)){var r=Wh(t.fieldTransforms,n,e),i=e.data;i.setAll(Yh(t)),i.setAll(r),e.convertToFoundDocument(Gh(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){qh(t.precondition,e)&&e.convertToNoDocument(Xu.min())}(t,e)}function jh(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Eh(o.transform,s||null);null!=a&&(null==n&&(n=Nc.empty()),n.set(o.field,a))}return n||null}function Bh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&$u(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ah&&e instanceof Ah||t instanceof Oh&&e instanceof Oh?$u(t.elements,e.elements,wc):t instanceof Rh&&e instanceof Rh?wc(t.A,e.A):t instanceof kh&&e instanceof kh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Gh(t){return t.isFoundDocument()?t.version:Xu.min()}var zh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,To.ZT)(e,t),e}(Uh),Hh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,To.ZT)(e,t),e}(Uh);function Yh(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Qh(t,e,n){var r=new Map;zu(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Th(s,a,n[i]))}return r}function Wh(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,l=n.data.field(s.field);r.set(s.field,xh(a,l,e))}return r}var $h,Kh,Jh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,To.ZT)(e,t),e}(Uh),Xh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,To.ZT)(e,t),e}(Uh),td=function(t){this.count=t};function ed(t){switch(t){case Lu.OK:return Gu();case Lu.CANCELLED:case Lu.UNKNOWN:case Lu.DEADLINE_EXCEEDED:case Lu.RESOURCE_EXHAUSTED:case Lu.INTERNAL:case Lu.UNAVAILABLE:case Lu.UNAUTHENTICATED:return!1;case Lu.INVALID_ARGUMENT:case Lu.NOT_FOUND:case Lu.ALREADY_EXISTS:case Lu.PERMISSION_DENIED:case Lu.FAILED_PRECONDITION:case Lu.ABORTED:case Lu.OUT_OF_RANGE:case Lu.UNIMPLEMENTED:case Lu.DATA_LOSS:return!0;default:return Gu()}}function nd(t){if(void 0===t)return Vu("GRPC error has no .code"),Lu.UNKNOWN;switch(t){case $h.OK:return Lu.OK;case $h.CANCELLED:return Lu.CANCELLED;case $h.UNKNOWN:return Lu.UNKNOWN;case $h.DEADLINE_EXCEEDED:return Lu.DEADLINE_EXCEEDED;case $h.RESOURCE_EXHAUSTED:return Lu.RESOURCE_EXHAUSTED;case $h.INTERNAL:return Lu.INTERNAL;case $h.UNAVAILABLE:return Lu.UNAVAILABLE;case $h.UNAUTHENTICATED:return Lu.UNAUTHENTICATED;case $h.INVALID_ARGUMENT:return Lu.INVALID_ARGUMENT;case $h.NOT_FOUND:return Lu.NOT_FOUND;case $h.ALREADY_EXISTS:return Lu.ALREADY_EXISTS;case $h.PERMISSION_DENIED:return Lu.PERMISSION_DENIED;case $h.FAILED_PRECONDITION:return Lu.FAILED_PRECONDITION;case $h.ABORTED:return Lu.ABORTED;case $h.OUT_OF_RANGE:return Lu.OUT_OF_RANGE;case $h.UNIMPLEMENTED:return Lu.UNIMPLEMENTED;case $h.DATA_LOSS:return Lu.DATA_LOSS;default:return Gu()}}(Kh=$h||($h={}))[Kh.OK=0]="OK",Kh[Kh.CANCELLED=1]="CANCELLED",Kh[Kh.UNKNOWN=2]="UNKNOWN",Kh[Kh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kh[Kh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kh[Kh.NOT_FOUND=5]="NOT_FOUND",Kh[Kh.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kh[Kh.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kh[Kh.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kh[Kh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kh[Kh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kh[Kh.ABORTED=10]="ABORTED",Kh[Kh.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kh[Kh.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kh[Kh.INTERNAL=13]="INTERNAL",Kh[Kh.UNAVAILABLE=14]="UNAVAILABLE",Kh[Kh.DATA_LOSS=15]="DATA_LOSS";var rd=function(){function t(t,e){this.comparator=t,this.root=e||od.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,od.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,od.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new id(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new id(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new id(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new id(this.root,t,this.comparator,!0)},t}(),id=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),od=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Gu();if(this.right.isRed())throw Gu();var t=this.left.check();if(t!==this.right.check())throw Gu();return t+(this.isRed()?0:1)},t}();od.EMPTY=null,od.RED=!0,od.BLACK=!1,od.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Gu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Gu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Gu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Gu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Gu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new od(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var sd=function(){function t(t){this.comparator=t,this.data=new rd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ad(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ad(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ad=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ld=new rd(_c.comparator);function ud(){return ld}var cd=new rd(_c.comparator);function hd(){return cd}var dd=new rd(_c.comparator);function pd(){return dd}var fd=new sd(_c.comparator);function md(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=fd,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var gd=new sd(Wu);function yd(){return gd}var vd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,_d.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Xu.min(),r,yd(),ud(),md())},t}(),_d=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(lc.EMPTY_BYTE_STRING,n,md(),md(),md())},t}(),bd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},wd=function(t,e){this.targetId=t,this.V=e},Cd=function(t,e,n,r){void 0===n&&(n=lc.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Sd=function(){function t(){this.S=0,this.D=Ed(),this.C=lc.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=md(),e=md(),n=md();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Gu()}}),new _d(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Ed()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),xd=function(){function t(t){this.W=t,this.G=new Map,this.H=ud(),this.J=Td(),this.Y=new sd(Wu)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Gu()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Vc(i))if(0===n){var o=new _c(i.path);this.tt(e,o,Lc.newNoDocument(o,Xu.min()))}else zu(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Vc(o.target)){var s=new _c(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Lc.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}});var r=md();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new vd(t,n,this.Y,this.H,r);return this.H=ud(),this.J=Td(),this.Y=new sd(Wu),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Sd,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new sd(Wu),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Zu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Sd),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Td(){return new rd(_c.comparator)}function Ed(){return new rd(_c.comparator)}var kd={asc:"ASCENDING",desc:"DESCENDING"},Ad={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Id=function(t,e){this.databaseId=t,this.I=e};function Od(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dd(t,e){return t.I?e.toBase64():e.toUint8Array()}function Rd(t,e){return Od(t,e.toTimestamp())}function Pd(t){return zu(!!t),Xu.fromTimestamp(function(t){var e=cc(t);return new Ju(e.seconds,e.nanos)}(t))}function Nd(t,e){return function(t){return new ic(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Fd(t){var e=ic.fromString(t);return zu(op(e)),e}function Ld(t,e){return Nd(t.databaseId,e.path)}function Md(t,e){var n=Fd(e);if(n.get(1)!==t.databaseId.projectId)throw new Mu(Lu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Mu(Lu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _c(Vd(n))}function qd(t,e){return Nd(t.databaseId,e)}function Ud(t){var e=Fd(t);return 4===e.length?ic.emptyPath():Vd(e)}function Zd(t){return new ic(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vd(t){return zu(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function jd(t,e,n){return{name:Ld(t,e),fields:n.value.mapValue.fields}}function Bd(t,e,n){var r=Md(t,e.name),i=Pd(e.updateTime),o=new Nc({mapValue:{fields:e.fields}}),s=Lc.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Gd(t,e){var n;if(e instanceof zh)n={update:jd(t,e.key,e.value)};else if(e instanceof Jh)n={delete:Ld(t,e.key)};else if(e instanceof Hh)n={update:jd(t,e.key,e.data),updateMask:ip(e.fieldMask)};else{if(!(e instanceof Xh))return Gu();n={verify:Ld(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof kh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ah)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Oh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Gu()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Rd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Gu()}(t,e.precondition)),n}function zd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Mh.updateTime(Pd(t.updateTime)):void 0!==t.exists?Mh.exists(t.exists):Mh.none()}(e.currentDocument):Mh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(zu("REQUEST_TIME"===e.setToServerValue),n=new kh):"appendMissingElements"in e?n=new Ah(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Oh(e.removeAllFromArray.values||[]):"increment"in e?n=new Rh(t,e.increment):Gu();var r=sc.fromServerFormat(e.fieldPath);return new Fh(r,n)}(t,e)}):[];if(e.update){var i=Md(t,e.update.name),o=new Nc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new ac((t.fieldPaths||[]).map(function(t){return sc.fromServerFormat(t)}))}(e.updateMask);return new Hh(i,o,s,n,r)}return new zh(i,o,n,r)}if(e.delete){var a=Md(t,e.delete);return new Jh(a,n)}if(e.verify){var l=Md(t,e.verify);return new Xh(l,n)}return Gu()}function Hd(t,e){return{documents:[qd(t,e.path)]}}function Yd(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=qd(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=qd(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Dc(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NAN"}};if(Oc(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Dc(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NOT_NAN"}};if(Oc(t.value))return{unaryFilter:{field:tp(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tp(t.field),op:Xd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:tp(t.field),direction:Jd(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||gc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=$d(e.startAt)),e.endAt&&(n.structuredQuery.endAt=$d(e.endAt)),n}function Qd(t){var e=Ud(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){zu(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Wd(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Xc(ep(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var l=null;n.limit&&(l=function(t){var e;return gc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=Kd(n.startAt));var c=null;return n.endAt&&(c=Kd(n.endAt)),ih(e,i,a,s,l,"F",u,c)}function Wd(t){return t?void 0!==t.unaryFilter?[rp(t)]:void 0!==t.fieldFilter?[np(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Wd(t)}).reduce(function(t,e){return t.concat(e)}):Gu():[]}function $d(t){return{before:t.before,values:t.position}}function Kd(t){return new Kc(t.values||[],!!t.before)}function Jd(t){return kd[t]}function Xd(t){return Ad[t]}function tp(t){return{fieldPath:t.canonicalString()}}function ep(t){return sc.fromServerFormat(t.fieldPath)}function np(t){return jc.create(ep(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Gu()}}(t.fieldFilter.op),t.fieldFilter.value)}function rp(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ep(t.unaryFilter.field);return jc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ep(t.unaryFilter.field);return jc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ep(t.unaryFilter.field);return jc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ep(t.unaryFilter.field);return jc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Gu()}}function ip(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function op(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function sp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=lp(e)),e=ap(t.get(n),e);return lp(e)}function ap(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function lp(t){return t+"\x01\x01"}function up(t){var e=t.length;if(zu(e>=2),2===e)return zu("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ic.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Gu(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Gu()}o=s+2}return new ic(r)}var cp=function(t,e){this.seconds=t,this.nanoseconds=e},hp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};hp.store="owner",hp.key="owner";var dp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};dp.store="mutationQueues",dp.keyPath="userId";var pp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};pp.store="mutations",pp.keyPath="batchId",pp.userMutationsIndex="userMutationsIndex",pp.userMutationsKeyPath=["userId","batchId"];var fp=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,sp(e)]},t.key=function(t,e,n){return[t,sp(e),n]},t}();fp.store="documentMutations",fp.PLACEHOLDER=new fp;var mp=function(t,e){this.path=t,this.readTime=e},gp=function(t,e){this.path=t,this.version=e},yp=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};yp.store="remoteDocuments",yp.readTimeIndex="readTimeIndex",yp.readTimeIndexPath="readTime",yp.collectionReadTimeIndex="collectionReadTimeIndex",yp.collectionReadTimeIndexPath=["parentPath","readTime"];var vp=function(t){this.byteSize=t};vp.store="remoteDocumentGlobal",vp.key="remoteDocumentGlobalKey";var _p=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};_p.store="targets",_p.keyPath="targetId",_p.queryTargetsIndexName="queryTargetsIndex",_p.queryTargetsKeyPath=["canonicalId","targetId"];var bp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};bp.store="targetDocuments",bp.keyPath=["targetId","path"],bp.documentTargetsIndex="documentTargetsIndex",bp.documentTargetsKeyPath=["path","targetId"];var wp=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};wp.key="targetGlobalKey",wp.store="targetGlobal";var Cp=function(t,e){this.collectionId=t,this.parent=e};Cp.store="collectionParents",Cp.keyPath=["collectionId","parent"];var Sp=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Sp.store="clientMetadata",Sp.keyPath="clientId";var xp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};xp.store="bundles",xp.keyPath="bundleId";var Tp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Tp.store="namedQueries",Tp.keyPath="name";var Ep=(0,To.ev)((0,To.ev)([],(0,To.ev)((0,To.ev)([],(0,To.ev)((0,To.ev)([],(0,To.ev)((0,To.ev)([],[dp.store,pp.store,fp.store,yp.store,_p.store,hp.store,wp.store,bp.store]),[Sp.store])),[vp.store])),[Cp.store])),[xp.store,Tp.store]),kp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ap=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Ip=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Op=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Gu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Dp=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ip,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Np(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Up(e.target.error);n.ft.reject(new Np(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Np(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Zu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Lp(e)},t}(),Rp=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Eo.z$)())&&Vu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Zu("SimpleDb","Removing database:",t),Mp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Eo.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n=this;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Zu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Np(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Mu(Lu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Np(t,n))},i.onupgradeneeded=function(t){Zu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Zu("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,To.mG)(this,void 0,void 0,function(){var i,o,s,a,l;return(0,To.Jh)(this,function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,l,u,c;return(0,To.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Dp.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Op.reject(t)}).toPromise(),l={},s.catch(function(){}),[4,e.dt];case 3:return[2,(l.value=(h.sent(),s),l)];case 4:return Zu("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",c="FirebaseError"!==u.name&&o<3),a.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(l=u.sent()))return[2,l.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Pp=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Mp(this.Pt.delete())},t}(),Np=function(t){function e(e,n){var r=this;return(r=t.call(this,Lu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,To.ZT)(e,t),e}(Mu);function Fp(t){return"IndexedDbTransactionError"===t.name}var Lp=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Zu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Zu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Mp(n)},t.prototype.add=function(t){return Zu("SimpleDb","ADD",this.store.name,t,t),Mp(this.store.add(t))},t.prototype.get=function(t){var e=this;return Mp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Zu("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Zu("SimpleDb","DELETE",this.store.name,t),Mp(this.store.delete(t))},t.prototype.count=function(){return Zu("SimpleDb","COUNT",this.store.name),Mp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.kt=function(t,e){Zu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Op(function(n,r){e.onerror=function(t){var e=Up(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Op(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Pp(i),s=e(i.primaryKey,i.value,o);if(s instanceof Op){var a=s.catch(function(t){return o.done(),Op.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Op.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Mp(t){return new Op(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Up(t.target.error);n(e)}})}var qp=!1;function Up(t){var e=Rp._t((0,Eo.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Mu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qp||(qp=!0,setTimeout(function(){throw r},0)),r}}return t}var Zp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,To.ZT)(e,t),e}(Ap);function Vp(t,e){var n=Hu(t);return Rp.It(n.Mt,e)}var jp=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Zh(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Vh(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Vh(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Xu.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},md())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$u(this.mutations,t.mutations,function(t,e){return Bh(t,e)})&&$u(this.baseMutations,t.baseMutations,function(t,e){return Bh(t,e)})},t}(),Bp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){zu(e.mutations.length===r.length);for(var i=pd(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Gp=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Xu.min()),void 0===o&&(o=Xu.min()),void 0===s&&(s=lc.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),zp=function(t){this.Lt=t};function Hp(t,e){if(e.document)return Bd(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=_c.fromSegments(e.noDocument.path),r=Kp(e.noDocument.readTime),i=Lc.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=_c.fromSegments(e.unknownDocument.path);return r=Kp(e.unknownDocument.version),Lc.newUnknownDocument(o,r)}return Gu()}function Yp(t,e,n){var r=Qp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ld(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Od(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new yp(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),l=$p(e.version);return s=e.hasCommittedMutations,new yp(null,new mp(a,l),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),c=$p(e.version);return new yp(new gp(u,c),null,null,!0,r,i)}return Gu()}function Qp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wp(t){var e=new Ju(t[0],t[1]);return Xu.fromTimestamp(e)}function $p(t){var e=t.toTimestamp();return new cp(e.seconds,e.nanoseconds)}function Kp(t){var e=new Ju(t.seconds,t.nanoseconds);return Xu.fromTimestamp(e)}function Jp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return zd(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return zd(t.Lt,e)}),o=Ju.fromMillis(e.localWriteTimeMs);return new jp(e.batchId,o,n,i)}function Xp(t){var e,n,r=Kp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Kp(t.lastLimboFreeSnapshotVersion):Xu.min();return void 0!==t.query.documents?(zu(1===(n=t.query).documents.length),e=dh(oh(Ud(n.documents[0])))):e=function(t){return dh(Qd(t))}(t.query),new Gp(e,t.targetId,0,t.lastListenSequenceNumber,r,i,lc.fromBase64String(t.resumeToken))}function tf(t,e){var n,r=$p(e.snapshotVersion),i=$p(e.lastLimboFreeSnapshotVersion);n=Vc(e.target)?Hd(t.Lt,e.target):Yd(t.Lt,e.target);var o=e.resumeToken.toBase64();return new _p(e.targetId,Uc(e.target),r,o,e.sequenceNumber,i,n)}function ef(t){var e=Qd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ph(e,e.limit,"L"):e}var nf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return rf(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Kp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return rf(t).put({bundleId:(n=e).id,createTime:$p(Pd(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return of(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:ef(e.bundledQuery),readTime:Kp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return of(t).put(function(t){return{name:t.name,readTime:$p(Pd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function rf(t){return Vp(t,xp.store)}function of(t){return Vp(t,Tp.store)}var sf=function(){function t(){this.Bt=new af}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Op.resolve()},t.prototype.getCollectionParents=function(t,e){return Op.resolve(this.Bt.getEntries(e))},t}(),af=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new sd(ic.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new sd(ic.comparator)).toArray()},t}(),lf=function(){function t(){this.qt=new af}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:sp(i)};return uf(t).put(o)}return Op.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ku(e),""],!1,!0);return uf(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(up(o.parent))}return n})},t}();function uf(t){return Vp(t,Cp.store)}var cf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function df(t,e,n){var r=t.store(pp.store),i=t.store(fp.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=r.$t({range:s},function(t,e,n){return a++,n.delete()});o.push(l.next(function(){zu(1===a)}));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=fp.key(e,d.key.path,n.batchId);o.push(i.delete(p)),u.push(d.key)}return Op.waitFor(o).next(function(){return u})}function pf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Gu();e=t.noDocument}return JSON.stringify(e).length}hf.DEFAULT_COLLECTION_PERCENTILE=10,hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hf.DEFAULT=new hf(41943040,hf.DEFAULT_COLLECTION_PERCENTILE,hf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hf.DISABLED=new hf(-1,0,0);var ff=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return zu(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gf(t).$t({index:pp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=yf(t),s=gf(t);return s.add({}).next(function(a){zu("number"==typeof a);for(var l=new jp(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return Gd(t.Lt,e)}),i=n.mutations.map(function(e){return Gd(t.Lt,e)});return new pp(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,l),c=[],h=new sd(function(t,e){return Wu(t.canonicalString(),e.canonicalString())}),d=0,p=r;d<p.length;d++){var f=p[d],m=fp.key(i.userId,f.key.path,a);h=h.add(f.key.path.popLast()),c.push(s.put(u)),c.push(o.put(m,fp.PLACEHOLDER))}return h.forEach(function(e){c.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Kt[a]=l.keys()}),Op.waitFor(c).next(function(){return l})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return gf(t).get(e).next(function(t){return t?(zu(t.userId===n.userId),Jp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Op.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return gf(t).$t({index:pp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(zu(e.batchId>=r),o=Jp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return gf(t).$t({index:pp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gf(t).Nt(pp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Jp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=fp.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return yf(t).$t({range:i},function(r,i,s){var a=r[0],l=r[2],u=up(r[1]);if(a===n.userId&&e.path.isEqual(u))return gf(t).get(l).next(function(t){if(!t)throw Gu();zu(t.userId===n.userId),o.push(Jp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new sd(Wu),i=[];return e.forEach(function(e){var o=fp.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=yf(t).$t({range:s},function(t,i,o){var s=t[0],a=t[2],l=up(t[1]);s===n.userId&&e.path.isEqual(l)?r=r.add(a):o.done()});i.push(a)}),Op.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=fp.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new sd(Wu);return yf(t).$t({range:s},function(t,e,o){var s=t[0],l=t[2],u=up(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(l)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(gf(t).get(e).next(function(t){if(null===t)throw Gu();zu(t.userId===n.userId),r.push(Jp(n.R,t))}))}),Op.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return df(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Op.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Op.resolve();var r=IDBKeyRange.lowerBound(fp.prefixForUser(e.userId)),i=[];return yf(t).$t({range:r},function(t,n,r){if(t[0]===e.userId){var o=up(t[1]);i.push(o)}else r.done()}).next(function(){zu(0===i.length)})})},t.prototype.containsKey=function(t,e){return mf(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return vf(t).get(this.userId).next(function(t){return t||new dp(e.userId,-1,"")})},t}();function mf(t,e,n){var r=fp.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return yf(t).$t({range:o,Ft:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function gf(t){return Vp(t,pp.store)}function yf(t){return Vp(t,fp.store)}function vf(t){return Vp(t,dp.store)}var _f=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bf=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new _f(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Xu.fromTimestamp(new Ju(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return wf(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return zu(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return wf(t).$t(function(s,a){var l=Xp(a);l.sequenceNumber<=e&&null===n.get(l.targetId)&&(i++,o.push(r.removeTargetData(t,l)))}).next(function(){return Op.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return wf(t).$t(function(t,n){var r=Xp(n);e(r)})},t.prototype.Xt=function(t){return Cf(t).get(wp.key).next(function(t){return zu(null!==t),t})},t.prototype.Zt=function(t,e){return Cf(t).put(wp.key,e)},t.prototype.te=function(t,e){return wf(t).put(tf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Uc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return wf(t).$t({range:r,index:_p.queryTargetsIndexName},function(t,n,r){var o=Xp(n);Zc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Sf(t);return e.forEach(function(e){var s=sp(e.path);i.push(o.put(new bp(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Op.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Sf(t);return Op.forEach(e,function(e){var o=sp(e.path);return Op.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Sf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Sf(t),i=md();return r.$t({range:n,Ft:!0},function(t,e,n){var r=up(t[1]),o=new _c(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=sp(e.path),r=IDBKeyRange.bound([n],[Ku(n)],!1,!0),i=0;return Sf(t).$t({index:bp.documentTargetsIndex,Ft:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return wf(t).get(e).next(function(t){return t?Xp(t):null})},t}();function wf(t){return Vp(t,_p.store)}function Cf(t){return Vp(t,wp.store)}function Sf(t){return Vp(t,bp.store)}function xf(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){if(t.code!==Lu.FAILED_PRECONDITION||t.message!==kp)throw t;return Zu("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Tf(t,e){var n=t[1],r=e[1],i=Wu(t[0],e[0]);return 0===i?Wu(n,r):i}var Ef=function(){function t(t){this.ne=t,this.buffer=new sd(Tf),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Tf(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),kf=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Zu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,To.mG)(e,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Fp(e=n.sent())?(Zu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,xf(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Af=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Op.resolve(Fu.o);var r=new Ef(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Zu("LruGarbageCollector","Garbage collection skipped; disabled"),Op.resolve(cf)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Zu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),cf):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,l,u=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(Zu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return l=Date.now(),Uu()<=ko.in.DEBUG&&Zu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),Op.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),If=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Af(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Of(t,n)},t.prototype.removeReference=function(t,e,n){return Of(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Of(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return vf(t).Ot(function(r){return mf(t,r,e).next(function(t){return t&&(n=!0),Op.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var l=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Sf(t).delete([0,sp(s.path)])})});i.push(l)}}).next(function(){return Op.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Of(t,e)},t.prototype.we=function(t,e){var n,r=Sf(t),i=Fu.o;return r.$t({index:bp.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Fu.o&&e(new _c(up(n)),i),i=s,n=o):i=Fu.o}).next(function(){i!==Fu.o&&e(new _c(up(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Of(t,e){return Sf(t).put(function(t,e){return new bp(0,sp(t.path),e)}(e,t.currentSequenceNumber))}var Df=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ec(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return nc(this.inner)},t}(),Rf=function(){function t(){this.changes=new Df(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Xu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Lc.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Op.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Pf=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Lf(t).put(Mf(e),n)},t.prototype.removeEntry=function(t,e){var n=Lf(t),r=Mf(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Lf(t).get(Mf(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Lf(t).get(Mf(e)).next(function(t){return{document:n.ye(e,t),size:pf(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=ud();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=ud(),i=new rd(_c.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,pf(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Op.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Lf(t).$t({range:r},function(t,e,r){for(var s=_c.fromSegments(t);o&&_c.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=ud(),o=e.path.length+1,s={};if(n.isEqual(Xu.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var l=e.path.toArray(),u=Qp(n);s.range=IDBKeyRange.lowerBound([l,u],!0),s.index=yp.collectionReadTimeIndex}return Lf(t).$t(s,function(t,n,s){if(t.length===o){var a=Hp(r.R,n);e.path.isPrefixOf(a.key.path)?yh(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Nf(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Ff(t).get(vp.key).next(function(t){return zu(!!t),t})},t.prototype.me=function(t,e){return Ff(t).put(vp.key,e)},t.prototype.ye=function(t,e){if(e){var n=Hp(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Xu.min()))return n}return Lc.newInvalidDocument(t)},t}(),Nf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Df(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,To.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new sd(function(t,e){return Wu(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var l=Yp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=pf(l);r+=u-a,n.push(e.Ie.addEntry(t,o,l))}else if(r-=a,e.trackRemovals){var c=Yp(e.Ie.R,Lc.newNoDocument(o,Xu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,c))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Op.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Rf);function Ff(t){return Vp(t,vp.store)}function Lf(t){return Vp(t,yp.store)}function Mf(t){return t.path.toArray()}var qf=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;zu(n<r&&n>=0&&r<=11);var o=new Dp("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(hp.store)}(t),function(t){t.createObjectStore(dp.store,{keyPath:dp.keyPath}),t.createObjectStore(pp.store,{keyPath:pp.keyPath,autoIncrement:!0}).createIndex(pp.userMutationsIndex,pp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fp.store)}(t),Uf(t),function(t){t.createObjectStore(yp.store)}(t));var s=Op.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(bp.store),t.deleteObjectStore(_p.store),t.deleteObjectStore(wp.store)}(t),Uf(t)),s=s.next(function(){return function(t){var e=t.store(wp.store),n=new wp(0,0,Xu.min().toTimestamp(),0);return e.put(wp.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(pp.store).Nt().next(function(n){t.deleteObjectStore(pp.store),t.createObjectStore(pp.store,{keyPath:pp.keyPath,autoIncrement:!0}).createIndex(pp.userMutationsIndex,pp.userMutationsKeyPath,{unique:!0});var r=e.store(pp.store),i=n.map(function(t){return r.put(t)});return Op.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Sp.store,{keyPath:Sp.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(vp.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(yp.store);e.createIndex(yp.readTimeIndex,yp.readTimeIndexPath,{unique:!1}),e.createIndex(yp.collectionReadTimeIndex,yp.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(xp.store,{keyPath:xp.keyPath})}(t),function(t){t.createObjectStore(Tp.store,{keyPath:Tp.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(yp.store).$t(function(t,n){e+=pf(n)}).next(function(){var n=new vp(e);return t.store(vp.store).put(vp.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(dp.store),r=t.store(pp.store);return n.Nt().next(function(n){return Op.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(pp.userMutationsIndex,i).next(function(r){return Op.forEach(r,function(r){zu(r.userId===n.userId);var i=Jp(e.R,r);return df(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(bp.store),n=t.store(yp.store);return t.store(wp.store).get(wp.key).next(function(t){var r=[];return n.$t(function(n,i){var o=new ic(n),s=function(t){return[0,sp(t)]}(o);r.push(e.get(s).next(function(n){return n?Op.resolve():function(n){return e.put(new bp(0,sp(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Op.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Cp.store,{keyPath:Cp.keyPath});var n=e.store(Cp.store),r=new af,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:sp(i)})}};return e.store(yp.store).$t({Ft:!0},function(t,e){var n=new ic(t);return i(n.popLast())}).next(function(){return e.store(fp.store).$t({Ft:!0},function(t,e){var n=up(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(_p.store);return n.$t(function(t,r){var i=Xp(r),o=tf(e.R,i);return n.put(o)})},t}();function Uf(t){t.createObjectStore(bp.store,{keyPath:bp.keyPath}).createIndex(bp.documentTargetsIndex,bp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(_p.store,{keyPath:_p.keyPath}).createIndex(_p.queryTargetsIndexName,_p.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(wp.store)}var Zf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Vf=function(){function t(e,n,r,i,o,s,a,l,u,c){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=c,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Mu(Lu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new If(this,i),this.Le=n+"main",this.R=new zp(l),this.Be=new Rp(this.Le,11,new qf(this.R)),this.qe=new bf(this.referenceDelegate,this.R),this.Ut=new lf,this.Ue=function(t,e){return new Pf(t,e)}(this.R,this.Ut),this.Ke=new nf,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===c&&Vu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Mu(Lu.FAILED_PRECONDITION,Zf);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Fu(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,To.mG)(e,void 0,void 0,function(){return(0,To.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,To.mG)(e,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,To.mG)(e,void 0,void 0,function(){return(0,To.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Bf(e).put(new Sp(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Fp(e))return Zu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Zu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return jf(t).get(hp.key).next(function(t){return Op.resolve(e.tn(t))})},t.prototype.en=function(t){return Bf(t).delete(this.clientId)},t.prototype.nn=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Vp(t,Sp.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Op.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)this.Qe.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Op.resolve(!0):jf(t).get(hp.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Mu(Lu.FAILED_PRECONDITION,Zf);return!1}}return!(!e.networkEnabled||!e.inForeground)||Bf(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Zu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,To.mG)(this,void 0,void 0,function(){var t=this;return(0,To.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[hp.store,Sp.store],function(e){var n=new Zp(e,Fu.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Bf(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return ff.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Zu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Ep,function(o){return r=new Zp(o,i.Ne?i.Ne.next():Fu.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Vu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Mu(Lu.FAILED_PRECONDITION,kp);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return jf(t).get(hp.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Mu(Lu.FAILED_PRECONDITION,Zf)})},t.prototype.Ze=function(t){var e=new hp(this.clientId,this.allowTabSynchronization,Date.now());return jf(t).put(hp.key,e)},t.yt=function(){return Rp.yt()},t.prototype.Xe=function(t){var e=this,n=jf(t);return n.get(hp.key).next(function(t){return e.tn(t)?(Zu("IndexedDbPersistence","Releasing primary lease."),n.delete(hp.key)):Op.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Vu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,Eo.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Zu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Vu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function jf(t){return Vp(t,hp.store)}function Bf(t){return Vp(t,Sp.store)}function Gf(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var zf=function(t,e){this.progress=t,this.wn=e},Hf=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return _c.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):ch(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new _c(e)).next(function(t){var e=hd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=hd();return this.Ut.getCollectionParents(t,i).next(function(s){return Op.forEach(s,function(s){var a=function(t,e){return new rh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var l=a[s],u=l.key,c=r.get(u);null==c&&(c=Lc.newInvalidDocument(u),r=r.insert(u,c)),Vh(l,c,o.localWriteTime),c.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){yh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=md(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var l=a[s];l instanceof Hh&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),Yf=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=md(),i=md(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Qf=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Xu.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(sh(e)||ah(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Uu()<=ko.in.DEBUG&&Zu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new sd(vh(t));return e.forEach(function(e,r){yh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Uu()<=ko.in.DEBUG&&Zu("QueryEngine","Using full collection scan to execute query:",gh(e)),this.Sn.getDocumentsMatchingQuery(t,e,Xu.min())},t}(),Wf=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new rd(Wu),this.Fn=new Df(function(t){return Uc(t)},Zc),this.$n=Xu.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Hf(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.kn)})},t}();function $f(t,e,n,r){return new Wf(t,e,n,r)}function Kf(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,To.Jh)(this,function(s){switch(s.label){case 0:return n=Hu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new Hf(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=md(),a=0,l=o;a<l.length;a++){var u=l[a];n.push(u.batchId);for(var c=0,h=u.mutations;c<h.length;c++)s=s.add(h[c].key)}for(var d=0,p=e;d<p.length;d++){var f=p[d];r.push(f.batchId);for(var m=0,g=f.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Jf(t,e){var n=Hu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Op.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);zu(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function Xf(t){var e=Hu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function tm(t,e){var n=Hu(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var l=e.resumeToken;if(l.approximateByteSize()>0){var u=a.withResumeToken(l,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return zu(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}});var a=ud();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(em(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Xu.min())){var l=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(l)}return Op.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.kn=i,t})}function em(t,e,n,r,i){var o=md();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=ud();return n.forEach(function(n,s){var a=t.get(n),l=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Xu.min())?(e.removeEntry(n,l),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,l),o=o.insert(n,s)):Zu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function nm(t,e){var n=Hu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function rm(t,e){var n=Hu(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Op.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new Gp(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t})}function im(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:r=Hu(t),i=r.kn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Fp(s=a.sent()))throw s;return Zu("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(i.target),[2]}})})}function om(t,e,n){var r=Hu(t),i=Xu.min(),o=md();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Hu(t),i=r.Fn.get(n);return void 0!==i?Op.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,dh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Xu.min(),n?o:md())}).next(function(t){return{documents:t,Bn:o}})})}function sm(t,e){var n=Hu(t),r=Hu(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function am(t){var e=Hu(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Hu(t),i=ud(),o=Qp(n),s=Lf(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:yp.readTimeIndex,range:a},function(t,e){var n=Hp(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Wp(o)}})}(e.On,t,e.$n)}).then(function(t){var n=t.wn;return e.$n=t.readTime,n})}function lm(t){return(0,To.mG)(this,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){return[2,(e=Hu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Lf(t),n=Xu.min();return e.$t({index:yp.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Wp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.$n=t})]})})}function um(t,e,n,r){return(0,To.mG)(this,void 0,void 0,function(){var i,o,s,a,l,u,c,h,d,p;return(0,To.Jh)(this,function(f){switch(f.label){case 0:for(i=Hu(t),o=md(),s=ud(),a=pd(),l=0,u=n;l<u.length;l++)h=e.qn((c=u[l]).metadata.name),c.document&&(o=o.add(h)),s=s.insert(h,e.Un(c)),a=a.insert(h,e.Kn(c.metadata.readTime));return d=i.On.newChangeBuffer({trackRemovals:!0}),[4,rm(i,function(t){return dh(oh(ic.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=f.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return em(t,d,s,Xu.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,p.targetId).next(function(){return i.qe.addMatchingKeys(t,o,p.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function cm(t,e,n){return void 0===n&&(n=md()),(0,To.mG)(this,void 0,void 0,function(){var r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return[4,rm(t,dh(ef(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Hu(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Pd(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(lc.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Ke.saveNamedQuery(t,e)})})]}})})}var hm=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Op.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Pd(n.createTime)}),Op.resolve()},t.prototype.getNamedQuery=function(t,e){return Op.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:ef(t.bundledQuery),readTime:Pd(t.readTime)}}(e)),Op.resolve()},t}(),dm=function(){function t(){this.Wn=new sd(pm.Gn),this.zn=new sd(pm.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new pm(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new pm(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new _c(new ic([])),r=new pm(n,t),i=new pm(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new _c(new ic([])),n=new pm(e,t),r=new pm(e,t+1),i=md();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new pm(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),pm=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return _c.comparator(t.key,e.key)||Wu(t.ns,e.ns)},t.Hn=function(t,e){return Wu(t.ns,e.ns)||_c.comparator(t.key,e.key)},t}(),fm=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new sd(pm.Gn)}return t.prototype.checkEmpty=function(t){return Op.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new jp(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var l=a[s];this.rs=this.rs.add(new pm(l.key,i)),this.Ut.addToCollectionParentIndex(t,l.key.path.popLast())}return Op.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Op.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Op.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Op.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Op.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new pm(e,0),i=new pm(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Op.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new sd(Wu);return e.forEach(function(t){var e=new pm(t,0),i=new pm(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Op.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;_c.isDocumentKey(i)||(i=i.child(""));var o=new pm(new _c(i),0),s=new sd(Wu);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Op.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;zu(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Op.forEach(e.mutations,function(i){var o=new pm(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new pm(e,0),r=this.rs.firstAfterOrEqual(n);return Op.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Op.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),mm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new rd(_c.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Op.resolve(n?n.document.clone():Lc.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=ud();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Lc.newInvalidDocument(t))}),Op.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=ud(),i=new _c(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,l=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||yh(e,l)&&(r=r.insert(l.key,l.clone()))}return Op.resolve(r)},t.prototype.fs=function(t,e){return Op.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new gm(this)},t.prototype.getSize=function(t){return Op.resolve(this.size)},t}(),gm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,To.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Op.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Rf),ym=function(){function t(t){this.persistence=t,this.ds=new Df(function(t){return Uc(t)},Zc),this.lastRemoteSnapshotVersion=Xu.min(),this.highestTargetId=0,this.ws=0,this._s=new dm,this.targetCount=0,this.ys=_f.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Op.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Op.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Op.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Op.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Op.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new _f(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Op.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Op.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Op.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Op.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Op.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Op.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Op.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Op.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Op.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Op.resolve(n)},t.prototype.containsKey=function(t,e){return Op.resolve(this._s.containsKey(e))},t}(),vm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Fu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ym(this),this.Ut=new sf,this.Ue=function(t,e){return new mm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new zp(e),this.Ke=new hm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new fm(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Zu("MemoryPersistence","Starting transaction:",t);var i=new _m(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Op.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),_m=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,To.ZT)(e,t),e}(Ap),bm=function(){function t(t){this.persistence=t,this.As=new dm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Gu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Op.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Op.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Op.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Op.forEach(this.vs,function(r){var i=_c.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Op.or([function(){return Op.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),wm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Cm(t,e){return"firestore_clients_"+t+"_"+e}function Sm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function xm(t,e){return"firestore_targets_"+t+"_"+e}wm.UNAUTHENTICATED=new wm(null),wm.GOOGLE_CREDENTIALS=new wm("google-credentials-uid"),wm.FIRST_PARTY=new wm("first-party-uid"),wm.MOCK_USER=new wm("mock-user");var Tm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Mu(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Vu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Em=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Mu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Vu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),km=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=yd(),s=0;i&&s<r.activeTargetIds.length;++s)i=vc(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Vu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Am=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Vu("SharedClientState","Failed to parse online state: "+e),null)},t}(),Im=function(){function t(){this.activeTargetIds=yd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Om=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new rd(Wu),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=Cm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Im),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,l,u,c=this;return(0,To.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Cm(this.persistenceKey,r)))&&(o=km.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),l=0,u=this.$s;l<u.length;l++)this.ks(u[l]);return this.$s=[],this.window.addEventListener("pagehide",function(){return c.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(xm(this.persistenceKey,t));if(n){var r=Em.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(xm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Zu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Zu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Zu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Zu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Vu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,To.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,To.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Fu.o;if(null!=t)try{var n=JSON.parse(t);zu("number"==typeof n),e=n}catch(t){Vu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Fu.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Tm(this.currentUser,t,e,n),i=Sm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Sm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=xm(this.persistenceKey,t),i=new Em(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return km.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Tm.Vs(new wm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Em.Vs(r,e)},t.prototype.js=function(t){return Am.Vs(t)},t.prototype.ii=function(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Zu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.Fs=r})},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=yd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Dm=function(){function t(){this.li=new Im,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Im,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Rm=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Pm=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Zu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Zu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Nm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Fm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Lm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,To.ZT)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise(function(i,o){var s=new Nu;s.listenOnce(Ou.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Iu.NO_ERROR:var e=s.getResponseJson();Zu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Iu.TIMEOUT:Zu("Connection",'RPC "'+t+'" timed out'),o(new Mu(Lu.DEADLINE_EXCEEDED,"Request time out"));break;case Iu.HTTP_ERROR:var n=s.getStatus();if(Zu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Lu).indexOf(e)>=0?e:Lu.UNKNOWN}(r.status);o(new Mu(a,r.message))}else o(new Mu(Lu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Mu(Lu.UNAVAILABLE,"Connection failed."));break;default:Gu()}}finally{Zu("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new xu,i=va(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ru({})),this.ki(o.initMessageHeaders,e),(0,Eo.uI)()||(0,Eo.b$)()||(0,Eo.d)()||(0,Eo.w1)()||(0,Eo.Mn)()||(0,Eo.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Zu("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),l=!1,u=!1,c=new Fm({Ei:function(t){u?Zu("Connection","Not sending because WebChannel is closed:",t):(l||(Zu("Connection","Opening WebChannel transport."),a.open(),l=!0),Zu("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Pu.EventType.OPEN,function(){u||Zu("Connection","WebChannel transport opened.")}),h(a,Pu.EventType.CLOSE,function(){u||(u=!0,Zu("Connection","WebChannel transport closed"),c.Vi())}),h(a,Pu.EventType.ERROR,function(t){u||(u=!0,ju("Connection","WebChannel transport errored:",t),c.Vi(new Mu(Lu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Pu.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];zu(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Zu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=$h[t];if(void 0!==e)return nd(e)}(i),s=r.message;void 0===o&&(o=Lu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,c.Vi(new Mu(o,s)),a.close()}else Zu("Connection","WebChannel received:",n),c.Si(n)}}),h(i,Du.STAT_EVENT,function(t){10===t.stat?Zu("Connection","Detected buffering proxy"):11===t.stat&&Zu("Connection","Detected no buffering proxy")}),setTimeout(function(){c.Pi()},0),c},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Zu("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then(function(t){return Zu("RestConnection","Received: ",t),t},function(e){throw ju("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Nm[t]},t}());function Mm(){return"undefined"!=typeof window?window:null}function qm(){return"undefined"!=typeof document?document:null}function Um(t){return new Id(t,!0)}var Zm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Zu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Vm=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Zm(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Lu.RESOURCE_EXHAUSTED?(Vu(e.toString()),Vu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Lu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Mu(Lu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,To.mG)(t,void 0,void 0,function(){return(0,To.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Zu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Zu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),jm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,To.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Gu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(zu(void 0===e||"string"==typeof e),lc.fromBase64String(e||"")):(zu(void 0===e||e instanceof Uint8Array),lc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Lu.UNKNOWN:nd(t.code);return new Mu(e,t.message||"")}(a);n=new Cd(r,i,o,s||null)}else if("documentChange"in e){i=Md(t,(r=e.documentChange).document.name),o=Pd(r.document.updateTime);var a=new Nc({mapValue:{fields:r.document.fields}}),l=(s=Lc.newFoundDocument(i,o,a),r.targetIds||[]);n=new bd(l,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Md(t,(r=e.documentDelete).document),o=r.readTime?Pd(r.readTime):Xu.min(),a=Lc.newNoDocument(i,o),n=new bd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Md(t,(r=e.documentRemove).document),n=new bd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Gu();var u=e.filter;i=new td(r=u.count||0),n=new wd(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Xu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Xu.min():e.readTime?Pd(e.readTime):Xu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Zd(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Vc(r)?{documents:Hd(t,r)}:{query:Yd(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Dd(t,e.resumeToken):e.snapshotVersion.compareTo(Xu.min())>0&&(n.readTime=Od(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Zd(this.R),e.removeTarget=t,this.cr(e)},e}(Vm),Bm=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,To.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(zu(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(zu(void 0!==e),t.map(function(t){return function(t,e){var n=Pd(t.updateTime?t.updateTime:e);return n.isEqual(Xu.min())&&(n=Pd(e)),new Lh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Pd(t.commitTime);return this.listener.Tr(n,e)}return zu(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Zd(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Gd(e.R,t)})};this.cr(n)},e}(Vm),Gm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,To.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Mu(Lu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Lu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Mu(Lu.UNKNOWN,t.toString())})},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.$i(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Lu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Mu(Lu.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),zm=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Vu(e),this.Vr=!1):Zu("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Hm=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,To.mG)(o,void 0,void 0,function(){return(0,To.Jh)(this,function(t){switch(t.label){case 0:return eg(this)?(Zu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,To.mG)(this,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return(e=Hu(t)).Or.add(4),[4,Qm(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Ym(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new zm(n,r)};function Ym(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:if(!eg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Qm(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Wm(t,e){var n=Hu(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),tg(n)?Xm(n):gg(n).er()&&Km(n,e))}function $m(t,e){var n=Hu(t),r=gg(n);n.$r.delete(e),r.er()&&Jm(n,e),0===n.$r.size&&(r.er()?r.ir():eg(n)&&n.Br.set("Unknown"))}function Km(t,e){t.qr.U(e.targetId),gg(t).mr(e)}function Jm(t,e){t.qr.U(e),gg(t).yr(e)}function Xm(t){t.qr=new xd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),gg(t).start(),t.Br.Sr()}function tg(t){return eg(t)&&!gg(t).tr()&&t.$r.size>0}function eg(t){return 0===Hu(t).Or.size}function ng(t){t.qr=void 0}function rg(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){return t.$r.forEach(function(e,n){Km(t,e)}),[2]})})}function ig(t,e){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(n){return ng(t),tg(t)?(t.Br.Nr(e),Xm(t)):t.Br.set("Unknown"),[2]})})}function og(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o;return(0,To.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Cd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,To.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.$r.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Zu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,sg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof bd?t.qr.X(e):e instanceof wd?t.qr.rt(e):t.qr.et(e),n.isEqual(Xu.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Xf(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(lc.EMPTY_BYTE_STRING,n.snapshotVersion)),Jm(t,e);var r=new Gp(n.target,e,1,n.sequenceNumber);Km(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Zu("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,sg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function sg(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r=this;return(0,To.Jh)(this,function(i){switch(i.label){case 0:if(!Fp(e))throw e;return t.Or.add(1),[4,Qm(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return Xf(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,To.mG)(r,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return Zu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Ym(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function ag(t,e){return e().catch(function(n){return sg(t,n,e)})}function lg(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,To.Jh)(this,function(s){switch(s.label){case 0:e=Hu(t),n=yg(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return eg(t)&&t.Fr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,nm(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.Fr.push(e);var n=yg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,sg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ug(e)&&cg(e),[2]}})})}function ug(t){return eg(t)&&!yg(t).tr()&&t.Fr.length>0}function cg(t){yg(t).start()}function hg(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){return yg(t).Ar(),[2]})})}function dg(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n,r;return(0,To.Jh)(this,function(i){for(e=yg(t),n=0,r=t.Fr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function pg(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return r=t.Fr.shift(),i=Bp.from(r,e,n),[4,ag(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,lg(t)];case 2:return o.sent(),[2]}})})}function fg(t,e){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(n){switch(n.label){case 0:return e&&yg(t).pr?[4,function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return ed(r=e.code)&&r!==Lu.ABORTED?(n=t.Fr.shift(),yg(t).sr(),[4,ag(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,lg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ug(t)&&cg(t),[2]}})})}function mg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return n=Hu(t),e?(n.Or.delete(2),[4,Ym(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Qm(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function gg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Hu(t);return r.br(),new jm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:rg.bind(null,t),Ri:ig.bind(null,t),_r:og.bind(null,t)}),t.Mr.push(function(n){return(0,To.mG)(e,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),tg(t)?Xm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ng(t),e.label=3;case 3:return[2]}})})})),t.Ur}function yg(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Hu(t);return r.br(),new Bm(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:hg.bind(null,t),Ri:fg.bind(null,t),Ir:dg.bind(null,t),Tr:pg.bind(null,t)}),t.Mr.push(function(n){return(0,To.mG)(e,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,lg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Zu("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}})})})),t.Kr}var vg=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ip,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mu(Lu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function _g(t,e){if(Vu("AsyncQueue",e+": "+t),Fp(t))return new Mu(Lu.UNAVAILABLE,e+": "+t);throw t}var bg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||_c.comparator(e.key,n.key)}:function(t,e){return _c.comparator(t.key,e.key)},this.keyedMap=hd(),this.sortedSet=new rd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),wg=function(){function t(){this.Qr=new rd(_c.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Gu():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Cg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,bg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Sg=function(){this.Wr=void 0,this.listeners=[]},xg=function(){this.queries=new Df(function(t){return mh(t)},fh),this.onlineState="Unknown",this.Gr=new Set};function Tg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,l;return(0,To.Jh)(this,function(u){switch(u.label){case 0:if(n=Hu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Sg),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),l=_g(a,"Initialization of query '"+gh(e.query)+"' failed"),[2,void e.onError(l)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Ig(n),[2]}})})}function Eg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,To.Jh)(this,function(a){return n=Hu(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function kg(t,e){for(var n=Hu(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var l=0,u=a.listeners;l<u.length;l++)u[l].Hr(s)&&(r=!0);a.Wr=s}}r&&Ig(n)}function Ag(t,e,n){var r=Hu(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ig(t){t.Gr.forEach(function(t){t.next()})}var Og=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Cg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Cg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Dg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Rg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Md(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Bd(this.R,t.document,!1):Lc.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Pd(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Rg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,l=o.metadata.queries;a<l.length;a++){var u=l[a],c=(e.get(u)||md()).add(s);e.set(u,c)}}return e},t.prototype.complete=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return[4,um(this.localStore,new Rg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,cm(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new zf(Object.assign({},this.progress),t))]}})})}}();var Pg=function(t){this.key=t},Ng=function(t){this.key=t},Fg=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=md(),this.mutatedKeys=md(),this.lo=vh(t),this.fo=new bg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new wg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=sh(this.query)&&i.size===this.query.limit?i.last():null,u=ah(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),h=yh(n.query,e)?e:null,d=!!c&&n.mutatedKeys.has(c.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),f=!1;c&&h?c.data.isEqual(h.data)?d!==p&&(r.track({type:3,doc:h}),f=!0):n.yo(c,h)||(r.track({type:2,doc:h}),f=!0,(l&&n.lo(h,l)>0||u&&n.lo(h,u)<0)&&(a=!0)):!c&&h?(r.track({type:0,doc:h}),f=!0):c&&!h&&(r.track({type:1,doc:c}),f=!0,(l||u)&&(a=!0)),f&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),sh(this.query)||ah(this.query))for(;s.size>this.query.limit;){var c=sh(this.query)?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,l=a!==this.ao;return this.ao=a,0!==o.length||l?{snapshot:new Cg(this.query,t.fo,i,o,t.mutatedKeys,0===a,l,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new wg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=md(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Ng(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Pg(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=md();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Cg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Lg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Mg=function(t){this.key=t,this.bo=!1},qg=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Df(function(t){return mh(t)},fh),this.Vo=new Map,this.So=new Set,this.Do=new rd(_c.comparator),this.Co=new Map,this.No=new dm,this.xo={},this.ko=new Map,this.Fo=_f.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Ug(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:return n=fy(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,rm(n.localStore,dh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Zg(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&Wm(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Zg(t,e,n,r){return(0,To.mG)(this,void 0,void 0,function(){var i,o,s,a,l,u;return(0,To.Jh)(this,function(c){switch(c.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,To.mG)(this,void 0,void 0,function(){var i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,om(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(Xg(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,om(t.localStore,e,!0)];case 1:return i=c.sent(),o=new Fg(e,i.Bn),s=o._o(i.documents),a=_d.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),l=o.applyChanges(s,t.isPrimaryClient,a),Xg(t,n,l.To),u=new Lg(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),l.snapshot)]}})})}function Vg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return n=Hu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!fh(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,im(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),$m(n.remoteStore,r.targetId),Kg(n,r.targetId)}).catch(xf)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Kg(n,r.targetId),[4,im(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function jg(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:r=my(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Hu(t),i=Ju.now(),o=e.reduce(function(t,e){return t.add(e.key)},md());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,l=e;a<l.length;a++){var u=l[a],c=jh(u,n.get(u.key));null!=c&&s.push(new Hh(u.key,c,Fc(c.value.mapValue),Mh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new rd(Wu)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ny(r,i.changes)];case 3:return a.sent(),[4,lg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=_g(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Bg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r;return(0,To.Jh)(this,function(i){switch(i.label){case 0:n=Hu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,tm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(zu(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?zu(r.bo):t.removedDocuments.size>0&&(zu(r.bo),r.bo=!1))}),[4,ny(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,xf(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Gg(t,e,n){var r=Hu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Hu(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Ig(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zg(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o,s,a,l;return(0,To.Jh)(this,function(u){switch(u.label){case 0:return(r=Hu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new rd(_c.comparator)).insert(o,Lc.newNoDocument(o,Xu.min())),a=md().add(o),l=new vd(Xu.min(),new Map,new sd(Wu),s,a),[4,Bg(r,l)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),ey(r),[3,4];case 2:return[4,im(r.localStore,e,!1).then(function(){return Kg(r,e,n)}).catch(xf)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function Hg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:n=Hu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Jf(n.localStore,e)];case 2:return i=o.sent(),$g(n,r,null),Wg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ny(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,xf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Yg(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:r=Hu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Hu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return zu(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),$g(r,e,n),Wg(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ny(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,xf(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Qg(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:eg((n=Hu(t)).remoteStore)||Zu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Hu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.ko.get(r)||[]).push(e),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=_g(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Wg(t,e){(t.ko.get(e)||[]).forEach(function(t){t.resolve()}),t.ko.delete(e)}function $g(t,e,n){var r=Hu(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Kg(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Jg(t,e)})}function Jg(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&($m(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),ey(t))}function Xg(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Pg?(t.No.addReference(o.key,e),ty(t,o)):o instanceof Ng?(Zu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Jg(t,o.key)):Gu()}}function ty(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Zu("SyncEngine","New document in limbo: "+n),t.So.add(r),ey(t))}function ey(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new _c(ic.fromString(e)),r=t.Fo.next();t.Co.set(r,new Mg(n)),t.Do=t.Do.insert(n,r),Wm(t.remoteStore,new Gp(dh(oh(n.path)),r,2,Fu.o))}}function ny(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:return r=Hu(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.Oo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Yf.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,l,u;return(0,To.Jh)(this,function(c){switch(c.label){case 0:n=Hu(t),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Op.forEach(e,function(e){return Op.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Op.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return c.sent(),[3,4];case 3:if(!Fp(r=c.sent()))throw r;return Zu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(l=n.kn.get(a),u=l.withLastLimboFreeSnapshotVersion(l.snapshotVersion),n.kn=n.kn.insert(a,u));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function ry(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return(n=Hu(t)).currentUser.isEqual(e)?[3,3]:(Zu("SyncEngine","User change. New user:",e.toKey()),[4,Kf(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach(function(t){t.forEach(function(t){t.reject(new Mu(Lu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ny(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function iy(t,e){var n=Hu(t),r=n.Co.get(e);if(r&&r.bo)return md().add(r.key);var i=md(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var l=n.Po.get(a[s]);i=i.unionWith(l.view.wo)}return i}function oy(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return[4,om((n=Hu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&Xg(n,e.targetId,i.To),i)]}})})}function sy(t){return(0,To.mG)(this,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){return[2,am((e=Hu(t)).localStore).then(function(t){return ny(e,t)})]})})}function ay(t,e,n,r){return(0,To.mG)(this,void 0,void 0,function(){var i,o;return(0,To.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Hu(t),r=Hu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Op.resolve(null)})})}((i=Hu(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,lg(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?($g(i,e,r||null),Wg(i,e),function(t,e){Hu(Hu(t)._n).Gt(e)}(i.localStore,e)):Gu(),s.label=4;case 4:return[4,ny(i,o)];case 5:return s.sent(),[3,7];case 6:Zu("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function ly(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,l;return(0,To.Jh)(this,function(u){switch(u.label){case 0:return fy(n=Hu(t)),my(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uy(n,r.toArray())]);case 1:return i=u.sent(),n.$o=!0,[4,mg(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)Wm(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(a=[],l=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):l=l.then(function(){return Kg(n,e),im(n.localStore,e,!0)}),$m(n.remoteStore,e)}),[4,l]);case 4:return u.sent(),[4,uy(n,a)];case 5:return u.sent(),function(t){var e=Hu(t);e.Co.forEach(function(t,n){$m(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new rd(_c.comparator)}(n),n.$o=!1,[4,mg(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function uy(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,l,u,c,h,d,p,f;return(0,To.Jh)(this,function(m){switch(m.label){case 0:n=Hu(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(l=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,rm(n.localStore,dh(u[0]))]:[3,7]):[3,13];case 2:l=m.sent(),c=0,h=u,m.label=3;case 3:return c<h.length?(d=n.Po.get(h[c]),[4,oy(n,d)]):[3,6];case 4:(p=m.sent()).snapshot&&i.push(p.snapshot),m.label=5;case 5:return c++,[3,3];case 6:return[3,11];case 7:return[4,sm(n.localStore,a)];case 8:return f=m.sent(),[4,rm(n.localStore,f)];case 9:return l=m.sent(),[4,Zg(n,cy(f),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(l),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function cy(t){return ih(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function hy(t){var e=Hu(t);return Hu(Hu(e.localStore).persistence).fn()}function dy(t,e,n,r){return(0,To.mG)(this,void 0,void 0,function(){var i,o,s;return(0,To.Jh)(this,function(a){switch(a.label){case 0:return(i=Hu(t)).$o?(Zu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,am(i.localStore)];case 3:return o=a.sent(),s=vd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ny(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,im(i.localStore,e,!0)];case 6:return a.sent(),Kg(i,e,r),[3,8];case 7:Gu(),a.label=8;case 8:return[2]}})})}function py(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o,s,a,l,u,c,h;return(0,To.Jh)(this,function(d){switch(d.label){case 0:if(!(r=fy(t)).$o)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Zu("SyncEngine","Adding an already active target "+s),[3,5]):[4,sm(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,rm(r.localStore,a)];case 3:return l=d.sent(),[4,Zg(r,cy(a),l.targetId,!1)];case 4:d.sent(),Wm(r.remoteStore,l),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,im(r.localStore,t,!1).then(function(){$m(r.remoteStore,t),Kg(r,t)}).catch(xf)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},c=0,h=n,d.label=7;case 7:return c<h.length?[5,u(h[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})}function fy(t){var e=Hu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iy.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zg.bind(null,e),e.vo._r=kg.bind(null,e.eventManager),e.vo.Mo=Ag.bind(null,e.eventManager),e}function my(t){var e=Hu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Hg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Yg.bind(null,e),e}var gy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return this.R=Um(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return $f(this.persistence,new Qf,t.initialUser,this.R)},t.prototype.qo=function(t){return new vm(bm.bs,this.R)},t.prototype.Bo=function(t){return new Dm},t.prototype.terminate=function(){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),yy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,To.ZT)(e,t),e.prototype.initialize=function(e){return(0,To.mG)(this,void 0,void 0,function(){var n=this;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,lm(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,my(this.Qo.syncEngine)];case 4:return r.sent(),[4,lg(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},e.prototype.Ko=function(t){return $f(this.persistence,new Qf,t.initialUser,this.R)},e.prototype.Uo=function(t){return new kf(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Gf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?hf.withCacheSize(this.cacheSizeBytes):hf.DEFAULT;return new Vf(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Mm(),qm(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Dm},e}(gy),vy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,To.ZT)(e,t),e.prototype.initialize=function(e){return(0,To.mG)(this,void 0,void 0,function(){var n,r=this;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Om?(this.sharedClientState.syncEngine={ui:ay.bind(null,n),ai:dy.bind(null,n),hi:py.bind(null,n),fn:hy.bind(null,n),ci:sy.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,To.mG)(r,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return[4,ly(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Mm();if(!Om.yt(e))throw new Mu(Lu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Gf(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Om(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(yy),_y=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n=this;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Gg(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ry.bind(null,this.syncEngine),[4,mg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new xg},t.prototype.createDatastore=function(t){var e=Um(t.databaseInfo.databaseId),n=new Lm(t.databaseInfo);return function(t,e,n){return new Gm(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Gg(s.syncEngine,t,0)},o=Pm.yt()?new Pm:new Rm,new Hm(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new qg(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,To.mG)(this,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return e=Hu(t),Zu("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Qm(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),by=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),wy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ip,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Dg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,To.mG)(this,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n=this;return(0,To.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Mu(Lu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,To.Jh)(this,function(l){switch(l.label){case 0:return n=Hu(t),r=Zd(n.R)+"/documents",i={documents:e.map(function(t){return Ld(n.R,t)})},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=l.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){zu(!!e.found);var n=Md(t,e.found.name),r=Pd(e.found.updateTime),i=new Nc({mapValue:{fields:e.found.fields}});return Lc.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){zu(!!e.missing),zu(!!e.readTime);var n=Md(t,e.missing),r=Pd(e.readTime);return Lc.newNoDocument(n,r)}(t,e):Gu()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());zu(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Jh(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e=this;return(0,To.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=_c.fromPath(n);e.mutations.push(new Xh(r,e.precondition(r)))}),[4,function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return n=Hu(t),r=Zd(n.R)+"/documents",i={writes:e.map(function(t){return Gd(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Gu();e=Xu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Mu(Lu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Mh.updateTime(e):Mh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Xu.min()))throw new Mu(Lu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mh.updateTime(e)}return Mh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Cy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Zm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,To.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,To.Jh)(this,function(r){return t=new wy(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!gc(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!ed(e)}return!1},t}(),Sy=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=wm.UNAUTHENTICATED,this.clientId=Qu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return(0,To.mG)(r,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return Zu("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Mu(Lu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ip;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,To.mG)(t,void 0,void 0,function(){var t,n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=_g(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function xy(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Zu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return(0,To.mG)(i,void 0,void 0,function(){return(0,To.Jh)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Kf(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Ty(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Ey(t)];case 1:return n=i.sent(),Zu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return(0,To.mG)(this,void 0,void 0,function(){var n,r;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return(n=Hu(t)).asyncQueue.verifyOperationInProgress(),Zu("RemoteStore","RemoteStore received new credentials"),r=eg(n),n.Or.add(3),[4,Qm(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Ym(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Ey(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Zu("FirestoreClient","Using default OfflineComponentProvider"),[4,xy(t,new gy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ky(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Zu("FirestoreClient","Using default OnlineComponentProvider"),[4,Ty(t,new _y)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ay(t){return Ey(t).then(function(t){return t.persistence})}function Iy(t){return Ey(t).then(function(t){return t.localStore})}function Oy(t){return ky(t).then(function(t){return t.remoteStore})}function Dy(t){return ky(t).then(function(t){return t.syncEngine})}function Ry(t){return(0,To.mG)(this,void 0,void 0,function(){var e,n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return[4,ky(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Ug.bind(null,e.syncEngine),n.onUnlisten=Vg.bind(null,e.syncEngine),n)]}})})}function Py(t,e,n){var r=this;void 0===n&&(n={});var i=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(r,void 0,void 0,function(){var r;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new by({next:function(o){e.enqueueAndForget(function(){return Eg(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Mu(Lu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Mu(Lu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Og(oh(n.path),o,{includeMetadataChanges:!0,so:!0});return Tg(t,s)},[4,Ry(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Ny(t,e,n){var r=this;void 0===n&&(n={});var i=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(r,void 0,void 0,function(){var r;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new by({next:function(n){e.enqueueAndForget(function(){return Eg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Mu(Lu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Og(n,o,{includeMetadataChanges:!0,so:!0});return Tg(t,s)},[4,Ry(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Fy=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Ly=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),My=new Map,qy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Uy=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(wm.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Zy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Vy=function(){function t(t){var e=this;this.currentUser=wm.UNAUTHENTICATED,this.oc=new Ip,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){Zu("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Zu("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Zu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(zu("string"==typeof n.accessToken),new qy(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,To.mG)(n,void 0,void 0,function(){return(0,To.Jh)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return zu(null===t||"string"==typeof t),new wm(t)},t}(),jy=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=wm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),By=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new jy(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(wm.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Gy(t,e,n){if(!n)throw new Mu(Lu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function zy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Hy(t,e,n,r){if(!0===e&&!0===r)throw new Mu(Lu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Yy(t){if(!_c.isDocumentKey(t))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Qy(t){if(_c.isDocumentKey(t))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Wy(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Gu()}function $y(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Mu(Lu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Wy(t);throw new Mu(Lu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ky(t,e){if(e<=0)throw new Mu(Lu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Jy=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Mu(Lu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mu(Lu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Hy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Xy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jy({}),this._settingsFrozen=!1,t instanceof Ly?(this._databaseId=t,this._credentials=new Uy):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Mu(Lu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ly(t.options.projectId)}(t),this._credentials=new Vy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jy(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Uy;switch(t.type){case"gapi":var e=t.client;return zu(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new By(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Mu(Lu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=My.get(this))&&(Zu("ComponentProvider","Removing Datastore"),My.delete(this),t.terminate()),Promise.resolve();var t},t}(),tv=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new nv(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ev=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),nv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,oh(r))||this)._path=r,i.type="collection",i}return(0,To.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new tv(this.firestore,null,new _c(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ev);function rv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Eo.m9)(t),Gy("collection","path",e),t instanceof Xy)return Qy(n=ic.fromString.apply(ic,(0,To.ev)([e],r))),new nv(t,null,n);if(!(t instanceof tv||t instanceof nv))throw new Mu(Lu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Qy(n=ic.fromString.apply(ic,(0,To.ev)([t.path],r)).child(ic.fromString(e))),new nv(t.firestore,null,n)}function iv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Eo.m9)(t),1===arguments.length&&(e=Qu.u()),Gy("doc","path",e),t instanceof Xy)return Yy(n=ic.fromString.apply(ic,(0,To.ev)([e],r))),new tv(t,null,new _c(n));if(!(t instanceof tv||t instanceof nv))throw new Mu(Lu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Yy(n=t._path.child(ic.fromString.apply(ic,(0,To.ev)([e],r)))),new tv(t.firestore,t instanceof nv?t.converter:null,new _c(n))}function ov(t,e){return t=(0,Eo.m9)(t),e=(0,Eo.m9)(e),(t instanceof tv||t instanceof nv)&&(e instanceof tv||e instanceof nv)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function sv(t,e){return t=(0,Eo.m9)(t),e=(0,Eo.m9)(e),t instanceof ev&&e instanceof ev&&t.firestore===e.firestore&&fh(t._query,e._query)&&t.converter===e.converter}var av=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Zm(this,"async_queue_retry"),this.Ic=function(){var e=qm();e&&Zu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=qm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=qm();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new Ip;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},t.prototype.bc=function(){return(0,To.mG)(this,void 0,void 0,function(){var t,e=this;return(0,To.Jh)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Fp(t=n.sent()))throw t;return Zu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),n.label=5;case 5:return[2]}})})},t.prototype.Rc=function(t){var e=this,n=this.dc.then(function(){return e.gc=!0,t().catch(function(t){throw e.yc=t,e.gc=!1,Vu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.gc=!1,t})});return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=vg.createAndSchedule(this,t,e,n,function(t){return r.vc(t)});return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Gu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,To.mG)(this,void 0,void 0,function(){var t;return(0,To.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()})},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function lv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ip,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var uv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new av,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,To.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||hv(this),this._firestoreClient.terminate()},e}(Xy);function cv(t){return t._firestoreClient||hv(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hv(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Fy(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Sy(t._credentials,t._queue,r)}function dv(t,e,n){var r=this,i=new Ip;return t.asyncQueue.enqueue(function(){return(0,To.mG)(r,void 0,void 0,function(){var r;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,xy(t,n)];case 1:return o.sent(),[4,Ty(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Lu.FAILED_PRECONDITION||t.code===Lu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function pv(t){if(t._initialized||t._terminated)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var fv=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sc(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),mv=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(lc.fromBase64String(e))}catch(e){throw new Mu(Lu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(lc.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),gv=function(t){this._methodName=t},yv=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mu(Lu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mu(Lu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Wu(this._lat,t._lat)||Wu(this._long,t._long)},t}(),vv=/^__.*__$/,_v=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Hh(t,this.data,this.fieldMask,e,this.fieldTransforms):new zh(t,this.data,e,this.fieldTransforms)},t}(),bv=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Hh(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function wv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gu()}}var Cv=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return jv(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(wv(this.Nc)&&vv.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),Sv=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Um(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Cv({Nc:t,methodName:e,qc:n,path:sc.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function xv(t){var e=t._freezeSettings(),n=Um(t._databaseId);return new Sv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Tv(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);qv("Data must be an object, but it was:",s,r);var a,l,u=Lv(r,s);if(o.merge)a=new ac(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){for(var c=[],h=0,d=o.mergeFields;h<d.length;h++){var p=Uv(e,d[h],n);if(!s.contains(p))throw new Mu(Lu.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Bv(c,p)||c.push(p)}a=new ac(c),l=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,l=s.fieldTransforms;return new _v(new Nc(u),a,l)}var Ev=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(gv);function kv(t,e,n){return new Cv({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Av=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Fh(t.path,new kh)},e.prototype.isEqual=function(t){return t instanceof e},e}(gv),Iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,To.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=kv(this,t,!0),n=this.Kc.map(function(t){return Fv(t,e)}),r=new Ah(n);return new Fh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gv),Ov=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,To.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=kv(this,t,!0),n=this.Kc.map(function(t){return Fv(t,e)}),r=new Oh(n);return new Fh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(gv),Dv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,To.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Rh(t.R,Ch(t.R,this.Qc));return new Fh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(gv);function Rv(t,e,n,r){var i=t.Uc(1,e,n);qv("Data must be an object, but it was:",i,r);var o=[],s=Nc.empty();ec(r,function(t,r){var a=Vv(e,t,n);r=(0,Eo.m9)(r);var l=i.Oc(a);if(r instanceof Ev)o.push(a);else{var u=Fv(r,l);null!=u&&(o.push(a),s.set(a,u))}});var a=new ac(o);return new bv(s,a,i.fieldTransforms)}function Pv(t,e,n,r,i,o){var s=t.Uc(1,e,n),a=[Uv(e,r,n)],l=[i];if(o.length%2!=0)throw new Mu(Lu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(Uv(e,o[u])),l.push(o[u+1]);for(var c=[],h=Nc.empty(),d=a.length-1;d>=0;--d)if(!Bv(c,a[d])){var p=a[d],f=l[d];f=(0,Eo.m9)(f);var m=s.Oc(p);if(f instanceof Ev)c.push(p);else{var g=Fv(f,m);null!=g&&(c.push(p),h.set(p,g))}}var y=new ac(c);return new bv(h,y,s.fieldTransforms)}function Nv(t,e,n,r){return void 0===r&&(r=!1),Fv(n,t.Uc(r?4:3,e))}function Fv(t,e){if(Mv(t=(0,Eo.m9)(t)))return qv("Unsupported field value:",e,t),Lv(t,e);if(t instanceof gv)return function(t,e){if(!wv(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Fv(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Eo.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ch(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ju.fromDate(t);return{timestampValue:Od(e.R,n)}}if(t instanceof Ju)return n=new Ju(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Od(e.R,n)};if(t instanceof yv)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof mv)return{bytesValue:Dd(e.R,t._byteString)};if(t instanceof tv){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Nd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Wy(t))}(t,e)}function Lv(t,e){var n={};return nc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ec(t,function(t,r){var i=Fv(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Mv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ju||t instanceof yv||t instanceof mv||t instanceof tv||t instanceof gv)}function qv(t,e,n){if(!Mv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Wy(n);throw e.Lc("an object"===r?t+" a custom object":t+" "+r)}}function Uv(t,e,n){if((e=(0,Eo.m9)(e))instanceof fv)return e._internalPath;if("string"==typeof e)return Vv(t,e);throw jv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Zv=new RegExp("[~\\*/\\[\\]]");function Vv(t,e,n){if(e.search(Zv)>=0)throw jv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(fv.bind.apply(fv,(0,To.ev)([void 0],e.split(".")))))._internalPath}catch(j_){throw jv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function jv(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var l="";return(o||s)&&(l+=" (found",o&&(l+=" in field "+r),s&&(l+=" in document "+i),l+=")"),new Mu(Lu.INVALID_ARGUMENT,(a+=". ")+t+l)}function Bv(t,e){return t.some(function(t){return t.isEqual(e)})}var Gv=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new tv(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new zv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Hv("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),zv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Gv);function Hv(t,e){return"string"==typeof e?Vv(t,e):e instanceof fv?e._internalPath:e._delegate._internalPath}var Yv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Qv=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,To.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Hv("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Gv),Wv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Qv),$v=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Yv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Wv(n._firestore,n._userDataWriter,r.key,r,new Yv(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mu(Lu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Yv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Wv(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Yv(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Kv(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Kv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gu()}}function Jv(t,e){return t instanceof Qv&&e instanceof Qv?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof $v&&e instanceof $v&&t._firestore===e._firestore&&sv(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Xv(t){if(ah(t)&&0===t.explicitOrderBy.length)throw new Mu(Lu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var t_=function(){};function e_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var n_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,To.ZT)(e,t),e.prototype._apply=function(t){var e=xv(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){u_(s,o);for(var l=[],u=0,c=s;u<c.length;u++)l.push(l_(r,t,c[u]));a={arrayValue:{values:l}}}else a=l_(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||u_(s,o),a=Nv(n,"where",s,"in"===o||"not-in"===o);var h=jc.create(i,o,a);return function(t,e){if(e.g()){var n=uh(t);if(null!==n&&!n.isEqual(e.field))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=lh(t);null!==r&&c_(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Mu(Lu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ev(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(t_),r_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,To.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Xc(e,n);return function(t,e){if(null===lh(t)){var n=uh(t);null!==n&&c_(0,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new ev(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new rh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(t_),i_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,To.ZT)(e,t),e.prototype._apply=function(t){return new ev(t.firestore,t.converter,ph(t._query,this.Hc,this.Jc))},e}(t_),o_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,To.ZT)(e,t),e.prototype._apply=function(t){var e=a_(t,this.type,this.Yc,this.Xc);return new ev(t.firestore,t.converter,function(t,e){return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(t_),s_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,To.ZT)(e,t),e.prototype._apply=function(t){var e=a_(t,this.type,this.Yc,this.Xc);return new ev(t.firestore,t.converter,function(t,e){return new rh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(t_);function a_(t,e,n,r){if(n[0]=(0,Eo.m9)(n[0]),n[0]instanceof Gv)return function(t,e,n,r,i){if(!r)throw new Mu(Lu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=hh(t);s<a.length;s++){var l=a[s];if(l.field.isKeyField())o.push(kc(e,r.key));else{var u=r.data.field(l.field);if(pc(u))throw new Mu(Lu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var c=l.field.canonicalString();throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+c+"' (used as the orderBy) does not exist.")}o.push(u)}}return new Kc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=xv(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Mu(Lu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],l=0;l<i.length;l++){var u=i[l];if(s[l].field.isKeyField()){if("string"!=typeof u)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!ch(t)&&-1!==u.indexOf("/"))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var c=t.path.child(ic.fromString(u));if(!_c.isDocumentKey(c))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+c+"' is not because it contains an odd number of segments.");var h=new _c(c);a.push(kc(e,h))}else{var d=Nv(n,r,u);a.push(d)}}return new Kc(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function l_(t,e,n){if("string"==typeof(n=(0,Eo.m9)(n))){if(""===n)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ch(e)&&-1!==n.indexOf("/"))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ic.fromString(n));if(!_c.isDocumentKey(r))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return kc(t,new _c(r))}if(n instanceof tv)return kc(t,n._key);throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Wy(n)+".")}function u_(t,e){if(!Array.isArray(t)||0===t.length)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function c_(t,e,n){if(!n.isEqual(e))throw new Mu(Lu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var h_=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),bc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return hc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(dc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Gu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ec(t.fields,function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new yv(hc(t.latitude),hc(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=fc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(mc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=cc(t);return new Ju(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=ic.fromString(t);zu(op(n));var r=new Ly(n.get(1),n.get(3)),i=new _c(n.popFirst(5));return r.isEqual(e)||Vu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function d_(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var p_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,To.ZT)(e,t),e.prototype.convertBytes=function(t){return new mv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new tv(this.firestore,null,e)},e}(h_),f_=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=xv(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=m_(t,this._firestore),i=d_(r.converter,e,n),o=Tv(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Mh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=m_(t,this._firestore);return o="string"==typeof(e=(0,Eo.m9)(e))||e instanceof fv?Pv(this._dataReader,"WriteBatch.update",s._key,e,n,r):Rv(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Mh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=m_(t,this._firestore);return this._mutations=this._mutations.concat(new Jh(e._key,Mh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Mu(Lu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function m_(t,e){if((t=(0,Eo.m9)(t)).firestore!==e)throw new Mu(Lu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var g_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,To.ZT)(e,t),e.prototype.convertBytes=function(t){return new mv(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new tv(this.firestore,null,e)},e}(h_);function y_(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=$y(t,tv);var o=$y(t.firestore,uv),s=xv(o);return __(o,[("string"==typeof(e=(0,Eo.m9)(e))||e instanceof fv?Pv(s,"updateDoc",t._key,e,n,r):Rv(s,"updateDoc",t._key,e)).toMutation(t._key,Mh.exists(!0))])}function v_(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Eo.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||lv(i[a])||(s=i[a],a++);var l,u,c,h={includeMetadataChanges:s.includeMetadataChanges};if(lv(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof tv)u=$y(t.firestore,uv),c=oh(t._key.path),l={next:function(e){i[a]&&i[a](b_(u,t,e))},error:i[a+1],complete:i[a+2]};else{var p=$y(t,ev);u=$y(p.firestore,uv),c=p._query;var f=new g_(u);l={next:function(t){i[a]&&i[a](new $v(u,f,p,t))},error:i[a+1],complete:i[a+2]},Xv(t._query)}return function(t,e,n,r){var i=this,o=new by(r),s=new Og(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(i,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return e=Tg,[4,Ry(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(i,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return e=Eg,[4,Ry(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(cv(u),c,h,l)}function __(t,e){return function(t,e){var n=this,r=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(n,void 0,void 0,function(){var n;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return n=jg,[4,Dy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(cv(t),e)}function b_(t,e,n){var r=n.docs.get(e._key),i=new g_(t);return new Qv(t,i,e._key,r,new Yv(n.hasPendingWrites,n.fromCache),e.converter)}var w_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,To.ZT)(e,t),e.prototype.get=function(e){var n=this,r=m_(e,this._firestore),i=new g_(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new Qv(n._firestore,i,r._key,t._document,new Yv(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=xv(t)}return t.prototype.get=function(t){var e=this,n=m_(t,this._firestore),r=new p_(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return Gu();var i=t[0];if(i.isFoundDocument())return new Gv(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Gv(e._firestore,r,n._key,null,n.converter);throw Gu()})},t.prototype.set=function(t,e,n){var r=m_(t,this._firestore),i=d_(r.converter,e,n),o=Tv(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=m_(t,this._firestore);return o="string"==typeof(e=(0,Eo.m9)(e))||e instanceof fv?Pv(this._dataReader,"Transaction.update",s._key,e,n,r):Rv(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=m_(t,this._firestore);return this._transaction.delete(e._key),this},t}());function C_(){if("undefined"==typeof Uint8Array)throw new Mu(Lu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function S_(){if("undefined"==typeof atob)throw new Mu(Lu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var x_=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return S_(),new t(mv.fromBase64String(e))},t.fromUint8Array=function(e){return C_(),new t(mv.fromUint8Array(e))},t.prototype.toBase64=function(){return S_(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return C_(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),T_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){pv(t=$y(t,uv));var n=cv(t),r=t._freezeSettings(),i=new _y;return dv(n,i,new yy(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){pv(t=$y(t,uv));var e=cv(t),n=t._freezeSettings(),r=new _y;return dv(e,r,new vy(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Mu(Lu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ip;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,To.mG)(e,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,To.mG)(this,void 0,void 0,function(){return(0,To.Jh)(this,function(e){switch(e.label){case 0:return Rp.yt()?[4,Rp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Gf(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),E_=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ly||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||ju("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var o=(t=$y(t,Xy))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&ju("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,a;if("string"==typeof r.mockUserToken)s=r.mockUserToken,a=wm.MOCK_USER;else{s=(0,Eo.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Mu(Lu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new wm(l)}t._credentials=new Zy(new qy(s,a))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,To.mG)(e,void 0,void 0,function(){var e,n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return[4,Ay(t)];case 1:return e=r.sent(),[4,Oy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Hu(t);return e.Or.delete(0),Ym(e)}(n))]}})})})}(cv($y(this._delegate,uv)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,To.mG)(e,void 0,void 0,function(){var e,n;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return[4,Ay(t)];case 1:return e=r.sent(),[4,Oy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,To.mG)(this,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return(e=Hu(t)).Or.add(0),[4,Qm(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(cv($y(this._delegate,uv)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Hy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(e,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(r){switch(r.label){case 0:return e=Qg,[4,Dy(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cv($y(this._delegate,uv)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new by(e);return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(n,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Hu(t).Gr.add(e),e.next()},[4,Ry(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(n,void 0,void 0,function(){var e;return(0,To.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Hu(t).Gr.delete(e)},[4,Ry(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(cv(t=$y(t,uv)),lv(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Mu(Lu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Z_(this,rv(this._delegate,t))}catch(t){throw R_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new D_(this,iv(this._delegate,t))}catch(t){throw R_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new M_(this,function(t,e){if(t=$y(t,Xy),Gy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ev(t,null,function(t){return new rh(ic.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw R_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(n,void 0,void 0,function(){var n;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return ky(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Cy(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(cv(t),function(n){return e(new w_(t,n))})}(this._delegate,function(n){return t(new A_(e,n))})},t.prototype.batch=function(){var t=this;return cv(this._delegate),new I_(new f_(this._delegate,function(e){return __(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Mu(Lu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Mu(Lu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),k_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,To.ZT)(e,t),e.prototype.convertBytes=function(t){return new x_(new mv(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return D_.eu(e,this.firestore,null)},e}(h_),A_=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new k_(t)}return t.prototype.get=function(t){var e=this,n=V_(t);return this._delegate.get(n).then(function(t){return new F_(e._firestore,new Qv(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=V_(t);return n?(zy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=V_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,To.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=V_(t);return this._delegate.delete(e),this},t}(),I_=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=V_(t);return n?(zy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=V_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,To.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=V_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),O_=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Wv(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new L_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new k_(e),n),i.set(n,o)),o},t}();O_.su=new WeakMap;var D_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new k_(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Mu(Lu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new tv(n._delegate,r,new _c(e)))},t.eu=function(e,n,r){return new t(n,new tv(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Z_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Z_(this.firestore,rv(this._delegate,t))}catch(t){throw R_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Eo.m9)(t))instanceof tv&&ov(this._delegate,t)},t.prototype.set=function(t,e){e=zy("DocumentReference.set",e);try{return function(t,e,n){t=$y(t,tv);var r=$y(t.firestore,uv),i=d_(t.converter,e,n);return __(r,[Tv(xv(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Mh.none())])}(this._delegate,t,e)}catch(t){throw R_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?y_(this._delegate,t):y_.apply(void 0,(0,To.ev)([this._delegate,t,e],n))}catch(t){throw R_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return __($y((t=this._delegate).firestore,uv),[new Jh(t._key,Mh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=P_(e),i=N_(e,function(e){return new F_(t.firestore,new Qv(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return v_(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$y(t,tv);var e=$y(t.firestore,uv),n=cv(e),r=new g_(e);return function(t,e){var n=this,r=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(n,void 0,void 0,function(){var n;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i;return(0,To.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Hu(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Mu(Lu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=_g(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Iy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new Qv(e,r,t._key,n,new Yv(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$y(t,tv);var e=$y(t.firestore,uv);return Py(cv(e),t._key,{source:"server"}).then(function(n){return b_(e,t,n)})}(this._delegate):function(t){t=$y(t,tv);var e=$y(t.firestore,uv);return Py(cv(e),t._key).then(function(n){return b_(e,t,n)})}(this._delegate)).then(function(t){return new F_(e.firestore,new Qv(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?O_.nu(this.firestore,e):null))},t}();function R_(t,e,n){return t.message=t.message.replace(e,n),t}function P_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!lv(r))return r}return{}}function N_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=lv(t[0])?t[0]:lv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var F_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new D_(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Jv(this._delegate,t._delegate)},t}(),L_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,To.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(F_),M_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new k_(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,e_(this._delegate,function(t,e,n){var r=e,i=Hv("where",t);return new n_(i,r,n)}(e,n,r)))}catch(e){throw R_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,e_(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Hv("orderBy",t);return new r_(r,n)}(e,n)))}catch(e){throw R_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,e_(this._delegate,function(t){return Ky("limit",t),new i_("limit",t,"F")}(e)))}catch(e){throw R_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,e_(this._delegate,function(t){return Ky("limitToLast",t),new i_("limitToLast",t,"L")}(e)))}catch(e){throw R_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,e_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new o_("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw R_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,e_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new o_("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw R_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,e_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new s_("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw R_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,e_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new s_("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw R_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return sv(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=$y(t,ev);var e=$y(t.firestore,uv),n=cv(e),r=new g_(e);return function(t,e){var n=this,r=new Ip;return t.asyncQueue.enqueueAndForget(function(){return(0,To.mG)(n,void 0,void 0,function(){var n;return(0,To.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,To.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,To.Jh)(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,om(t,e,!0)];case 1:return a=l.sent(),r=new Fg(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=l.sent(),a=_g(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Iy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new $v(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=$y(t,ev);var e=$y(t.firestore,uv),n=cv(e),r=new g_(e);return Ny(n,t._query,{source:"server"}).then(function(n){return new $v(e,r,t,n)})}(this._delegate):function(t){t=$y(t,ev);var e=$y(t.firestore,uv),n=cv(e),r=new g_(e);return Xv(t._query),Ny(n,t._query).then(function(n){return new $v(e,r,t,n)})}(this._delegate)).then(function(t){return new U_(e.firestore,new $v(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=P_(e),i=N_(e,function(e){return new U_(t.firestore,new $v(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return v_(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?O_.nu(this.firestore,e):null))},t}(),q_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new L_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),U_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new M_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new L_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new q_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new L_(n._firestore,r))})},t.prototype.isEqual=function(t){return Jv(this._delegate,t._delegate)},t}(),Z_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,To.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new D_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new D_(this.firestore,void 0===t?iv(this._delegate):iv(this._delegate,t))}catch(t){throw R_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=$y(t.firestore,uv),r=iv(t),i=d_(t.converter,e);return __(n,[Tv(xv(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Mh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new D_(e.firestore,t)})},e.prototype.isEqual=function(t){return ov(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?O_.nu(this.firestore,t):null))},e}(M_);function V_(t){return $y(t,tv)}var j_,B_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(fv.bind.apply(fv,(0,To.ev)([void 0],t)))}return t.documentId=function(){return new t(sc.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Eo.m9)(t))instanceof fv&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),G_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Av("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Ev("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Iv("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ov("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Dv("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),z_=n(6034),H_={Firestore:E_,GeoPoint:yv,Timestamp:Ju,Blob:x_,Transaction:A_,WriteBatch:I_,DocumentReference:D_,DocumentSnapshot:F_,Query:M_,QueryDocumentSnapshot:L_,QuerySnapshot:U_,CollectionReference:Z_,FieldPath:B_,FieldValue:G_,setLogLevel:function(t){qu.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new z_.wA("firestore",function(t){return function(t,e){return new E_(t,new uv(t,e),new T_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},H_)))})(j_=xo.Z),j_.registerVersion("@firebase/firestore","2.4.0");var Y_=n(6682),Q_=n(7771),W_=n(8858);class $_ extends re.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new K_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new ie.N;if(this.isStopped||this.hasError?o=an.w.EMPTY:(this.observers.push(t),o=new W_.W(this,t)),r&&t.add(t=new wo.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Q_.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class K_{constructor(t,e){this.time=t,this.value=e}}function J_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,l=!1;return function(u){let c;s++,!i||a?(a=!1,i=new $_(t,e,r),c=i.subscribe(this),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){l=!0,o=void 0,i.complete()}}),l&&(o=void 0)):c=i.subscribe(this),this.add(()=>{s--,c.unsubscribe(),c=void 0,o&&!l&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function X_(t,e){return e?ke(()=>t,e):ke(()=>t)}var tb=n(9673);const eb=new r.OlP("angularfire2.auth.use-emulator"),nb=new r.OlP("angularfire2.auth.settings"),rb=new r.OlP("angularfire2.auth.tenant-id"),ib=new r.OlP("angularfire2.auth.langugage-code"),ob=new r.OlP("angularfire2.auth.use-device-language"),sb=new r.OlP("angularfire.auth.persistence");let ab=(()=>{class t{constructor(t,e,r,i,o,s,a,l,u,c){const h=new Co.HU(i),d=(0,Co.ss)(h),p=new re.xQ,f=(0,ne.of)(void 0).pipe((0,wo.QV)(h.outsideAngular),ke(()=>i.runOutsideAngular(()=>n.e(336).then(n.bind(n,1336)))),(0,Te.U)(()=>(0,Co.on)(t,i,e)),(0,Te.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,Co.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=l,u&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return c&&r.setPersistence(c),r},[e,a,l,u,n,c])})),J_({bufferSize:1,refCount:!1}));if(vt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ne.of)(null);else{f.pipe(rn()).subscribe();const t=f.pipe(ke(t=>t.getRedirectResult().then(t=>t,()=>null)),d,J_({bufferSize:1,refCount:!1})),e=t=>new de.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=f.pipe(ke(t=>e(t.onAuthStateChanged.bind(t)))),r=f.pipe(ke(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(X_(n),(0,tb.R)(h.outsideAngular),(0,wo.QV)(h.insideAngular)),this.user=t.pipe(X_(r),(0,tb.R)(h.outsideAngular),(0,wo.QV)(h.insideAngular)),this.idToken=this.user.pipe(ke(t=>t?(0,ee.D)(t.getIdToken()):(0,ne.of)(null))),this.idTokenResult=this.user.pipe(ke(t=>t?(0,ee.D)(t.getIdTokenResult()):(0,ne.of)(null))),this.credential=(0,Y_.T)(t,p,this.authState.pipe(qe(t=>!t))).pipe((0,Te.U)(t=>(null==t?void 0:t.user)?t:null),(0,tb.R)(h.outsideAngular),(0,wo.QV)(h.insideAngular))}return(0,Co.pX)(this,f,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>p.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(eb,8),r.LFG(nb,8),r.LFG(rb,8),r.LFG(ib,8),r.LFG(ob,8),r.LFG(sb,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(eb,8),r.LFG(nb,8),r.LFG(rb,8),r.LFG(ib,8),r.LFG(ob,8),r.LFG(sb,8))},token:t,providedIn:"any"}),t})();function lb(t,e){return function(t,e=fo.z){return new de.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function ub(t,e){return lb(t,e).pipe((0,Te.U)(t=>({payload:t,type:"query"})))}function cb(t,e){return ub(t,e).pipe(Ne(void 0),mo(),(0,Te.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function hb(t,e,n){return cb(t,n).pipe(Fe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return db(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return db(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return db(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),vo(),(0,Te.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function db(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function pb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class fb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=cb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Te.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Ne(void 0),mo(),qe(([t,e])=>e.length>0||!t),(0,Te.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=pb(t);return hb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ee.D)(this.query.get(t)).pipe((0,wo.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new mb(this.ref.doc(t),this.afs)}}class mb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=wb(n,e);return new fb(r,i,this.afs)}snapshotChanges(){return lb(this.ref,this.afs.schedulers.outsideAngular).pipe(Ne(void 0),mo(),(0,Te.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Te.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,ee.D)(this.ref.get(t)).pipe((0,wo.QV)(this.afs.schedulers.insideAngular))}}class gb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?cb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),qe(t=>t.length>0),this.afs.keepUnstableUntilFirst):cb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=pb(t);return hb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return ub(this.query,this.afs.schedulers.outsideAngular).pipe((0,Te.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,ee.D)(this.query.get(t)).pipe((0,wo.QV)(this.afs.schedulers.insideAngular))}}const yb=new r.OlP("angularfire2.enableFirestorePersistence"),vb=new r.OlP("angularfire2.firestore.persistenceSettings"),_b=new r.OlP("angularfire2.firestore.settings"),bb=new r.OlP("angularfire2.firestore.use-emulator");function wb(t,e=(t=>t)){return{query:e(t),ref:t}}let Cb=(()=>{class t{constructor(t,e,n,r,i,o,s,a,l){this.schedulers=new Co.HU(o),this.keepUnstableUntilFirst=(0,Co.ss)(this.schedulers);const u=(0,Co.on)(t,o,e);!So.Z.auth&&l&&(0,Co.yq)();const c=a;[this.firestore,this.persistenceEnabled$]=(0,Co.sI)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),c&&t.useEmulator(...c),n&&!vt(i)){const e=()=>{try{return(0,ee.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(j_){return"undefined"!=typeof console&&console.warn(j_),(0,ne.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,ne.of)(!1)]},[r,c,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=wb(n,e),o=this.schedulers.ngZone.run(()=>r);return new fb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new gb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new mb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(yb,8),r.LFG(_b,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(vb,8),r.LFG(bb,8),r.LFG(eb,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(yb,8),r.LFG(_b,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(vb,8),r.LFG(bb,8),r.LFG(eb,8))},token:t,providedIn:"any"}),t})(),Sb=(()=>{class t{constructor(t,e){this.db=t,this.router=e,this.userData={},this.userUID={},this.userReports=[],this.userDataObservable=new oe({}),this.keygen=n(5020),this.init()}setUserData(t){var e=this;return po(function*(){let n=yield e.getUserDataFromDB(t),r={},i={},o={},s={};if(console.log("data set userdata: ",t),console.log("responseClient: ",n),"aluno"==n.type)r=yield e.getLeaderDataFromDB(n.leaderID),o=yield e.getReportsFromDB(t.user.uid),i=Object.assign(Object.assign({},n),{leader:r,reports:o});else if("leader"==n.type){o=e.getReportsFromDBLeaderVersion(t.user.uid);let r=[],a=[];o.then(t=>{console.log("elem: ",t),t.map(t=>{s=e.getUserDataFromDB({data:{},user:{name:"dummy",uid:t.studentOwnerCode}},!0),r.push(s),s.then(e=>{console.log("i: ",e),a.push(null!=e?Object.assign(Object.assign({},t),{student:e}):t)})}),Promise.all(r).then(t=>{i=Object.assign(Object.assign({},n),{leader:n,reports:a}),console.log("finalResultLEADER: ",i),e.userDataObservable.next(i),e.userData=i})})}console.log("finalResult: ",i),localStorage.setItem("user",btoa(JSON.stringify(t))),e.userDataObservable.next(i),e.userData=i})()}getUserUID(){return this.userUID}getUserDataFromDB(t,e=!1){var n=this;return po(function*(){const r=(yield n.db.firestore.collection("userData").doc(t.user.uid).get()).data();return console.log("this.userUID",t.user),e||(n.userUID=t.user.uid),r})()}setNewReport(t){const e=this.keygen.session_id();t.uid=e,this.db.collection("reports").doc(e).set(t).then(t=>{console.log("deu certo",t)}).catch(t=>{console.log("res: ",t)})}getReportsFromDB(t){var e=this;return po(function*(){let n=[];return yield e.db.collection("reports",e=>e.where("studentOwnerCode","==",t)).valueChanges().subscribe(t=>{t.map((e,r)=>{n[r]=t[r],console.log("reports data: ",e)})}),n})()}getReportsFromDBLeaderVersion(t){return new Promise((e,n)=>{let r=[];this.db.collection("reports",e=>e.where("leaderCode","==",t)).valueChanges().subscribe(t=>{t.map((e,n)=>{r[n]=t[n]}),e(r)})})}getLeaderDataFromDB(t){var e=this;return po(function*(){return(yield e.db.firestore.collection("userData").doc(t).get()).data()})()}getUserData(){return this.userData}isAlreadyLogged(){return null!=localStorage.getItem("user")&&(console.log("local storage: ",localStorage.getItem("user")),!0)}getLocalStorageUser(){const t=localStorage.getItem("user");return JSON.parse(atob(t))}init(){if(this.isAlreadyLogged()){const t=this.getLocalStorageUser();console.log("Local storage converted: ",t),this.setUserData(t)}else this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Cb),r.LFG(Zi))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function xb(t){return null!=t&&"false"!=`${t}`}function Tb(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Eb(t){return Array.isArray(t)?t:[t]}function kb(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Ab(t){return t instanceof r.SBq?t.nativeElement:t}var Ib=n(9105);function Ob(t,e,n,r){return(0,Ib.m)(n)&&(r=n,n=void 0),r?Ob(t,e,n).pipe((0,Te.U)(t=>(0,ae.k)(t)?r(...t):r(t))):new de.y(r=>{Db(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function Db(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)Db(t[o],e,n,r,i)}r.add(o)}var Rb=n(6465),Pb=n(6102);new class extends Pb.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends Rb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),n(4581);class Nb{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Fb(t,this.durationSelector))}}class Fb extends Ee.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=(0,Ee.ft)(n,new Ee.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Lb=n(6561);function Mb(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function qb(t,e=fo.P){return n=()=>function(t=0,e,n){let r=-1;return(0,Lb.k)(e)?r=Number(e)<1?1:Number(e):(0,se.K)(e)&&(n=e),(0,se.K)(n)||(n=fo.P),new de.y(e=>{const i=(0,Lb.k)(t)?t:+t-n.now();return n.schedule(Mb,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new Nb(n))};var n}function Ub(t){return e=>e.lift(new Zb(t))}class Zb{constructor(t){this.notifier=t}call(t,e){const n=new Vb(t),r=(0,Ee.ft)(this.notifier,new Ee.IY(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class Vb extends Ee.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}let jb;try{jb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Ev){jb=!1}let Bb,Gb=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!jb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.Lbi))},token:t,providedIn:"root"}),t})(),zb=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const Hb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Yb(){if(Bb)return Bb;if("object"!=typeof document||!document)return Bb=new Set(Hb),Bb;let t=document.createElement("input");return Bb=new Set(Hb.filter(e=>(t.setAttribute("type",e),t.type===e))),Bb}let Qb,Wb,$b,Kb;function Jb(t){return function(){if(null==Qb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Qb=!0}))}finally{Qb=Qb||!1}return Qb}()?t:!!t.capture}function Xb(){if(null==$b){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return $b=!1,$b;if("scrollBehavior"in document.documentElement.style)$b=!0;else{const t=Element.prototype.scrollTo;$b=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return $b}function tw(){if("object"!=typeof document||!document)return 0;if(null==Wb){const t=document.createElement("div"),e=t.style;t.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",t.appendChild(n),document.body.appendChild(t),Wb=0,0===t.scrollLeft&&(t.scrollLeft=1,Wb=0===t.scrollLeft?1:2),t.parentNode.removeChild(t)}return Wb}function ew(){let t="undefined"!=typeof document&&document?document.activeElement:null;for(;t&&t.shadowRoot;){const e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function nw(t){return t.composedPath?t.composedPath()[0]:t.target}const rw=new r.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,r.f3M)(s)}});let iw=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.vpe,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rw,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(rw,8))},token:t,providedIn:"root"}),t})(),ow=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();class sw{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new re.xQ,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let aw=(()=>{class t{constructor(){this._listeners=[]}notify(t,e){for(let n of this._listeners)n(t,e)}listen(t){return this._listeners.push(t),()=>{this._listeners=this._listeners.filter(e=>t!==e)}}ngOnDestroy(){this._listeners=[]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),lw=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new re.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new de.y(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(qb(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,ne.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(qe(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=Ab(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ob(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(Gb),r.LFG(s,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(Gb),r.LFG(s,8))},token:t,providedIn:"root"}),t})(),uw=(()=>{class t{constructor(t,e,n,r){this.elementRef=t,this.scrollDispatcher=e,this.ngZone=n,this.dir=r,this._destroyed=new re.xQ,this._elementScrolled=new de.y(t=>this.ngZone.runOutsideAngular(()=>Ob(this.elementRef.nativeElement,"scroll").pipe(Ub(this._destroyed)).subscribe(t)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const e=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=n?t.end:t.start),null==t.right&&(t.right=n?t.start:t.end),null!=t.bottom&&(t.top=e.scrollHeight-e.clientHeight-t.bottom),n&&0!=tw()?(null!=t.left&&(t.right=e.scrollWidth-e.clientWidth-t.left),2==tw()?t.left=t.right:1==tw()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=e.scrollWidth-e.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const e=this.elementRef.nativeElement;Xb()?e.scrollTo(t):(null!=t.top&&(e.scrollTop=t.top),null!=t.left&&(e.scrollLeft=t.left))}measureScrollOffset(t){const e="left",n="right",r=this.elementRef.nativeElement;if("top"==t)return r.scrollTop;if("bottom"==t)return r.scrollHeight-r.clientHeight-r.scrollTop;const i=this.dir&&"rtl"==this.dir.value;return"start"==t?t=i?n:e:"end"==t&&(t=i?e:n),i&&2==tw()?t==e?r.scrollWidth-r.clientWidth-r.scrollLeft:r.scrollLeft:i&&1==tw()?t==e?r.scrollLeft+r.scrollWidth-r.clientWidth:-r.scrollLeft:t==e?r.scrollLeft:r.scrollWidth-r.clientWidth-r.scrollLeft}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(lw),r.Y36(r.R0b),r.Y36(iw,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),t})(),cw=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new re.xQ,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(qb(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gb),r.LFG(r.R0b),r.LFG(s,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gb),r.LFG(r.R0b),r.LFG(s,8))},token:t,providedIn:"root"}),t})(),hw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),dw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ow,zb,hw],ow,hw]}),t})();class pw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class fw extends pw{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class mw extends pw{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class gw extends pw{constructor(t){super(),this.element=t instanceof r.SBq?t.nativeElement:t}}class yw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof fw?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof mw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof gw?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vw extends yw{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let _w=(()=>{class t extends yw{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.vpe,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r._Vd),r.Y36(r.s_b),r.Y36(s))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.qOj]}),t})(),bw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();class ww{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Cw(t,this.predicate,this.inclusive))}}class Cw extends le.L{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}function Sw(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const xw=Xb();class Tw{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=kb(-this._previousScrollPosition.left),t.style.top=kb(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),xw&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),xw&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class Ew{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kw{enable(){}disable(){}attach(){}}function Aw(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Iw(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Ow{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Aw(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Dw=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new kw,this.close=t=>new Ew(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Tw(this._viewportRuler,this._document),this.reposition=t=>new Ow(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(lw),r.LFG(cw),r.LFG(r.R0b),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(lw),r.LFG(cw),r.LFG(r.R0b),r.LFG(s))},token:t,providedIn:"root"}),t})();class Rw{constructor(t){if(this.scrollStrategy=new kw,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Pw{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Nw{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Fw=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s))},token:t,providedIn:"root"}),t})(),Lw=(()=>{class t extends Fw{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s))},token:t,providedIn:"root"}),t})(),Mw=(()=>{class t extends Fw{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=nw(t),n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(Gb))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s),r.LFG(Gb))},token:t,providedIn:"root"}),t})();const qw="undefined"!=typeof window?window:{},Uw=void 0!==qw.__karma__&&!!qw.__karma__||void 0!==qw.jasmine&&!!qw.jasmine||void 0!==qw.jest&&!!qw.jest||void 0!==qw.Mocha&&!!qw.Mocha;let Zw=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Uw){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Uw?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(Gb))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(s),r.LFG(Gb))},token:t,providedIn:"root"}),t})();class Vw{constructor(t,e,n,r,i,o,s,a,l){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new re.xQ,this._attachments=new re.xQ,this._detachments=new re.xQ,this._locationChanges=an.w.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new re.xQ,this._outsidePointerEvents=new re.xQ,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(De(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=kb(this._config.width),t.height=kb(this._config.height),t.minWidth=kb(this._config.minWidth),t.minHeight=kb(this._config.minHeight),t.maxWidth=kb(this._config.maxWidth),t.maxHeight=kb(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Eb(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ub((0,Y_.T)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const jw="cdk-overlay-connected-position-bounding-box",Bw=/([A-Za-z%]+)$/;class Gw{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new re.xQ,this._resizeSubscription=an.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(jw),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zw(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jw),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=Yw(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),l=this._getOffset(r,"y");a&&(o+=a),l&&(s+=l);let u=0-s,c=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),d=this._subtractOverflows(i.height,u,c),p=h*d;return{visibleArea:p,isCompletelyWithinViewport:i.width*i.height===p,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=Hw(this._overlayRef.getConfig().minHeight),s=Hw(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Yw(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),l=Math.max(i.left-n.left-t.x,0);let u=0,c=0;return u=r.width<=i.width?l||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:c},{x:t.x+u,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Nw(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,l,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:o,left:l,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=kb(n.height),r.top=kb(n.top),r.bottom=kb(n.bottom),r.width=kb(n.width),r.left=kb(n.left),r.right=kb(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=kb(t)),i&&(r.maxWidth=kb(i))}this._lastBoundingBoxSize=n,zw(this._boundingBox.style,r)}_resetBoundingBoxStyles(){zw(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zw(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();zw(n,this._getExactOverlayY(e,t,r)),zw(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=kb(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=kb(o.maxWidth):i&&(n.maxWidth="")),zw(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=kb(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=kb(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Iw(t,n),isOriginOutsideView:Aw(t,n),isOverlayClipped:Iw(e,n),isOverlayOutsideView:Aw(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Eb(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function zw(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Hw(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Bw);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Yw(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Qw{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new Gw(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Pw(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Ww="cdk-global-overlay-wrapper";class $w{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ww),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Ww),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Kw=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new $w}connectedTo(t,e,n){return new Qw(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Gw(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(cw),r.LFG(s),r.LFG(Gb),r.LFG(Zw))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(cw),r.LFG(s),r.LFG(Gb),r.LFG(Zw))},token:t,providedIn:"root"}),t})(),Jw=0,Xw=(()=>{class t{constructor(t,e,n,r,i,o,s,a,l,u,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=u,this._outsideClickDispatcher=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Rw(t);return i.direction=i.direction||this._directionality.value,new Vw(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+Jw++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.z2F)),new vw(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Dw),r.LFG(Zw),r.LFG(r._Vd),r.LFG(Kw),r.LFG(Lw),r.LFG(r.zs3),r.LFG(r.R0b),r.LFG(s),r.LFG(iw),r.LFG(w),r.LFG(Mw))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const tC=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],eC=new r.OlP("cdk-connected-overlay-scroll-strategy");let nC=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),rC=(()=>{class t{constructor(t,e,n,i,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=an.w.EMPTY,this._attachSubscription=an.w.EMPTY,this._detachSubscription=an.w.EMPTY,this._positionSubscription=an.w.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.vpe,this.positionChange=new r.vpe,this.attach=new r.vpe,this.detach=new r.vpe,this.overlayKeydown=new r.vpe,this.overlayOutsideClick=new r.vpe,this._templatePortal=new mw(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=xb(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=xb(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=xb(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=xb(t)}get push(){return this._push}set push(t){this._push=xb(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=tC);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||Sw(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Rw({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new ww(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xw),r.Y36(r.Rgc),r.Y36(r.s_b),r.Y36(eC),r.Y36(iw,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.TTD]}),t})();const iC={provide:eC,deps:[Xw],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let oC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Xw,iC],imports:[[ow,bw,dw],dw]}),t})();function sC(t,e=fo.P){return n=>n.lift(new aC(t,e))}class aC{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new lC(t,this.dueTime,this.scheduler))}}class lC extends le.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(uC,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function uC(t){t.debouncedNext()}function cC(t){return e=>e.lift(new hC(t))}class hC{constructor(t){this.total=t}call(t,e){return e.subscribe(new dC(t,this.total))}}class dC extends le.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}let pC=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),fC=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=Ab(t);return new de.y(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new re.xQ,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(pC))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(pC))},token:t,providedIn:"root"}),t})(),mC=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=xb(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Tb(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(sC(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(fC),r.Y36(r.SBq),r.Y36(r.R0b))},t.\u0275dir=r.lG2({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),gC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[pC]}),t})();class yC extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new re.xQ,this._typeaheadSubscription=an.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new re.xQ,this.change=new re.xQ,t instanceof r.n_E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,on.b)(t=>this._pressedLetters.push(t)),sC(t),qe(()=>this._pressedLetters.length>0),(0,Te.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Sw(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.n_E?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let vC=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Ev){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===bC(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=bC(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||_C(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gb))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gb))},token:t,providedIn:"root"}),t})();function _C(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function bC(t){if(!_C(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class wC{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const n=this._getFirstTabbableElement(e);return null==n||n.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(De(1)).subscribe(t)}}let CC=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new wC(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(vC),r.LFG(r.R0b),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(vC),r.LFG(r.R0b),r.LFG(s))},token:t,providedIn:"root"}),t})();function SC(t){return 0===t.offsetX&&0===t.offsetY}function xC(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const TC=new r.OlP("cdk-input-modality-detector-options"),EC={ignoreKeys:[18,17,224,91,16]},kC=Jb({passive:!0,capture:!0});let AC=(()=>{class t{constructor(t,e,n,r){this._platform=t,this._mostRecentTarget=null,this._modality=new oe(null),this._lastTouchMs=0,this._onKeydown=t=>{var e,n;(null===(n=null===(e=this._options)||void 0===e?void 0:e.ignoreKeys)||void 0===n?void 0:n.some(e=>e===t.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=nw(t))},this._onMousedown=t=>{Date.now()-this._lastTouchMs<650||(this._modality.next(SC(t)?"keyboard":"mouse"),this._mostRecentTarget=nw(t))},this._onTouchstart=t=>{xC(t)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=nw(t))},this._options=Object.assign(Object.assign({},EC),r),this.modalityDetected=this._modality.pipe(cC(1)),this.modalityChanged=this.modalityDetected.pipe(vo()),t.isBrowser&&e.runOutsideAngular(()=>{n.addEventListener("keydown",this._onKeydown,kC),n.addEventListener("mousedown",this._onMousedown,kC),n.addEventListener("touchstart",this._onTouchstart,kC)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,kC),document.removeEventListener("mousedown",this._onMousedown,kC),document.removeEventListener("touchstart",this._onTouchstart,kC))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gb),r.LFG(r.R0b),r.LFG(s),r.LFG(TC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gb),r.LFG(r.R0b),r.LFG(s),r.LFG(TC,8))},token:t,providedIn:"root"}),t})();const IC=new r.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),OC=new r.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let DC=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(IC,8),r.LFG(r.R0b),r.LFG(s),r.LFG(OC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(IC,8),r.LFG(r.R0b),r.LFG(s),r.LFG(OC,8))},token:t,providedIn:"root"}),t})();const RC=new r.OlP("cdk-focus-monitor-default-options"),PC=Jb({passive:!0,capture:!0});let NC=(()=>{class t{constructor(t,e,n,r,i){this._ngZone=t,this._platform=e,this._inputModalityDetector=n,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new re.xQ,this._rootNodeFocusAndBlurListener=t=>{const e=nw(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(t,e=!1){const n=Ab(t);if(!this._platform.isBrowser||1!==n.nodeType)return(0,ne.of)(null);const r=function(t){if(function(){if(null==Kb){const t="undefined"!=typeof document?document.head:null;Kb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Kb}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new re.xQ,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=Ab(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=Ab(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOrigin(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOrigin(t,e=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&e,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,e){const n=this._elementInfo.get(e),r=nw(t);n&&(n.checkChildren||e===r)&&this._originChanged(e,this._getFocusOrigin(r),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,PC),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,PC)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ub(this._stopInputModalityDetector)).subscribe(t=>{this._setOrigin(t,!0)}))}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,PC),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,PC),this._rootNodeFocusListenerCount.delete(e))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b),r.LFG(Gb),r.LFG(AC),r.LFG(s,8),r.LFG(RC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(r.R0b),r.LFG(Gb),r.LFG(AC),r.LFG(s,8),r.LFG(RC,8))},token:t,providedIn:"root"}),t})();const FC="cdk-high-contrast-black-on-white",LC="cdk-high-contrast-white-on-black",MC="cdk-high-contrast-active";let qC=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(MC),t.remove(FC),t.remove(LC),this._hasCheckedHighContrastMode=!0;const e=this.getHighContrastMode();1===e?(t.add(MC),t.add(FC)):2===e&&(t.add(MC),t.add(LC))}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gb),r.LFG(s))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gb),r.LFG(s))},token:t,providedIn:"root"}),t})();const UC=new r.GfV("12.1.3");class ZC{}const VC="*";function jC(t,e){return{type:7,name:t,definitions:e,options:{}}}function BC(t,e=null){return{type:4,styles:e,timings:t}}function GC(t,e=null){return{type:2,steps:t,options:e}}function zC(t){return{type:6,styles:t,offset:null}}function HC(t,e,n){return{type:0,name:t,styles:e,options:n}}function YC(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function QC(t=null){return{type:9,options:t}}function WC(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function $C(t){Promise.resolve(null).then(t)}class KC{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){$C(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class JC{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?$C(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function XC(){return"undefined"!=typeof window&&void 0!==window.document}function tS(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function eS(t){switch(t.length){case 0:return new KC;case 1:return t[0];default:return new JC(t)}}function nS(t,e,n,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case VC:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function rS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&iS(n,"start",t)));break;case"done":t.onDone(()=>r(n&&iS(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&iS(n,"destroy",t)))}}function iS(t,e,n){const r=n.totalTime,i=oS(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function oS(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function sS(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function aS(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let lS=(t,e)=>!1,uS=(t,e)=>!1,cS=(t,e,n)=>[];const hS=tS();(hS||"undefined"!=typeof Element)&&(lS=XC()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),uS=(()=>{if(hS||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):uS}})(),cS=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let dS=null,pS=!1;function fS(t){dS||(dS=("undefined"!=typeof document?document.body:null)||{},pS=!!dS.style&&"WebkitAppearance"in dS.style);let e=!0;return dS.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in dS.style,!e&&pS)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in dS.style),e}const mS=uS,gS=lS,yS=cS;function vS(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let _S=(()=>{class t{validateStyleProperty(t){return fS(t)}matchesElement(t,e){return mS(t,e)}containsElement(t,e){return gS(t,e)}query(t,e,n){return yS(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new KC(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class bS{}bS.NOOP=new _S;const wS="ng-enter",CS="ng-leave",SS="ng-trigger",xS=".ng-trigger",TS="ng-animating",ES=".ng-animating";function kS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:AS(parseFloat(e[1]),e[2])}function AS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function IS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=AS(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=AS(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function OS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function DS(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else OS(t,n);return n}function RS(t,e,n){return n?e+":"+n+";":""}function PS(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=RS(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=RS(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function NS(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=jS(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),tS()&&PS(t))}function FS(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=jS(e);t.style[n]=""}),tS()&&PS(t))}function LS(t){return Array.isArray(t)?1==t.length?t[0]:GC(t):t}const MS=new RegExp("{{\\s*(.+?)\\s*}}","g");function qS(t){let e=[];if("string"==typeof t){let n;for(;n=MS.exec(t);)e.push(n[1]);MS.lastIndex=0}return e}function US(t,e,n){const r=t.toString(),i=r.replace(MS,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function ZS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const VS=/-+([a-z0-9])/g;function jS(t){return t.replace(VS,(...t)=>t[1].toUpperCase())}function BS(t,e){return 0===t||0===e}function GS(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=HS(t,e)})}}return e}function zS(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function HS(t,e){return window.getComputedStyle(t)[e]}const YS="*";function QS(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(KS(i,s)),"<"!=o[0]||i==YS&&s==YS||e.push(KS(s,i))}(t,n,e)):n.push(t),n}const WS=new Set(["true","1"]),$S=new Set(["false","0"]);function KS(t,e){const n=WS.has(t)||$S.has(t),r=WS.has(e)||$S.has(e);return(i,o)=>{let s=t==YS||t==i,a=e==YS||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?WS.has(t):$S.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?WS.has(e):$S.has(e)),s&&a}}const JS=new RegExp("s*:selfs*,?","g");function XS(t,e,n){return new tx(t).build(e,n)}class tx{constructor(t){this._driver=t}build(t,e){const n=new ex(e);return this._resetContextStyleTimingState(n),zS(this,LS(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(nx(t)){const e=t;Object.keys(e).forEach(t=>{qS(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=ZS(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=zS(this,LS(t.animation),e);return{type:1,matchers:QS(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:rx(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>zS(this,t,e)),options:rx(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=zS(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:rx(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ix(IS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ix(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||IS(r,e),ix(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:zC({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=zC(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==VC?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(nx(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=qS(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(nx(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(nx(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:zS(this,LS(t.animation),e),options:rx(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:rx(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:rx(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(JS,"")),[t=t.replace(/@\*/g,xS).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,ES),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,sS(e.collectedStyles,e.currentQuerySelector,{});const s=zS(this,LS(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:rx(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:IS(t.timings,e.errors,!0);return{type:12,animation:zS(this,LS(t.animation),e),timings:n,options:null}}}class ex{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function nx(t){return!Array.isArray(t)&&"object"==typeof t}function rx(t){var e;return t?(t=OS(t)).params&&(t.params=(e=t.params)?OS(e):null):t={},t}function ix(t,e,n){return{duration:t,delay:e,easing:n}}function ox(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class sx{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ax=new RegExp(":enter","g"),lx=new RegExp(":leave","g");function ux(t,e,n,r,i,o={},s={},a,l,u=[]){return(new cx).buildKeyframes(t,e,n,r,i,o,s,a,l,u)}class cx{buildKeyframes(t,e,n,r,i,o,s,a,l,u=[]){l=l||new sx;const c=new dx(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),zS(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ox(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?kS(n.duration):null,o=null!=n.delay?kS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),zS(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hx);const t=kS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>zS(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?kS(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),zS(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return IS(e.params?US(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?kS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hx);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),zS(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;zS(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const hx={};class dx{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hx,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new px(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=kS(n.duration)),null!=n.delay&&(r.delay=kS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=US(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new dx(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=hx,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new fx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(ax,"."+this._enterClassName)).replace(lx,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class px{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new px(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||VC,this._currentKeyframe[t]=VC}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=VC})):DS(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=US(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:VC),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=DS(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==VC&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?ZS(t.values()):[],o=e.size?ZS(e.values()):[];if(n){const t=r[0],e=OS(t);t.offset=0,e.offset=1,r=[t,e]}return ox(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class fx extends px{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=DS(t[0],!1);a.offset=0,i.push(a);const l=DS(t[0],!1);l.offset=mx(s),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let s=DS(t[r],!1);s.offset=mx((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return ox(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function mx(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class gx{}class yx extends gx{normalizePropertyName(t,e){return jS(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(vx[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const vx=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function _x(t,e,n,r,i,o,s,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const bx={};class wx{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||bx,d=this.buildStyles(n,s&&s.params||bx,c),p=a&&a.params||bx,f=this.buildStyles(r,p,c),m=new Set,g=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),p)},b=u?[]:ux(t,e,this.ast.animation,i,o,d,f,_,l,c);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return _x(e,this._triggerName,n,r,v,d,f,[],[],g,y,w,c);b.forEach(t=>{const n=t.element,r=sS(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=sS(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=ZS(m.values());return _x(e,this._triggerName,n,r,v,d,f,b,C,g,y,w)}}class Cx{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=OS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=US(o,r,e));const s=this.normalizer.normalizePropertyName(t,e);o=this.normalizer.normalizeStyleValue(t,s,o,e),n[s]=o})}}),n}}class Sx{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Cx(t.style,t.options&&t.options.params||{},n)}),xx(this.states,"true","1"),xx(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new wx(t,e,this.states))}),this.fallbackTransition=new wx(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function xx(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Tx=new sx;class Ex{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=XS(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=nS(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=ux(this._driver,e,i,wS,CS,{},{},n,Tx,r),o.forEach(t=>{const e=sS(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,VC)})});const a=eS(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=oS(e,"","","");return rS(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kx="ng-animate-queued",Ax="ng-animate-disabled",Ix=".ng-animate-disabled",Ox=[],Dx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Rx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Px{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=OS(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Nx="void",Fx=new Px(Nx);class Lx{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Bx(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=sS(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=sS(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Bx(t,SS),Bx(t,"ng-trigger-"+e),a[e]=Fx),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new qx(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(Bx(t,SS),Bx(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new Px(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=Fx),l.value!==Nx&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{FS(t,n),NS(t,r)})}return}const u=sS(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(Bx(t,kx),o.onStart(()=>{Gx(t,kx)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,xS,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Nx,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&eS(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||Fx,a=new Px(Nx),l=new qx(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:l,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Dx||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Bx(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=oS(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,rS(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Mx{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Lx(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Ux(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Ux(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Bx(t,Ax)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Gx(t,Ax))}removeNode(t,e,n,r){if(Ux(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Ux(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,xS,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,ES,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return eS(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Dx,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Ix)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Ix,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Bx(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?eS(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new sx,r=[],i=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=jx(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=wS+f++;p.set(e,n),t.forEach(t=>Bx(t,n))});const m=[],g=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const v=new Map,_=jx(h,Array.from(g));_.forEach((t,e)=>{const n=CS+f++;v.set(e,n),t.forEach(t=>Bx(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Gx(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>Gx(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,u);if(f.errors&&f.errors.length)w.push(f);else{if(u)return e.onStart(()=>FS(i,f.fromStyles)),e.onDestroy(()=>NS(i,f.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>FS(i,f.fromStyles)),e.onDestroy(()=>NS(i,f.toStyles)),void r.push(e);f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>sS(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{sS(C,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Yx(t,a,l)),T=new Map;Vx(T,this.driver,y,l,VC).forEach(t=>{Yx(t,a,l)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{Vx(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=T.get(t),n=E.get(t);T.set(t,Object.assign(Object.assign({},e),n))});const k=[],A=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>NS(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=I;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,E,T);if(o.setRealPlayer(n),t===I)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=eS(e)),r.push(o)}}else FS(e,s.fromStyles),o.onDestroy(()=>NS(e,s.toStyles)),A.push(o),u.has(e)&&r.push(o)}),A.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=eS(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<m.length;O++){const t=m[O],e=t.__ng_removed;if(Gx(t,CS),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,ES,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?zx(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Nx;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,l=sS(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}FS(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new KC(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return Hx(t,e),e}((n.get(h)||Ox).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),y=nS(0,this._normalizer,0,e.keyframes,m,g),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&c.add(h),p){const e=new qx(t,s,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{sS(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>Bx(t,TS));const d=eS(h);return d.onDestroy(()=>{u.forEach(t=>Gx(t,TS)),NS(a,e.toStyles)}),c.forEach(t=>{sS(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new KC(t.duration,t.delay)}}class qx{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new KC,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>rS(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sS(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Ux(t){return t&&1===t.nodeType}function Zx(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Vx(t,e,n,r,i){const o=[];n.forEach(t=>o.push(Zx(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Rx,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>Zx(t,o[a++])),s}function jx(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function Bx(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Gx(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function zx(t,e,n){eS(n).onDone(()=>t.processLeaveNode(e))}function Hx(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof JC?Hx(r.players,e):e.push(r)}}function Yx(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class Qx{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Mx(t,e,n),this._timelineEngine=new Ex(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=XS(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e,n){return new Sx(t,e,n)}(r,e,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=aS(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=aS(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Wx(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Kx(e[0]),e.length>1&&(r=Kx(e[e.length-1]))):e&&(n=Kx(e)),n||r?new $x(t,n,r):null}class $x{constructor(t,e,n){this._element=t,this._startStyles=e,this._endStyles=n,this._state=0;let r=$x.initialStylesByElement.get(t);r||$x.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&NS(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(NS(this._element,this._initialStyles),this._endStyles&&(NS(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($x.initialStylesByElement.delete(this._element),this._startStyles&&(FS(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(FS(this._element,this._endStyles),this._endStyles=null),NS(this._element,this._initialStyles),this._state=3)}}function Kx(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Jx(i)&&(e=e||{},e[i]=t[i])}return e}function Jx(t){return"display"===t||"position"===t}$x.initialStylesByElement=new WeakMap;const Xx="animation",tT="animationend";class eT{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=aT(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),sT(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),oT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){nT(this._element,this._name,"paused")}resume(){nT(this._element,this._name,"running")}setPosition(t){const e=rT(this._element,this._name);this._position=t*this._duration,sT(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),oT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=aT(t,"").split(","),r=iT(n,e);r>=0&&(n.splice(r,1),sT(t,"",n.join(",")))}(this._element,this._name))}}function nT(t,e,n){sT(t,"PlayState",n,rT(t,e))}function rT(t,e){const n=aT(t,"");return n.indexOf(",")>0?iT(n.split(","),e):iT([n],e)}function iT(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function oT(t,e,n){n?t.removeEventListener(tT,e):t.addEventListener(tT,e)}function sT(t,e,n,r){const i=Xx+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function aT(t,e){return t.style[Xx+e]||""}class lT{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new eT(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:HS(this.element,n))})}this.currentSnapshot=t}}class uT extends KC{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=vS(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class cT{constructor(){this._count=0}validateStyleProperty(t){return fS(t)}matchesElement(t,e){return mS(t,e)}containsElement(t,e){return gS(t,e)}query(t,e,n){return yS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>vS(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof lT),l={};BS(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=GS(t,e,l));if(0==n)return new uT(t,u);const c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,c,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=Wx(t,e),p=new lT(t,e,c,n,r,i,u,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}}class hT{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:HS(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class dT{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pT().toString()),this._cssKeyframesDriver=new cT}validateStyleProperty(t){return fS(t)}matchesElement(t,e){return mS(t,e)}containsElement(t,e){return gS(t,e)}query(t,e,n){return yS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=o.filter(t=>t instanceof hT);BS(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=Wx(t,e=GS(t,e=e.map(t=>DS(t,!1)),l));return new hT(t,e,a,c)}}function pT(){return XC()&&Element.prototype.animate||{}}let fT=(()=>{class t extends ZC{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?GC(t):t;return yT(this._renderer,null,e,"register",[n]),new mT(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class mT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new gT(this._id,t,e||{},this._renderer)}}class gT{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return yT(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function yT(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const vT="@",_T="@.disabled";let bT=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new wT("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new CT(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(Qx),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class wT{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==vT&&e==_T?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class CT extends wT{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==vT?"."==e.charAt(1)&&e==_T?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==vT){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=vT&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let ST=(()=>{class t extends Qx{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(bS),r.LFG(gx))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const xT=new r.OlP("AnimationModuleType"),TT=[{provide:ZC,useClass:fT},{provide:gx,useFactory:function(){return new yx}},{provide:Qx,useClass:ST},{provide:r.FYo,useFactory:function(t,e,n){return new bT(t,e,n)},deps:[Ut,Qx,r.R0b]}],ET=[{provide:bS,useFactory:function(){return"function"==typeof pT()?new dT:new cT}},{provide:xT,useValue:"BrowserAnimations"},...TT],kT=[{provide:bS,useClass:_S},{provide:xT,useValue:"NoopAnimations"},...TT];let AT=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?kT:ET}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:ET,imports:[te]}),t})();function IT(t,e){if(1&t&&r._UZ(0,"mat-pseudo-checkbox",4),2&t){const t=r.oxw();r.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function OT(t,e){if(1&t&&(r.TgZ(0,"span",5),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.hij("(",t.group.label,")")}}const DT=["*"],RT=new r.GfV("12.1.3"),PT=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let NT,FT=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return(0,r.X6Q)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&RT.full!==UC.full&&console.warn("The Angular Material version ("+RT.full+") does not match the Angular CDK version ("+UC.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(qC),r.LFG(PT,8),r.LFG(s))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[ow],ow]}),t})();function LT(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=xb(t)}}}function MT(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function qT(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=xb(t)}}}function UT(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Tb(t):this.defaultTabIndex}}}function ZT(t){return class extends t{constructor(...t){super(...t),this.stateChanges=new re.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{NT="undefined"!=typeof Intl}catch(Ev){NT=!1}let VT=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t})(),jT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function BT(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let GT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[FT],FT]}),t})();class zT{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const HT={enterDuration:225,exitDuration:150},YT=Jb({passive:!0}),QT=["mousedown","touchstart"],WT=["mouseup","mouseleave","touchend","touchcancel"];class $T{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ab(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},HT),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new zT(this,u,n);return c.state=0,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=1,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},HT),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ab(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(QT))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(WT),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=SC(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!xC(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,YT)})})}_removeTriggerEvents(){this._triggerElement&&(QT.forEach(t=>{this._triggerElement.removeEventListener(t,this,YT)}),this._pointerUpEventsRegistered&&WT.forEach(t=>{this._triggerElement.removeEventListener(t,this,YT)}))}}const KT=new r.OlP("mat-ripple-global-options");let JT=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new $T(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(Gb),r.Y36(KT,8),r.Y36(xT,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),XT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[FT,zb],FT]}),t})(),tE=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(xT,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),eE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[FT]]}),t})();const nE=new r.OlP("MAT_OPTION_PARENT_COMPONENT"),rE=LT(class{});let iE=0,oE=(()=>{class t extends rE{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+iE++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(nE,8))},t.\u0275dir=r.lG2({type:t,inputs:{label:"label"},features:[r.qOj]}),t})();const sE=new r.OlP("MatOptgroup");let aE=0;class lE{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let uE=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+aE++,this.onSelectionChange=new r.vpe,this._stateChanges=new re.xQ}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=xb(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Sw(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new lE(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(void 0),r.Y36(oE))},t.\u0275dir=r.lG2({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),cE=(()=>{class t extends uE{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(nE,8),r.Y36(sE,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Ikx("id",e.id),r.uIk("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.ekj("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.qOj],ngContentSelectors:DT,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.F$t(),r.YNc(0,IT,1,2,"mat-pseudo-checkbox",0),r.TgZ(1,"span",1),r.Hsn(2),r.qZA(),r.YNc(3,OT,2,1,"span",2),r._UZ(4,"div",3)),2&t&&(r.Q6J("ngIf",e.multiple),r.xp6(3),r.Q6J("ngIf",e.group&&e.group._inert),r.xp6(1),r.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[ut,JT,tE],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function hE(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}let dE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[XT,yt,FT,eE]]}),t})();const pE=["mat-button",""],fE=["*"],mE=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",gE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],yE=MT(LT(qT(class{constructor(t){this._elementRef=t}})));let vE=(()=>{class t extends yE{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of gE)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(NC),r.Y36(xT,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Gf(JT,5),2&t){let t;r.iGM(t=r.CRH())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.uIk("disabled",e.disabled||null),r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.qOj],attrs:pE,ngContentSelectors:fE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&t&&(r.xp6(2),r.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[JT],styles:[mE],encapsulation:2,changeDetection:0}),t})(),_E=(()=>{class t extends vE{constructor(t,e,n){super(e,t,n)}_haltDisabledEvents(t){this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(NC),r.Y36(r.SBq),r.Y36(xT,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e._haltDisabledEvents(t)}),2&t&&(r.uIk("tabindex",e.disabled?-1:e.tabIndex||0)("disabled",e.disabled||null)("aria-disabled",e.disabled.toString()),r.ekj("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[r.qOj],attrs:pE,ngContentSelectors:fE,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"span",0),r.Hsn(1),r.qZA(),r._UZ(2,"span",1),r._UZ(3,"span",2)),2&t&&(r.xp6(2),r.ekj("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.Q6J("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[JT],styles:[mE],encapsulation:2,changeDetection:0}),t})(),bE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[XT,FT],FT]}),t})();const wE=new Set;let CE,SE=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):xE}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!wE.has(t))try{CE||(CE=document.createElement("style"),CE.setAttribute("type","text/css"),document.head.appendChild(CE)),CE.sheet&&(CE.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),wE.add(t))}catch(j_){console.error(j_)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gb))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gb))},token:t,providedIn:"root"}),t})();function xE(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let TE=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new re.xQ}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return EE(Eb(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=ge(EE(Eb(t)).map(t=>this._registerQuery(t).observable));return e=we(e.pipe(De(1)),e.pipe(cC(1),sC(0))),e.pipe((0,Te.U)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new de.y(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Ne(e),(0,Te.U)(({matches:e})=>({query:t,matches:e})),Ub(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(SE),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(SE),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})();function EE(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function kE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"button",2),r.NdJ("click",function(){return r.CHM(t),r.oxw().action()}),r._uU(2),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.xp6(2),r.Oqu(t.data.action)}}function AE(t,e){}const IE=new r.OlP("MatSnackBarData");class OE{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const DE=Math.pow(2,31)-1;class RE{constructor(t,e){this._overlayRef=e,this._afterDismissed=new re.xQ,this._afterOpened=new re.xQ,this._onAction=new re.xQ,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,DE))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let PE=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(RE),r.Y36(IE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"span"),r._uU(1),r.qZA(),r.YNc(2,kE,3,1,"div",0)),2&t&&(r.xp6(1),r.Oqu(e.data.message),r.xp6(1),r.Q6J("ngIf",e.hasAction))},directives:[ut,vE],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const NE={snackBarState:jC("state",[HC("void, hidden",zC({transform:"scale(0.8)",opacity:0})),HC("visible",zC({transform:"scale(1)",opacity:1})),YC("* => visible",BC("150ms cubic-bezier(0, 0, 0.2, 1)")),YC("* => void, * => hidden",BC("75ms cubic-bezier(0.4, 0.0, 1, 1)",zC({opacity:0})))])};let FE=(()=>{class t extends yw{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new re.xQ,this._onExit=new re.xQ,this._onEnter=new re.xQ,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(De(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.R0b),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(Gb),r.Y36(OE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.Gf(_w,7),2&t){let t;r.iGM(t=r.CRH())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.WFA("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.d8E("@state",e._animationState)},features:[r.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.YNc(1,AE,0,0,"ng-template",1),r.qZA(),r._UZ(2,"div")),2&t&&(r.xp6(2),r.uIk("aria-live",e._live)("role",e._role))},directives:[_w],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[NE.snackBarState]}}),t})(),LE=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[oC,bw,yt,bE,FT],FT]}),t})();const ME=new r.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new OE}});let qE=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=PE,this.snackBarContainerComponent=FE,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:OE,useValue:e}]}),i=new fw(this.snackBarContainerComponent,e.viewContainerRef,n),o=t.attach(i);return o.instance.snackBarConfig=e,o.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new OE),this._defaultConfig),e),i=this._createOverlay(n),o=this._attachSnackBarContainer(i,n),s=new RE(o,i);if(t instanceof r.Rgc){const e=new mw(t,null,{$implicit:n.data,snackBarRef:s});s.instance=o.attachTemplatePortal(e)}else{const e=this._createInjector(n,s),r=new fw(t,void 0,e),i=o.attachComponentPortal(r);s.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Ub(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(s,n),this._openedSnackBarRef=s,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new Rw;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:RE,useValue:e},{provide:IE,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xw),r.LFG(DC),r.LFG(r.zs3),r.LFG(TE),r.LFG(t,12),r.LFG(ME))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Xw),r.LFG(DC),r.LFG(r.gxx),r.LFG(TE),r.LFG(t,12),r.LFG(ME))},token:t,providedIn:LE}),t})();const UE=["underline"],ZE=["connectionContainer"],VE=["inputContainer"],jE=["label"];function BE(t,e){1&t&&(r.ynx(0),r.TgZ(1,"div",14),r._UZ(2,"div",15),r._UZ(3,"div",16),r._UZ(4,"div",17),r.qZA(),r.TgZ(5,"div",18),r._UZ(6,"div",15),r._UZ(7,"div",16),r._UZ(8,"div",17),r.qZA(),r.BQk())}function GE(t,e){1&t&&(r.TgZ(0,"div",19),r.Hsn(1,1),r.qZA())}function zE(t,e){if(1&t&&(r.ynx(0),r.Hsn(1,2),r.TgZ(2,"span"),r._uU(3),r.qZA(),r.BQk()),2&t){const t=r.oxw(2);r.xp6(3),r.Oqu(t._control.placeholder)}}function HE(t,e){1&t&&r.Hsn(0,3,["*ngSwitchCase","true"])}function YE(t,e){1&t&&(r.TgZ(0,"span",23),r._uU(1," *"),r.qZA())}function QE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"label",20,21),r.NdJ("cdkObserveContent",function(){return r.CHM(t),r.oxw().updateOutlineGap()}),r.YNc(2,zE,4,1,"ng-container",12),r.YNc(3,HE,1,0,"ng-content",12),r.YNc(4,YE,2,0,"span",22),r.qZA()}if(2&t){const t=r.oxw();r.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.uIk("for",t._control.id)("aria-owns",t._control.id),r.xp6(2),r.Q6J("ngSwitchCase",!1),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function WE(t,e){1&t&&(r.TgZ(0,"div",24),r.Hsn(1,4),r.qZA())}function $E(t,e){if(1&t&&(r.TgZ(0,"div",25,26),r._UZ(2,"span",27),r.qZA()),2&t){const t=r.oxw();r.xp6(2),r.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function KE(t,e){if(1&t&&(r.TgZ(0,"div"),r.Hsn(1,5),r.qZA()),2&t){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState)}}function JE(t,e){if(1&t&&(r.TgZ(0,"div",31),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.Q6J("id",t._hintLabelId),r.xp6(1),r.Oqu(t.hintLabel)}}function XE(t,e){if(1&t&&(r.TgZ(0,"div",28),r.YNc(1,JE,2,2,"div",29),r.Hsn(2,6),r._UZ(3,"div",30),r.Hsn(4,7),r.qZA()),2&t){const t=r.oxw();r.Q6J("@transitionMessages",t._subscriptAnimationState),r.xp6(1),r.Q6J("ngIf",t.hintLabel)}}const tk=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ek=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let nk=0;const rk=new r.OlP("MatError");let ik=(()=>{class t{constructor(t,e){this.id="mat-error-"+nk++,t||e.nativeElement.setAttribute("aria-live","polite")}}return t.\u0275fac=function(e){return new(e||t)(r.$8M("aria-live"),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("id",e.id)},inputs:{id:"id"},features:[r._Bn([{provide:rk,useExisting:t}])]}),t})();const ok={transitionMessages:jC("transitionMessages",[HC("enter",zC({opacity:1,transform:"translateY(0%)"})),YC("void => enter",[zC({opacity:0,transform:"translateY(-5px)"}),BC("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})();const ak=new r.OlP("MatHint");let lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-label"]]}),t})(),uk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-placeholder"]]}),t})();const ck=new r.OlP("MatPrefix"),hk=new r.OlP("MatSuffix");let dk=0;const pk=MT(class{constructor(t){this._elementRef=t}},"primary"),fk=new r.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),mk=new r.OlP("MatFormField");let gk=(()=>{class t extends pk{constructor(t,e,n,r,i,o,s,a){super(t),this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new re.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+dk++,this._labelId="mat-form-field-label-"+dk++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=xb(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ne(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Ub(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ub(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Y_.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ne(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ne(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ub(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Ob(this._label.nativeElement,"transitionend").pipe(De(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let l=0;for(let t=0;t<s.length;t++)l+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=l>0?.75*l+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(r.SBq),r.Y36(iw,8),r.Y36(fk,8),r.Y36(Gb),r.Y36(r.R0b),r.Y36(xT,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,sk,5),r.Suo(n,sk,7),r.Suo(n,lk,5),r.Suo(n,lk,7),r.Suo(n,uk,5),r.Suo(n,rk,5),r.Suo(n,ak,5),r.Suo(n,ck,5),r.Suo(n,hk,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._controlNonStatic=t.first),r.iGM(t=r.CRH())&&(e._controlStatic=t.first),r.iGM(t=r.CRH())&&(e._labelChildNonStatic=t.first),r.iGM(t=r.CRH())&&(e._labelChildStatic=t.first),r.iGM(t=r.CRH())&&(e._placeholderChild=t.first),r.iGM(t=r.CRH())&&(e._errorChildren=t),r.iGM(t=r.CRH())&&(e._hintChildren=t),r.iGM(t=r.CRH())&&(e._prefixChildren=t),r.iGM(t=r.CRH())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Gf(UE,5),r.Gf(ZE,7),r.Gf(VE,5),r.Gf(jE,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.underlineRef=t.first),r.iGM(t=r.CRH())&&(e._connectionContainerRef=t.first),r.iGM(t=r.CRH())&&(e._inputContainerRef=t.first),r.iGM(t=r.CRH())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.ekj("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r._Bn([{provide:mk,useExisting:t}]),r.qOj],ngContentSelectors:ek,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.F$t(tk),r.TgZ(0,"div",0),r.TgZ(1,"div",1,2),r.NdJ("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.YNc(3,BE,9,0,"ng-container",3),r.YNc(4,GE,2,0,"div",4),r.TgZ(5,"div",5,6),r.Hsn(7),r.TgZ(8,"span",7),r.YNc(9,QE,5,16,"label",8),r.qZA(),r.qZA(),r.YNc(10,WE,2,0,"div",9),r.qZA(),r.YNc(11,$E,3,4,"div",10),r.TgZ(12,"div",11),r.YNc(13,KE,2,1,"div",12),r.YNc(14,XE,5,2,"div",13),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.Q6J("ngIf","outline"==e.appearance),r.xp6(1),r.Q6J("ngIf",e._prefixChildren.length),r.xp6(5),r.Q6J("ngIf",e._hasFloatingLabel()),r.xp6(1),r.Q6J("ngIf",e._suffixChildren.length),r.xp6(1),r.Q6J("ngIf","outline"!=e.appearance),r.xp6(1),r.Q6J("ngSwitch",e._getDisplayedMessages()),r.xp6(1),r.Q6J("ngSwitchCase","error"),r.xp6(1),r.Q6J("ngSwitchCase","hint"))},directives:[ut,pt,ft,mC],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[ok.transitionMessages]},changeDetection:0}),t})(),yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[yt,FT,gC],FT]}),t})();const vk=Jb({passive:!0});let _k=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ce.E;const e=Ab(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new re.xQ,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,vk),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,vk)}}),r}stopMonitoring(t){const e=Ab(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Gb),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Gb),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[zb]]}),t})();var wk=n(1555);function Ck(...t){if(1===t.length){const e=t[0];if((0,ae.k)(e))return Sk(e,null);if((0,wk.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Sk(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Sk(t=1===t.length&&(0,ae.k)(t[0])?t[0]:t,null).pipe((0,Te.U)(t=>e(...t)))}return Sk(t,null)}function Sk(t,e){return new de.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=(0,ee.D)(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let xk=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Tk=(()=>{class t extends xk{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Ek=new r.OlP("NgValueAccessor"),kk={provide:Ek,useExisting:(0,r.Gpc)(()=>Ik),multi:!0},Ak=new r.OlP("CompositionEventMode");let Ik=(()=>{class t extends xk{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ak,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([kk]),r.qOj]}),t})();function Ok(t){return null==t||0===t.length}function Dk(t){return null!=t&&"number"==typeof t.length}const Rk=new r.OlP("NgValidators"),Pk=new r.OlP("NgAsyncValidators"),Nk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fk{static min(t){return function(t){return e=>{if(Ok(e.value)||Ok(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(Ok(e.value)||Ok(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return Lk(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return Ok(t.value)||Nk.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>Ok(e.value)||!Dk(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Dk(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Mk;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Ok(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Bk(t)}static composeAsync(t){return zk(t)}}function Lk(t){return Ok(t.value)?{required:!0}:null}function Mk(t){return null}function qk(t){return null!=t}function Uk(t){const e=(0,r.QGY)(t)?(0,ee.D)(t):t;return(0,r.CqO)(e),e}function Zk(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vk(t,e){return e.map(e=>e(t))}function jk(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Bk(t){if(!t)return null;const e=t.filter(qk);return 0==e.length?null:function(t){return Zk(Vk(t,e))}}function Gk(t){return null!=t?Bk(jk(t)):null}function zk(t){if(!t)return null;const e=t.filter(qk);return 0==e.length?null:function(t){return Ck(Vk(t,e).map(Uk)).pipe((0,Te.U)(Zk))}}function Hk(t){return null!=t?zk(jk(t)):null}function Yk(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Qk(t){return t._rawValidators}function Wk(t){return t._rawAsyncValidators}let $k=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gk(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),Kk=(()=>{class t extends $k{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class Jk extends $k{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Xk=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Jk,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function tA(t,e){rA(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&oA(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&oA(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function eA(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),iA(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function nA(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function rA(t,e){const n=Qk(t);null!==e.validator?t.setValidators(Yk(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=Wk(t);null!==e.asyncValidator?t.setAsyncValidators(Yk(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();nA(e._rawValidators,i),nA(e._rawAsyncValidators,i)}function iA(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=Qk(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=Wk(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return nA(e._rawValidators,r),nA(e._rawAsyncValidators,r),n}function oA(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function sA(t,e){rA(t,e)}function aA(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function lA(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function uA(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Ik?n=t:Object.getPrototypeOf(t.constructor)===Tk?r=t:i=t}),i||r||n||null}function cA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const hA="VALID",dA="INVALID",pA="PENDING",fA="DISABLED";function mA(t){return(_A(t)?t.validators:t)||null}function gA(t){return Array.isArray(t)?Gk(t):t||null}function yA(t,e){return(_A(e)?e.asyncValidators:t)||null}function vA(t){return Array.isArray(t)?Hk(t):t||null}function _A(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class bA{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=gA(this._rawValidators),this._composedAsyncValidatorFn=vA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===hA}get invalid(){return this.status===dA}get pending(){return this.status==pA}get disabled(){return this.status===fA}get enabled(){return this.status!==fA}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=gA(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=vA(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=pA,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fA,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hA,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==hA&&this.status!==pA||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fA:hA}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=pA,this._hasOwnPendingAsyncValidator=!0;const e=Uk(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof CA?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof SA&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?fA:this.errors?dA:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pA)?pA:this._anyControlsHaveStatus(dA)?dA:hA}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_A(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class wA extends bA{constructor(t=null,e,n){super(mA(e),yA(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cA(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cA(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class CA extends bA{constructor(t,e,n){super(mA(e),yA(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof wA?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class SA extends bA{constructor(t,e,n){super(mA(e),yA(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof wA?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const xA={provide:Kk,useExisting:(0,r.Gpc)(()=>EA)},TA=(()=>Promise.resolve(null))();let EA=(()=>{class t extends Kk{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new CA({},Gk(t),Hk(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){TA.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),tA(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){TA.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),cA(this._directives,t)})}addFormGroup(t){TA.then(()=>{const e=this._findContainer(t.path),n=new CA({});sA(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){TA.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){TA.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,lA(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Rk,10),r.Y36(Pk,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([xA]),r.qOj]}),t})();const kA={provide:Jk,useExisting:(0,r.Gpc)(()=>IA)},AA=(()=>Promise.resolve(null))();let IA=(()=>{class t extends Jk{constructor(t,e,n,i){super(),this.control=new wA,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=uA(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),aA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tA(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){AA.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;AA.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Kk,9),r.Y36(Rk,10),r.Y36(Pk,10),r.Y36(Ek,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([kA]),r.qOj,r.TTD]}),t})(),OA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const DA=new r.OlP("NgModelWithFormControlWarning"),RA={provide:Jk,useExisting:(0,r.Gpc)(()=>PA)};let PA=(()=>{class t extends Jk{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=uA(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&eA(e,this,!1),tA(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}aA(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&eA(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Rk,10),r.Y36(Pk,10),r.Y36(Ek,10),r.Y36(DA,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r._Bn([RA]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})();const NA={provide:Kk,useExisting:(0,r.Gpc)(()=>FA)};let FA=(()=>{class t extends Kk{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(iA(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return tA(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){eA(t.control||null,t,!1),cA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,lA(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(eA(e||null,t),n instanceof wA&&(tA(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);sA(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return iA(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rA(this.form,this),this._oldForm&&iA(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Rk,10),r.Y36(Pk,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([NA]),r.qOj,r.TTD]}),t})();const LA={provide:Rk,useExisting:(0,r.Gpc)(()=>MA),multi:!0};let MA=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?Lk(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[r._Bn([LA])]}),t})(),qA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[OA]]}),t})(),UA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[qA]}),t})(),ZA=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:DA,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[qA]}),t})();const VA=new r.OlP("MAT_INPUT_VALUE_ACCESSOR"),jA=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let BA=0;const GA=ZT(class{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}});let zA=(()=>{class t extends GA{constructor(t,e,n,r,i,o,s,a,l,u){super(o,r,i,n),this._elementRef=t,this._platform=e,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+BA++,this.focused=!1,this.stateChanges=new re.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>Yb().has(t));const c=this._elementRef.nativeElement,h=c.nodeName.toLowerCase();this._inputValueAccessor=s||c,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&l.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{const e=t.target;e.value||0!==e.selectionStart||0!==e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isInFormField=!!u,this._isNativeSelect&&(this.controlType=c.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=xb(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=xb(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Yb().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=xb(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){jA.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Gb),r.Y36(Jk,10),r.Y36(EA,8),r.Y36(FA,8),r.Y36(VT),r.Y36(VA,10),r.Y36(_k),r.Y36(r.R0b),r.Y36(mk,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.NdJ("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Ikx("disabled",e.disabled)("required",e.required),r.uIk("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.empty&&e.required?null:e.errorState)("aria-required",e.required),r.ekj("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r._Bn([{provide:sk,useExisting:t}]),r.qOj,r.TTD]}),t})(),HA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[VT],imports:[[bk,yk,FT],bk,yk]}),t})();const YA=["input"],QA=function(t){return{enterDuration:t}},WA=["*"],$A=new r.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}});let KA=0;const JA={provide:Ek,useExisting:(0,r.Gpc)(()=>nI),multi:!0};class XA{constructor(t,e){this.source=t,this.value=e}}const tI=new r.OlP("MatRadioGroup");let eI=(()=>{class t{constructor(t){this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+KA++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=()=>{},this.onTouched=()=>{},this.change=new r.vpe}get name(){return this._name}set name(t){this._name=t,this._updateRadioButtonNames()}get labelPosition(){return this._labelPosition}set labelPosition(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}_checkSelectedRadioButton(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}get selected(){return this._selected}set selected(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}get disabled(){return this._disabled}set disabled(t){this._disabled=xb(t),this._markRadiosForCheck()}get required(){return this._required}set required(t){this._required=xb(t),this._markRadiosForCheck()}ngAfterContentInit(){this._isInitialized=!0}_touch(){this.onTouched&&this.onTouched()}_updateRadioButtonNames(){this._radios&&this._radios.forEach(t=>{t.name=this.name,t._markForCheck()})}_updateSelectedRadioFromValue(){this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(t=>{t.checked=this.value===t.value,t.checked&&(this._selected=t)}))}_emitChangeEvent(){this._isInitialized&&this.change.emit(new XA(this._selected,this._value))}_markRadiosForCheck(){this._radios&&this._radios.forEach(t=>t._markForCheck())}writeValue(t){this.value=t,this._changeDetector.markForCheck()}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t})(),nI=(()=>{class t extends eI{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,sI,5),2&t){let t;r.iGM(t=r.CRH())&&(e._radios=t)}},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[r._Bn([JA,{provide:tI,useExisting:t}]),r.qOj]}),t})();class rI{constructor(t){this._elementRef=t}}const iI=qT(UT(rI));let oI=(()=>{class t extends iI{constructor(t,e,n,i,o,s,a,l){super(e),this._changeDetector=n,this._focusMonitor=i,this._radioDispatcher=o,this._providerOverride=a,this._uniqueId="mat-radio-"+ ++KA,this.id=this._uniqueId,this.change=new r.vpe,this._checked=!1,this._value=null,this._removeUniqueSelectionListener=()=>{},this.radioGroup=t,this._noopAnimations="NoopAnimations"===s,l&&(this.tabIndex=Tb(l,0)),this._removeUniqueSelectionListener=o.listen((t,e)=>{t!==this.id&&e===this.name&&(this.checked=!1)})}get checked(){return this._checked}set checked(t){const e=xb(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}get value(){return this._value}set value(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}get labelPosition(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"}set labelPosition(t){this._labelPosition=t}get disabled(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled}set disabled(t){this._setDisabled(xb(t))}get required(){return this._required||this.radioGroup&&this.radioGroup.required}set required(t){this._required=xb(t)}get color(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"}set color(t){this._color=t}get inputId(){return`${this.id||this._uniqueId}-input`}focus(t,e){e?this._focusMonitor.focusVia(this._inputElement,e,t):this._inputElement.nativeElement.focus(t)}_markForCheck(){this._changeDetector.markForCheck()}ngOnInit(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{!t&&this.radioGroup&&this.radioGroup._touch()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}_emitChangeEvent(){this.change.emit(new XA(this,this._value))}_isRippleDisabled(){return this.disableRipple||this.disabled}_onInputClick(t){t.stopPropagation()}_onInputInteraction(t){if(t.stopPropagation(),!this.checked&&!this.disabled){const t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}}_setDisabled(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(eI),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(NC),r.Y36(aw),r.Y36(String),r.Y36(void 0),r.Y36(String))},t.\u0275dir=r.lG2({type:t,viewQuery:function(t,e){if(1&t&&r.Gf(YA,5),2&t){let t;r.iGM(t=r.CRH())&&(e._inputElement=t.first)}},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[r.qOj]}),t})(),sI=(()=>{class t extends oI{constructor(t,e,n,r,i,o,s,a){super(t,e,n,r,i,o,s,a)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(tI,8),r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(NC),r.Y36(aw),r.Y36(xT,8),r.Y36($A,8),r.$8M("tabindex"))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&r.NdJ("focus",function(){return e._inputElement.nativeElement.focus()}),2&t&&(r.uIk("tabindex",null)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),r.ekj("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable",e._noopAnimations)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[r.qOj],ngContentSelectors:WA,decls:13,vars:20,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(r.F$t(),r.TgZ(0,"label",0,1),r.TgZ(2,"span",2),r._UZ(3,"span",3),r._UZ(4,"span",4),r.TgZ(5,"input",5,6),r.NdJ("change",function(t){return e._onInputInteraction(t)})("click",function(t){return e._onInputClick(t)}),r.qZA(),r.TgZ(7,"span",7),r._UZ(8,"span",8),r.qZA(),r.qZA(),r.TgZ(9,"span",9),r.TgZ(10,"span",10),r._uU(11,"\xa0"),r.qZA(),r.Hsn(12),r.qZA(),r.qZA()),2&t){const t=r.MAs(1);r.uIk("for",e.inputId),r.xp6(5),r.Q6J("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),r.uIk("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),r.xp6(2),r.Q6J("matRippleTrigger",t)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.VKq(18,QA,e._noopAnimations?0:150)),r.xp6(2),r.ekj("mat-radio-label-before","before"==e.labelPosition)}},directives:[JT],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;opacity:0;transition:transform ease 280ms,background-color ease 280ms,opacity linear 1ms 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5);opacity:1;transition:transform ease 280ms,background-color ease 280ms}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-ripple,.cdk-high-contrast-active .mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-ripple{outline:solid 3px}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t})(),aI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[XT,FT],FT]}),t})();const lI=["trigger"],uI=["panel"];function cI(t,e){if(1&t&&(r.TgZ(0,"span",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.placeholder)}}function hI(t,e){if(1&t&&(r.TgZ(0,"span",12),r._uU(1),r.qZA()),2&t){const t=r.oxw(2);r.xp6(1),r.Oqu(t.triggerValue)}}function dI(t,e){1&t&&r.Hsn(0,0,["*ngSwitchCase","true"])}function pI(t,e){if(1&t&&(r.TgZ(0,"span",9),r.YNc(1,hI,2,1,"span",10),r.YNc(2,dI,1,0,"ng-content",11),r.qZA()),2&t){const t=r.oxw();r.Q6J("ngSwitch",!!t.customTrigger),r.xp6(2),r.Q6J("ngSwitchCase",!0)}}function fI(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",13),r.TgZ(1,"div",14,15),r.NdJ("@transformPanel.done",function(e){return r.CHM(t),r.oxw()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.CHM(t),r.oxw()._handleKeydown(e)}),r.Hsn(3,1),r.qZA(),r.qZA()}if(2&t){const t=r.oxw();r.Q6J("@transformPanelWrap",void 0),r.xp6(1),r.Gre("mat-select-panel ",t._getPanelTheme(),""),r.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const mI=[[["mat-select-trigger"]],"*"],gI=["mat-select-trigger","*"],yI={transformPanelWrap:jC("transformPanelWrap",[YC("* => void",WC("@transformPanel",[QC()],{optional:!0}))]),transformPanel:jC("transformPanel",[HC("void",zC({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),HC("showing",zC({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),HC("showing-multiple",zC({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),YC("void => *",BC("120ms cubic-bezier(0, 0, 0.2, 1)")),YC("* => void",BC("100ms 25ms linear",zC({opacity:0})))])};let vI=0;const _I=256,bI=new r.OlP("mat-select-scroll-strategy"),wI=new r.OlP("MAT_SELECT_CONFIG"),CI={provide:bI,deps:[Xw],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class SI{constructor(t,e){this.source=t,this.value=e}}const xI=qT(UT(LT(ZT(class{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}})))),TI=new r.OlP("MatSelectTrigger");let EI=(()=>{class t extends xI{constructor(t,e,n,i,o,s,a,l,u,c,h,d,p,f){var m,g,y;super(o,i,a,l,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=u,this._liveAnnouncer=p,this._defaultOptions=f,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+vI++,this._triggerAriaLabelledBy=null,this._destroy=new re.xQ,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+vI++,this._panelDoneAnimatingStream=new re.xQ,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(y=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=Se(()=>{const t=this.options;return t?t.changes.pipe(Ne(t),ke(()=>(0,Y_.T)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(De(1),ke(()=>this.optionSelectionChanges))}),this.openedChange=new r.vpe,this._openedStream=this.openedChange.pipe(qe(t=>t),(0,Te.U)(()=>{})),this._closedStream=this.openedChange.pipe(qe(t=>!t),(0,Te.U)(()=>{})),this.selectionChange=new r.vpe,this.valueChange=new r.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==f?void 0:f.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=f.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=xb(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=xb(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=xb(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Tb(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new sw(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(vo(),Ub(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Ub(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Ne(null),Ub(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!Sw(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||Sw(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(De(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new yC(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Ub(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Ub(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Y_.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ub(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Y_.T)(...this.options.map(t=>t._stateChanges)).pipe(Ub(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(cw),r.Y36(r.sBO),r.Y36(r.R0b),r.Y36(VT),r.Y36(r.SBq),r.Y36(iw,8),r.Y36(EA,8),r.Y36(FA,8),r.Y36(mk,8),r.Y36(Jk,10),r.$8M("tabindex"),r.Y36(bI),r.Y36(DC),r.Y36(wI,8))},t.\u0275dir=r.lG2({type:t,viewQuery:function(t,e){if(1&t&&(r.Gf(lI,5),r.Gf(uI,5),r.Gf(rC,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.trigger=t.first),r.iGM(t=r.CRH())&&(e.panel=t.first),r.iGM(t=r.CRH())&&(e._overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.qOj,r.TTD]}),t})(),kI=(()=>{class t extends EI{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Ub(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(De(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=hE(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,o;this.panel.nativeElement.scrollTop=0===t&&1===e?0:(i=n,(r=(t+e)*n)<(o=this.panel.nativeElement.scrollTop)?r:r+i>o+256?Math.max(0,r-256+i):o)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new SI(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);o>0?i+=o+8:s>0&&(i-=s+8),this._overlayDir.offsetX=Math.round(i),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(_I/r);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-_I)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,_I)-o-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,_I),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=hE(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,TI,5),r.Suo(n,cE,5),r.Suo(n,sE,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.customTrigger=t.first),r.iGM(t=r.CRH())&&(e.options=t),r.iGM(t=r.CRH())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.NdJ("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.uIk("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.ekj("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r._Bn([{provide:sk,useExisting:t},{provide:nE,useExisting:t}]),r.qOj],ngContentSelectors:gI,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.F$t(mI),r.TgZ(0,"div",0,1),r.NdJ("click",function(){return e.toggle()}),r.TgZ(3,"div",2),r.YNc(4,cI,2,1,"span",3),r.YNc(5,pI,3,2,"span",4),r.qZA(),r.TgZ(6,"div",5),r._UZ(7,"div",6),r.qZA(),r.qZA(),r.YNc(8,fI,4,14,"ng-template",7),r.NdJ("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.MAs(1);r.uIk("aria-owns",e.panelOpen?e.id+"-panel":null),r.xp6(3),r.Q6J("ngSwitch",e.empty),r.uIk("id",e._valueId),r.xp6(1),r.Q6J("ngSwitchCase",!0),r.xp6(1),r.Q6J("ngSwitchCase",!1),r.xp6(3),r.Q6J("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[nC,pt,ft,rC,mt,ot],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[yI.transformPanelWrap,yI.transformPanel]},changeDetection:0}),t})(),AI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[CI],imports:[[yt,oC,dE,FT],hw,yk,dE,FT]}),t})(),II=(()=>{class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=xb(t)}get inset(){return this._inset}set inset(t){this._inset=xb(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("aria-orientation",e.vertical?"vertical":"horizontal"),r.ekj("mat-divider-vertical",e.vertical)("mat-divider-horizontal",!e.vertical)("mat-divider-inset",e.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,e){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),t})(),OI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[FT],FT]}),t})(),DI=(()=>{class t{constructor(t,e,n){this.userDataService=t,this.router=e,this.snackbar=n,this.curso="",this.ultimoSemestreMestrado="",this.ultimoSemestreDoutorado="",this.disciplinasObrigatoriasAprovadas="",this.disciplinasOptativasAprovadas="",this.conceitosDivulgadosUltimoSemestre="",this.reprovacoesTotais="",this.reprovacoesUltimoSemestre="",this.exameProficienciaIdiomas="",this.exameQualificacao="",this.limiteQualificacao="",this.limiteDepositoDissertacao="",this.artigosPublicados="",this.artigosAguardandoResposta="",this.artigoPreparacao="",this.estagioPesquisa="",this.congressoPais="",this.congressoExterior="",this.visitaPesquisa="",this.declaracaoExtra="",this.displaySemester="",this.currentDate=Date()}ngOnInit(){}validate(){return this.checkPosGrad(this.curso)?1!=this.curso||this.checkSemestreMestrado(this.ultimoSemestreMestrado)?2!=this.curso||this.checkSemestreDoutorado(this.ultimoSemestreDoutorado)?this.checkDiscAprov(this.disciplinasObrigatoriasAprovadas)?this.checkDiscAprov(this.disciplinasOptativasAprovadas)?this.checkBool(this.conceitosDivulgadosUltimoSemestre)?this.checkReprovasTotal(this.reprovacoesTotais)?this.checkReprovasUltSem(this.reprovacoesUltimoSemestre)?this.checkAprovProfIdiomas(this.exameProficienciaIdiomas)?this.checkAprovExamQualifi(this.exameQualificacao)?1==this.exameQualificacao||this.checkTempoRestanteExamQualif(this.limiteQualificacao)?1!=this.exameQualificacao||this.checkTempoMaxDissert(this.limiteDepositoDissertacao)?this.checkQtdArtigosAceitos(this.artigosPublicados)?this.checkQtdArtigosEspera(this.artigosAguardandoResposta)?this.checkArtigoPrep(this.artigoPreparacao)?this.checkParagrafo(this.estagioPesquisa)?this.checkParagrafo(this.congressoPais)?this.checkParagrafo(this.congressoExterior)?this.checkParagrafo(this.visitaPesquisa)?this.checkParagrafo(this.declaracaoExtra)?(console.log("All set."),!0):(console.log("Campo declaracaoExtra n\xe3o passou na valida\xe7\xe3o",this.declaracaoExtra),!1):(console.log("Campo visitaPesquisa n\xe3o passou na valida\xe7\xe3o",this.visitaPesquisa),!1):(console.log("Campo congressoExterior n\xe3o passou na valida\xe7\xe3o",this.congressoExterior),!1):(console.log("Campo congressoPais n\xe3o passou na valida\xe7\xe3o",this.congressoPais),!1):(console.log("Campo estagioPesquisa n\xe3o passou na valida\xe7\xe3o",this.estagioPesquisa),!1):(console.log("Campo artigoPreparacao n\xe3o passou na valida\xe7\xe3o",this.artigoPreparacao),!1):(console.log("Campo artigosAguardandoResposta n\xe3o passou na valida\xe7\xe3o",this.artigosAguardandoResposta),!1):(console.log("Campo artigosPublicados n\xe3o passou na valida\xe7\xe3o",this.artigosPublicados),!1):(console.log("Campo limiteDepositoDissertacao n\xe3o passou na valida\xe7\xe3o",this.limiteDepositoDissertacao),!1):(console.log("Campo limiteQualificacao n\xe3o passou na valida\xe7\xe3o",this.limiteQualificacao),!1):(console.log("Campo exameQualificacao n\xe3o passou na valida\xe7\xe3o",this.exameQualificacao),!1):(console.log("Campo exameProficienciaIdiomas n\xe3o passou na valida\xe7\xe3o",this.exameProficienciaIdiomas),!1):(console.log("Campo reprovacoesUltimoSemestre n\xe3o passou na valida\xe7\xe3o",this.reprovacoesUltimoSemestre),!1):(console.log("Campo reprovacoesTotais n\xe3o passou na valida\xe7\xe3o",this.reprovacoesTotais),!1):(console.log("Campo conceitosDivulgadosUltimoSemestre n\xe3o passou na valida\xe7\xe3o",this.conceitosDivulgadosUltimoSemestre),!1):(console.log("Campo disciplinasOptativasAprovadas n\xe3o passou na valida\xe7\xe3o",this.disciplinasOptativasAprovadas),!1):(console.log("Campo disciplinasObrigatoriasAprovadas n\xe3o passou na valida\xe7\xe3o",this.disciplinasObrigatoriasAprovadas),!1):(console.log("Campo ultimoSemestreDoutorado n\xe3o passou na valida\xe7\xe3o",this.ultimoSemestreDoutorado),!1):(console.log("Campo ultimoSemestreMestrado n\xe3o passou na valida\xe7\xe3o",this.ultimoSemestreMestrado),!1):(console.log("Campo curso n\xe3o passou na valida\xe7\xe3o",this.curso),!1)}submit(){if(!this.validate())return!1;console.log("Salvando dados bem aqui...");const t=this.userDataService.getUserUID(),e=new Date;let n=1;e.getMonth()>=6&&(n=2);const r=`${e.getFullYear()}-${n}`,i={updated:Date(),semester:r,courseLevel:this.curso,studentOwnerCode:t,lattes:this.user.lattesLink,leaderCode:this.user.leaderID,leader:this.user.leader,student:{uspNumber:this.user.uspNumber,name:this.user.name,email:this.user.email,lastResult:this.user.lastResult,lattesLink:this.user.lattesLink},status:"Enviado",parecerOrientador:"",parecerOrientadorAvaliacao:"",parecerCCP:"",parecerCCPAvaliacao:"",answers:{ultimoSemestreMestrado:this.ultimoSemestreMestrado,ultimoSemestreDoutorado:this.ultimoSemestreDoutorado,disciplinasObrigatoriasAprovadas:this.disciplinasObrigatoriasAprovadas,disciplinasOptativasAprovadas:this.disciplinasOptativasAprovadas,conceitosDivulgadosUltimoSemestre:this.conceitosDivulgadosUltimoSemestre,reprovacoesTotais:this.reprovacoesTotais,reprovacoesUltimoSemestre:this.reprovacoesUltimoSemestre,exameProficienciaIdiomas:this.exameProficienciaIdiomas,exameQualificacao:this.exameQualificacao,limiteQualificacao:this.limiteQualificacao,limiteDepositoDissertacao:this.limiteDepositoDissertacao,artigosPublicados:this.artigosPublicados,artigosAguardandoResposta:this.artigosAguardandoResposta,artigoPreparacao:this.artigoPreparacao,estagioPesquisa:this.estagioPesquisa,congressoPais:this.congressoPais,congressoExterior:this.congressoExterior,visitaPesquisa:this.visitaPesquisa,declaracaoExtra:this.declaracaoExtra}};if(console.log("Data to be saved:",i),this.isAbletoSave())return this.userDataService.setNewReport(i),this.snackbar.open(`Novo relat\xf3rio para o semestre ${r} enviado com sucesso!`,"Okay",{duration:3e3}),this.router.navigateByUrl("/relatorios/list",{replaceUrl:!0}),!0;alert("voc\xea j\xe1 enviou um relat\xf3rio esse semestre!")}isAbletoSave(){const t=new Date;let e=1;t.getMonth()>=6&&(e=2);const n=`${t.getFullYear()}-${e}`,r=this.user.reports;for(let i=0;i<r.length;i++)if(r[i].semester==n)return!1;return!0}ngAfterViewInit(){this.userDataService.userDataObservable.subscribe(t=>{const e=new Date;let n=1;e.getMonth()>=6&&(n=2),this.displaySemester=`${n}\xba semestre, ${e.getFullYear()}`,this.user=t})}checkPosGrad(t){return t>0&&t<3}checkSemestreMestrado(t){return t>=1||t<=5}checkSemestreDoutorado(t){return t>=1||t<=8}checkDiscAprov(t){return t==parseInt(t)&&t>=0}checkBool(t){return!!t}checkReprovasTotal(t){return t>=0||t<=2}checkReprovasUltSem(t){return t>=0||t<=3}checkAprovProfIdiomas(t){return 1==t||0==t}checkAprovExamQualifi(t){return t>=0||t<=2}checkTempoRestanteExamQualif(t){return t>=0||t>=2}checkTempoMaxDissert(t){return t>=0||t>=2}checkQtdArtigosAceitos(t){return t>=0||t<=3}checkQtdArtigosEspera(t){return t>=0||t<=3}checkArtigoPrep(t){return t>=0||t<=5}checkParagrafo(t){return!(!t||""==t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Sb),r.Y36(Zi),r.Y36(qE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-new-report"]],decls:318,vars:41,consts:[[1,"intro"],[1,"form"],[1,"row"],["appearance","standard",1,"input"],["matInput","","disabled","",3,"value"],["appearance","standard",1,"input-long"],["matInput","","placeholder","Digite apenas os n\xfameros.",3,"value"],["matInput","","placeholder","https://...",3,"value"],[1,"row",2,"height","81px"],["ngDefaultControl","","aria-label","Selecione uma op\xe7\xe3o",3,"ngModel","ngModelChange"],[1,"question-number"],["color","primary","value","1"],["color","primary","value","2"],["ngDefaultControl","","appearance","standard",1,"input-long"],[3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],[1,"row","row--flexless"],["ngDefaultControl","","appearance","standard",1,"input",3,"ngModel","ngModelChange"],["matInput","","placeholder","Apenas n\xfameros"],["color","primary","value","0"],["color","primary","value","3"],["ngDefaultControl","","aria-label","Selecione uma op\xe7\xe3o",3,"ngModel","disabled","ngModelChange"],["color","primary","value","4"],["color","primary","value","5"],["color","primary","value","6"],["ngDefaultControl","","appearance","standard",1,"input-long",3,"ngModel","ngModelChange"],["matInput","","placeholder","Digite aqui."],["href","relatorios/list","mat-stroked-button","","color","primary",2,"margin-right","8px"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"p"),r._uU(2," Preencha os dados abaixo para submeter o seu relat\xf3rio semestral. Antes de prosseguir, confira os dados abaixo: "),r.qZA(),r.TgZ(3,"table"),r.TgZ(4,"tr"),r.TgZ(5,"td"),r._uU(6,"Semestre"),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.qZA(),r.TgZ(9,"tr"),r.TgZ(10,"td"),r._uU(11,"Orientador"),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",1),r.TgZ(15,"div",2),r.TgZ(16,"mat-form-field",3),r.TgZ(17,"mat-label"),r._uU(18,"Nome do aluno"),r.qZA(),r._UZ(19,"input",4),r.qZA(),r.TgZ(20,"mat-form-field",3),r.TgZ(21,"mat-label"),r._uU(22,"E-mail"),r.qZA(),r._UZ(23,"input",4),r.qZA(),r.qZA(),r.TgZ(24,"div",2),r.TgZ(25,"mat-form-field",3),r.TgZ(26,"mat-label"),r._uU(27,"\xdaltima atualiza\xe7\xe3o"),r.qZA(),r._UZ(28,"input",4),r.ALo(29,"date"),r.qZA(),r.TgZ(30,"mat-form-field",5),r.TgZ(31,"mat-label"),r._uU(32,"Resultado da avalia\xe7\xe3o do \xfaltimo relat\xf3rio"),r.qZA(),r._UZ(33,"input",4),r.qZA(),r.qZA(),r.TgZ(34,"div",2),r.TgZ(35,"mat-form-field",3),r.TgZ(36,"mat-label"),r._uU(37,"N\xfamero USP"),r.qZA(),r._UZ(38,"input",6),r.qZA(),r.TgZ(39,"mat-form-field",5),r.TgZ(40,"mat-label"),r._uU(41,"Link do Curriculum Lattes"),r.qZA(),r._UZ(42,"input",7),r.qZA(),r.qZA(),r.TgZ(43,"div",8),r.TgZ(44,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.curso=t}),r.TgZ(45,"mat-label"),r.TgZ(46,"div",10),r._uU(47,"1"),r.qZA(),r._uU(48," Selecione o curso: "),r.qZA(),r.TgZ(49,"mat-radio-button",11),r._uU(50,"Mestrado"),r.qZA(),r.TgZ(51,"mat-radio-button",12),r._uU(52,"Doutorado"),r.qZA(),r.qZA(),r.TgZ(53,"mat-form-field",13),r.TgZ(54,"mat-label"),r._uU(55,"\xdaltimo semestre conclu\xeddo do Mestrado"),r.qZA(),r.TgZ(56,"mat-select",14),r.NdJ("ngModelChange",function(t){return e.ultimoSemestreMestrado=t}),r.TgZ(57,"mat-option",15),r._uU(58,"1\xba semestre"),r.qZA(),r.TgZ(59,"mat-option",16),r._uU(60,"2\xba semestre"),r.qZA(),r.TgZ(61,"mat-option",17),r._uU(62,"3\xba semestre"),r.qZA(),r.TgZ(63,"mat-option",18),r._uU(64,"4\xba semestre"),r.qZA(),r.TgZ(65,"mat-option",19),r._uU(66,"5\xba semestre"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(67,"mat-form-field",13),r.TgZ(68,"mat-label"),r._uU(69,"\xdaltimo semestre conclu\xeddo do Doutorado"),r.qZA(),r.TgZ(70,"mat-select",14),r.NdJ("ngModelChange",function(t){return e.ultimoSemestreDoutorado=t}),r.TgZ(71,"mat-option",15),r._uU(72,"1\xba semestre"),r.qZA(),r.TgZ(73,"mat-option",16),r._uU(74,"2\xba semestre"),r.qZA(),r.TgZ(75,"mat-option",17),r._uU(76,"3\xba semestre"),r.qZA(),r.TgZ(77,"mat-option",18),r._uU(78,"4\xba semestre"),r.qZA(),r.TgZ(79,"mat-option",19),r._uU(80,"5\xba semestre"),r.qZA(),r.TgZ(81,"mat-option",20),r._uU(82,"6\xba semestre"),r.qZA(),r.TgZ(83,"mat-option",21),r._uU(84,"7\xba semestre"),r.qZA(),r.TgZ(85,"mat-option",22),r._uU(86,"8\xba semestre"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(87,"mat-divider"),r.TgZ(88,"div",23),r.TgZ(89,"mat-label"),r.TgZ(90,"div",10),r._uU(91,"2"),r.qZA(),r._uU(92," Em quantas disciplinas obrigat\xf3rias voc\xea ja obteve aprova\xe7\xe3o?"),r.qZA(),r._UZ(93,"br"),r.TgZ(94,"mat-form-field",24),r.NdJ("ngModelChange",function(t){return e.disciplinasObrigatoriasAprovadas=t}),r.TgZ(95,"mat-label"),r._uU(96,"N\xfamero de disciplinas"),r.qZA(),r._UZ(97,"input",25),r.qZA(),r.qZA(),r.TgZ(98,"div",23),r.TgZ(99,"mat-label"),r.TgZ(100,"div",10),r._uU(101,"3"),r.qZA(),r._uU(102," Em quantas disciplinas optativas voc\xea ja obteve aprova\xe7\xe3o?"),r.qZA(),r._UZ(103,"br"),r.TgZ(104,"mat-form-field",24),r.NdJ("ngModelChange",function(t){return e.disciplinasOptativasAprovadas=t}),r.TgZ(105,"mat-label"),r._uU(106,"N\xfamero de disciplinas"),r.qZA(),r._UZ(107,"input",25),r.qZA(),r.qZA(),r._UZ(108,"mat-divider"),r.TgZ(109,"div",23),r.TgZ(110,"mat-label"),r.TgZ(111,"div",10),r._uU(112,"4"),r.qZA(),r._uU(113," Todos os conceitos em disciplinas cursadas no \xfaltimo semestre j\xe1 foram divulgados? Caso n\xe3o, espere at\xe9 2 dias antes da data m\xe1xima definida no site do PPgSI para enviar o seu relat\xf3rio. "),r.qZA(),r._UZ(114,"br"),r._UZ(115,"br"),r.TgZ(116,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.conceitosDivulgadosUltimoSemestre=t}),r.TgZ(117,"mat-radio-button",11),r._uU(118,"Sim"),r.qZA(),r.TgZ(119,"mat-radio-button",12),r._uU(120,"N\xe3o"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(121,"div",23),r.TgZ(122,"mat-label"),r.TgZ(123,"div",10),r._uU(124,"5"),r.qZA(),r._uU(125," Em quantas disciplinas voc\xea foi reprovado desde o in\xedcio do mestrado/doutorado?"),r.qZA(),r._UZ(126,"br"),r._UZ(127,"br"),r.TgZ(128,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.reprovacoesTotais=t}),r.TgZ(129,"mat-radio-button",26),r._uU(130,"0"),r.qZA(),r.TgZ(131,"mat-radio-button",11),r._uU(132,"1"),r.qZA(),r.TgZ(133,"mat-radio-button",12),r._uU(134,"2"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(135,"div",23),r.TgZ(136,"mat-label"),r.TgZ(137,"div",10),r._uU(138,"6"),r.qZA(),r._uU(139," Em quantas disciplinas voc\xea foi reprovado no \xfaltimo semestre?"),r.qZA(),r._UZ(140,"br"),r._UZ(141,"br"),r.TgZ(142,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.reprovacoesUltimoSemestre=t}),r.TgZ(143,"mat-radio-button",26),r._uU(144,"0"),r.qZA(),r.TgZ(145,"mat-radio-button",11),r._uU(146,"1"),r.qZA(),r.TgZ(147,"mat-radio-button",12),r._uU(148,"2"),r.qZA(),r.TgZ(149,"mat-radio-button",27),r._uU(150,"Terminei as disciplinas"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(151,"div",23),r.TgZ(152,"mat-label"),r.TgZ(153,"div",10),r._uU(154,"7"),r.qZA(),r._uU(155," Voc\xea j\xe1 foi aprovado no exame de profici\xeancia em idiomas?"),r.qZA(),r._UZ(156,"br"),r._UZ(157,"br"),r.TgZ(158,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.exameProficienciaIdiomas=t}),r.TgZ(159,"mat-radio-button",11),r._uU(160,"Sim"),r.qZA(),r.TgZ(161,"mat-radio-button",26),r._uU(162,"N\xe3o"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(163,"div",23),r.TgZ(164,"mat-label"),r.TgZ(165,"div",10),r._uU(166,"8"),r.qZA(),r._uU(167," Voc\xea j\xe1 realizou o exame de qualifica\xe7\xe3o?"),r.qZA(),r._UZ(168,"br"),r._UZ(169,"br"),r.TgZ(170,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.exameQualificacao=t}),r.TgZ(171,"mat-radio-button",11),r._uU(172,"Sim. Fui aprovado."),r.qZA(),r.TgZ(173,"mat-radio-button",12),r._uU(174,"Sim. Fui reprovado."),r.qZA(),r.TgZ(175,"mat-radio-button",27),r._uU(176,"N\xe3o."),r.qZA(),r.qZA(),r.qZA(),r.TgZ(177,"div",23),r.TgZ(178,"mat-label"),r.TgZ(179,"div",10),r._uU(180,"9"),r.qZA(),r._uU(181," Se n\xe3o qualificou, quanto tempo falta para o limite m\xe1ximo de qualifica\xe7\xe3o?"),r.qZA(),r._UZ(182,"br"),r._UZ(183,"br"),r.TgZ(184,"mat-radio-group",28),r.NdJ("ngModelChange",function(t){return e.limiteQualificacao=t}),r.TgZ(185,"mat-radio-button",11),r._uU(186,"Menos de 3 meses"),r.qZA(),r.TgZ(187,"mat-radio-button",12),r._uU(188,"Entre 3 e 6 meses"),r.qZA(),r.TgZ(189,"mat-radio-button",27),r._uU(190,"Mais de 6 meses"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(191,"div",23),r.TgZ(192,"mat-label"),r.TgZ(193,"div",10),r._uU(194,"10"),r.qZA(),r._uU(195," Se voc\xea j\xe1 fez sua qualifica\xe7\xe3o e foi aprovado, quanto tempo falta para o limite m\xe1ximo do dep\xf3sito da sua disserta\xe7\xe3o/tese? "),r.qZA(),r._UZ(196,"br"),r._UZ(197,"br"),r.TgZ(198,"mat-radio-group",28),r.NdJ("ngModelChange",function(t){return e.limiteDepositoDissertacao=t}),r.TgZ(199,"mat-radio-button",11),r._uU(200,"Menos de 3 meses"),r.qZA(),r.TgZ(201,"mat-radio-button",12),r._uU(202,"Entre 3 e 6 meses"),r.qZA(),r.TgZ(203,"mat-radio-button",27),r._uU(204,"Mais de 6 meses"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(205,"div",23),r.TgZ(206,"mat-label"),r.TgZ(207,"div",10),r._uU(208,"11"),r.qZA(),r._uU(209," Quantos artigos referentes a sua pesquisa de mestrado/doutorado voc\xea teve aceitos ou publicados? (Obs: Voc\xea deve inserir os artigos publicados no seu curr\xedculo Lattes) "),r.qZA(),r._UZ(210,"br"),r._UZ(211,"br"),r.TgZ(212,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.artigosPublicados=t}),r.TgZ(213,"mat-radio-button",11),r._uU(214,"0"),r.qZA(),r.TgZ(215,"mat-radio-button",12),r._uU(216,"1"),r.qZA(),r.TgZ(217,"mat-radio-button",27),r._uU(218,"2"),r.qZA(),r.TgZ(219,"mat-radio-button",29),r._uU(220,"Mais de 2"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(221,"div",23),r.TgZ(222,"mat-label"),r.TgZ(223,"div",10),r._uU(224,"12"),r.qZA(),r._uU(225," Quantos artigos voc\xea submeteu e ainda est\xe3o aguardando resposta? "),r.qZA(),r._UZ(226,"br"),r._UZ(227,"br"),r.TgZ(228,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.artigosAguardandoResposta=t}),r.TgZ(229,"mat-radio-button",11),r._uU(230,"0"),r.qZA(),r.TgZ(231,"mat-radio-button",12),r._uU(232,"1"),r.qZA(),r.TgZ(233,"mat-radio-button",27),r._uU(234,"2"),r.qZA(),r.TgZ(235,"mat-radio-button",29),r._uU(236,"Mais de 2"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(237,"div",23),r.TgZ(238,"mat-label"),r.TgZ(239,"div",10),r._uU(240,"13"),r.qZA(),r._uU(241," Voc\xea possui artigo em prepara\xe7\xe3o para submiss\xe3o? Qual o est\xe1gio dele? "),r.qZA(),r._UZ(242,"br"),r._UZ(243,"br"),r.TgZ(244,"mat-radio-group",9),r.NdJ("ngModelChange",function(t){return e.artigoPreparacao=t}),r.TgZ(245,"mat-radio-button",11),r._uU(246,"N\xe3o possuo"),r.qZA(),r.TgZ(247,"mat-radio-button",12),r._uU(248,"Experimentos em elabora\xe7\xe3o"),r.qZA(),r.TgZ(249,"mat-radio-button",27),r._uU(250,"Aguardando coleta de dados"),r.qZA(),r.TgZ(251,"mat-radio-button",29),r._uU(252,"Em fase de escrita"),r.qZA(),r.TgZ(253,"mat-radio-button",30),r._uU(254,"Em fase de tradu\xe7\xe3o"),r.qZA(),r.TgZ(255,"mat-radio-button",31),r._uU(256,"Preparando resposta para os revisores"),r.qZA(),r.qZA(),r.qZA(),r._UZ(257,"mat-divider"),r.TgZ(258,"div",23),r.TgZ(259,"mat-label"),r.TgZ(260,"div",10),r._uU(261,"14"),r.qZA(),r._uU(262," Qual o est\xe1gio atual de sua pesquisa? Apresente toda e qualquer atividade que j\xe1 tenha sido realizada no contexto de seu projeto de pesquisa (mesmo que ainda incompleta). Fa\xe7a uma descri\xe7\xe3o detalhada. "),r.qZA(),r._UZ(263,"br"),r._UZ(264,"br"),r.TgZ(265,"mat-form-field",32),r.NdJ("ngModelChange",function(t){return e.estagioPesquisa=t}),r.TgZ(266,"mat-label"),r._uU(267,"Descreva detalhadamente"),r.qZA(),r._UZ(268,"textarea",33),r.qZA(),r.qZA(),r.TgZ(269,"div",23),r.TgZ(270,"mat-label"),r.TgZ(271,"div",10),r._uU(272,"15"),r.qZA(),r._uU(273," Voc\xea participou de algum congressos no pa\xeds? Se sim, indicar local, se houve apresenta\xe7\xe3o de trabalho e se o congresso \xe9 ou n\xe3o internacional. "),r.qZA(),r._UZ(274,"br"),r._UZ(275,"br"),r.TgZ(276,"mat-form-field",32),r.NdJ("ngModelChange",function(t){return e.congressoPais=t}),r.TgZ(277,"mat-label"),r._uU(278,"Digite aqui"),r.qZA(),r._UZ(279,"textarea",33),r.qZA(),r.qZA(),r.TgZ(280,"div",23),r.TgZ(281,"mat-label"),r.TgZ(282,"div",10),r._uU(283,"16"),r.qZA(),r._uU(284," Voc\xea participou de algum congresso no exterior? Se sim, indicar local e se houve apresenta\xe7\xe3o de trabalho. "),r.qZA(),r._UZ(285,"br"),r._UZ(286,"br"),r.TgZ(287,"mat-form-field",32),r.NdJ("ngModelChange",function(t){return e.congressoExterior=t}),r.TgZ(288,"mat-label"),r._uU(289,"Digite aqui"),r.qZA(),r._UZ(290,"textarea",33),r.qZA(),r.qZA(),r.TgZ(291,"div",23),r.TgZ(292,"mat-label"),r.TgZ(293,"div",10),r._uU(294,"17"),r.qZA(),r._uU(295," Voc\xea realizou algum est\xe1gio de pesquisa ou visita de pesquisa no exterior (incluindo sandu\xedche)? Se sim, indique o nome da universidade e o per\xedodo. "),r.qZA(),r._UZ(296,"br"),r._UZ(297,"br"),r.TgZ(298,"mat-form-field",32),r.NdJ("ngModelChange",function(t){return e.visitaPesquisa=t}),r.TgZ(299,"mat-label"),r._uU(300,"Digite aqui"),r.qZA(),r._UZ(301,"textarea",33),r.qZA(),r.qZA(),r.TgZ(302,"div",23),r.TgZ(303,"mat-label"),r.TgZ(304,"div",10),r._uU(305,"18"),r.qZA(),r._uU(306," Voc\xea tem algo a mais a declarar para a CCP - PPgSI? "),r.qZA(),r._UZ(307,"br"),r._UZ(308,"br"),r.TgZ(309,"mat-form-field",32),r.NdJ("ngModelChange",function(t){return e.declaracaoExtra=t}),r.TgZ(310,"mat-label"),r._uU(311,"Digite aqui"),r.qZA(),r._UZ(312,"textarea",33),r.qZA(),r.qZA(),r.TgZ(313,"div",2),r.TgZ(314,"a",34),r._uU(315,"Cancelar"),r.qZA(),r.TgZ(316,"button",35),r.NdJ("click",function(){return e.submit()}),r._uU(317,"Salvar Relat\xf3rio"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(8),r.Oqu(e.displaySemester),r.xp6(5),r.Oqu(null==e.user||null==e.user.leader?null:e.user.leader.name),r.xp6(6),r.Q6J("value",(null==e.user?null:e.user.name)||"Carregando..."),r.xp6(4),r.Q6J("value",(null==e.user?null:e.user.email)||"Carregando..."),r.xp6(5),r.Q6J("value",r.xi3(29,38,e.currentDate,"dd/MM/y HH:mm")),r.xp6(5),r.Q6J("value",(null==e.user?null:e.user.lastResult)||"Carregando..."),r.xp6(5),r.Q6J("value",(null==e.user?null:e.user.uspNumber)||"Carregando..."),r.xp6(4),r.Q6J("value",(null==e.user?null:e.user.lattesLink)||"Carregando..."),r.xp6(2),r.Q6J("ngModel",e.curso),r.xp6(9),r.ekj("hide",!e.curso||2==e.curso),r.xp6(3),r.Q6J("ngModel",e.ultimoSemestreMestrado),r.xp6(11),r.ekj("hide",!e.curso||1==e.curso),r.xp6(3),r.Q6J("ngModel",e.ultimoSemestreDoutorado),r.xp6(24),r.Q6J("ngModel",e.disciplinasObrigatoriasAprovadas),r.xp6(10),r.Q6J("ngModel",e.disciplinasOptativasAprovadas),r.xp6(12),r.Q6J("ngModel",e.conceitosDivulgadosUltimoSemestre),r.xp6(12),r.Q6J("ngModel",e.reprovacoesTotais),r.xp6(14),r.Q6J("ngModel",e.reprovacoesUltimoSemestre),r.xp6(16),r.Q6J("ngModel",e.exameProficienciaIdiomas),r.xp6(12),r.Q6J("ngModel",e.exameQualificacao),r.xp6(9),r.ekj("disabled",!e.exameQualificacao||"1"==e.exameQualificacao),r.xp6(5),r.Q6J("ngModel",e.limiteQualificacao)("disabled",!e.exameQualificacao||"1"==e.exameQualificacao),r.xp6(9),r.ekj("disabled",!e.exameQualificacao||"1"!=e.exameQualificacao),r.xp6(5),r.Q6J("ngModel",e.limiteDepositoDissertacao)("disabled",!e.exameQualificacao||"1"!=e.exameQualificacao),r.xp6(14),r.Q6J("ngModel",e.artigosPublicados),r.xp6(16),r.Q6J("ngModel",e.artigosAguardandoResposta),r.xp6(16),r.Q6J("ngModel",e.artigoPreparacao),r.xp6(21),r.Q6J("ngModel",e.estagioPesquisa),r.xp6(11),r.Q6J("ngModel",e.congressoPais),r.xp6(11),r.Q6J("ngModel",e.congressoExterior),r.xp6(11),r.Q6J("ngModel",e.visitaPesquisa),r.xp6(11),r.Q6J("ngModel",e.declaracaoExtra))},directives:[gk,lk,zA,nI,Ik,Xk,IA,sI,kI,cE,II,_E,vE],pipes:[gt],styles:[".intro[_ngcontent-%COMP%]{padding:16px;position:relative;left:50%;transform:translateX(-50%)}.intro[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:0;border-collapse:collapse}.intro[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px;margin:0;border:1px solid var(--color-primary)}.intro[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){background:var(--color-primary);color:#fff}.form[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{min-width:200px;margin:0 8px}.input-long[_ngcontent-%COMP%]{width:250px}.row[_ngcontent-%COMP%]{display:flex;width:628px;padding:16px 0}.row.row--flexless[_ngcontent-%COMP%]{display:block}mat-radio-group[_ngcontent-%COMP%]{display:flex;margin-right:16px;flex-direction:column;justify-content:flex-start}mat-radio-button[_ngcontent-%COMP%]{margin:6px 16px}mat-divider[_ngcontent-%COMP%]{margin:4px 0 16px}.hide[_ngcontent-%COMP%]{display:none}.question-number[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;text-align:center;line-height:25px;height:25px;width:25px;background:var(--color-primary);color:#fff;font-size:.8em}.question-number.disabled[_ngcontent-%COMP%]{background:#00000061}"]}),t})(),RI=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),PI=(()=>{class t{constructor(t,e,n){this.auth=t,this.router=e,this.userDataService=n}isAlreadyLogged(){return null!=localStorage.getItem("user")}getLocalStorageUser(){const t=localStorage.getItem("user");return JSON.parse(atob(t))}ngOnInit(){if(this.isAlreadyLogged()){const t=this.getLocalStorageUser();this.userDataService.setUserData(t)}else this.router.navigateByUrl("/login")}getUserReports(){return this.userDataService.getUserData().reports}getUserData(){return this.userDataService.getUserData()}login(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(RI),r.Y36(Zi),r.Y36(Sb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"content"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"button",1),r.NdJ("click",function(){return e.login()}),r._uU(2,"Login"),r.qZA(),r.qZA())},directives:[vE],styles:[".content[_ngcontent-%COMP%]{padding:16px}"]}),t})();function NI(t,e){if(1&t&&(r.TgZ(0,"mat-error"),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Oqu(t.getErrorMessage())}}let FI=(()=>{class t{constructor(t,e,n,r){this.afStore=t,this.ngFireAuth=e,this.router=n,this.userDataService=r,this.email=new wA("",[Fk.required,Fk.email]),this.senha=new wA("",[Fk.required])}ngOnInit(){}getErrorMessage(){return this.email.hasError("required")?"Voc\xea deve inserir um e-mail valido":this.email.hasError("email")?"Not a valid email":""}logIn(){return this.ngFireAuth.signInWithEmailAndPassword(this.email.value,this.senha.value).then(t=>{console.log(t),localStorage.removeItem("user"),this.userDataService.setUserData(t),this.router.navigateByUrl("/relatorios/list")}).catch(()=>{alert("email ou senha invalidos")})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Cb),r.Y36(ab),r.Y36(Zi),r.Y36(Sb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"caixa"],[1,"tituloCaixa"],["appearance","standard",1,"formulario"],["matInput","","value","chinaglia.rafa@gmail.com","placeholder","endere\xe7o@dominio.com","required","",3,"formControl"],[4,"ngIf"],["type","password","value","123456","matInput","","placeholder","senha",3,"formControl"],["color","primary","mat-raised-button","",1,"acesso",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r._uU(2,"Login"),r.qZA(),r.TgZ(3,"p"),r.TgZ(4,"mat-form-field",2),r.TgZ(5,"mat-label"),r._uU(6,"e-mail"),r.qZA(),r._UZ(7,"input",3),r.YNc(8,NI,2,1,"mat-error",4),r.qZA(),r._UZ(9,"br"),r.TgZ(10,"mat-form-field",2),r.TgZ(11,"mat-label"),r._uU(12,"senha"),r.qZA(),r._UZ(13,"input",5),r.qZA(),r._UZ(14,"br"),r.TgZ(15,"button",6),r.NdJ("click",function(){return e.logIn()}),r._uU(16,"Acesssar"),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("formControl",e.email),r.xp6(1),r.Q6J("ngIf",e.email.invalid),r.xp6(5),r.Q6J("formControl",e.senha))},directives:[gk,lk,zA,Ik,MA,Xk,PA,ut,vE,ik],styles:[".caixa[_ngcontent-%COMP%]{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;box-shadow:0 0 5px #000;border-bottom-left-radius:15px;border-bottom-right-radius:15px;border-top-right-radius:15px;border-top-left-radius:15px;padding:1% 5% 3%}.formulario[_ngcontent-%COMP%]{width:250px}.tituloCaixa[_ngcontent-%COMP%]{text-align:center}.acesso[_ngcontent-%COMP%]{position:fixed;right:30px}"]}),t})();const LI=["*"],MI=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],qI=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],UI=LT(qT(class{})),ZI=qT(class{}),VI=new r.OlP("MatList"),jI=new r.OlP("MatNavList");let BI=(()=>{class t extends UI{constructor(){super(...arguments),this._stateChanges=new re.xQ}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[r._Bn([{provide:jI,useExisting:t}]),r.qOj,r.TTD],ngContentSelectors:LI,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),GI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),zI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})(),HI=(()=>{class t extends ZI{constructor(t,e,n,r){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new re.xQ,this._disabled=!1,this._isInteractiveList=!!(n||r&&"action-list"===r._getListType()),this._list=n||r;const i=this._getHostElement();"button"!==i.nodeName.toLowerCase()||i.hasAttribute("type")||i.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Ub(this._destroyed)).subscribe(()=>{e.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=xb(t)}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(Ne(t)).subscribe(({length:t})=>{BT(e,`${n}-2-line`,!1),BT(e,`${n}-3-line`,!1),BT(e,`${n}-multi-line`,!1),2===t||3===t?BT(e,`${n}-${t}-line`,!0):t>3&&BT(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.sBO),r.Y36(jI,8),r.Y36(VI,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,GI,5),r.Suo(n,zI,5),r.Suo(n,jT,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._avatar=t.first),r.iGM(t=r.CRH())&&(e._icon=t.first),r.iGM(t=r.CRH())&&(e._lines=t)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(t,e){2&t&&r.ekj("mat-list-item-disabled",e.disabled)("mat-list-item-avatar",e._avatar||e._icon)("mat-list-item-with-avatar",e._avatar||e._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[r.qOj],ngContentSelectors:qI,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,e){1&t&&(r.F$t(MI),r.TgZ(0,"div",0),r._UZ(1,"div",1),r.Hsn(2),r.TgZ(3,"div",2),r.Hsn(4,1),r.qZA(),r.Hsn(5,2),r.qZA()),2&t&&(r.xp6(1),r.Q6J("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()))},directives:[JT],encapsulation:2,changeDetection:0}),t})(),YI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[GT,XT,FT,eE,yt],GT,FT,eE,OI]}),t})();var QI=n(205),WI=n(8819);class $I{}class KI{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof KI?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new KI;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof KI?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class JI{encodeKey(t){return XI(t)}encodeValue(t){return XI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function XI(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function tO(t){return`${t}`}class eO{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new JI,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new eO({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(tO(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(tO(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class nO{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function rO(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function iO(t){return"undefined"!=typeof Blob&&t instanceof Blob}function oO(t){return"undefined"!=typeof FormData&&t instanceof FormData}class sO{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new KI),this.context||(this.context=new nO),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new eO,this.urlWithParams=e}serializeBody(){return null===this.body?null:rO(this.body)||iO(this.body)||oO(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof eO?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oO(this.body)?null:iO(this.body)?this.body.type||null:rO(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof eO?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let l=t.headers||this.headers,u=t.params||this.params;const c=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new sO(n,r,o,{params:u,headers:l,context:c,reportProgress:a,responseType:i,withCredentials:s})}}var aO=(()=>((aO=aO||{})[aO.Sent=0]="Sent",aO[aO.UploadProgress=1]="UploadProgress",aO[aO.ResponseHeader=2]="ResponseHeader",aO[aO.DownloadProgress=3]="DownloadProgress",aO[aO.Response=4]="Response",aO[aO.User=5]="User",aO))();class lO extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new KI,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=aO.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new lO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function uO(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let cO=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof sO)r=t;else{let i,o;i=n.headers instanceof KI?n.headers:new KI(n.headers),n.params&&(o=n.params instanceof eO?n.params:new eO({fromObject:n.params})),r=new sO(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,ne.of)(r).pipe(ze(t=>this.handler.handle(t)));if(t instanceof sO||"events"===n.observe)return i;const o=i.pipe(qe(t=>t instanceof lO));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,Te.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,Te.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,Te.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,Te.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new eO).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,uO(n,e))}post(t,e,n={}){return this.request("POST",t,uO(n,e))}put(t,e,n={}){return this.request("PUT",t,uO(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($I))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const hO=["*"];function dO(t){return Error(`Unable to find icon with the name "${t}"`)}function pO(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function fO(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class mO{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let gO=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new mO(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.q3G.HTML,n);if(!o)throw fO(n);return this._addSvgIconConfig(t,e,new mO("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new mO(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.q3G.HTML,e);if(!i)throw fO(e);return this._addSvgIconSetConfig(t,new mO("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t);if(!e)throw pO(t);const n=this._cachedIconsByUrl.get(e);return n?(0,ne.of)(yO(n)):this._loadSvgIconFromConfig(new mO(t,null)).pipe((0,on.b)(t=>this._cachedIconsByUrl.set(e,t)),(0,Te.U)(t=>yO(t)))}getNamedSvgIcon(t,e=""){const n=vO(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):(0,QI._)(dO(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?(0,ne.of)(yO(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,Te.U)(t=>yO(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?(0,ne.of)(n):Ck(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Ve(e=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),(0,ne.of)(null)})))).pipe((0,Te.U)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw dO(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,on.b)(e=>t.svgText=e),(0,Te.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?(0,ne.of)(null):this._fetchIcon(t).pipe((0,on.b)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!s)throw pO(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(ln(()=>this._inProgressUrlFetches.delete(s)),(0,WI.B)());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(vO(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new mO(i.url,null,i.options):new mO(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(cO,8),r.LFG(Wt),r.LFG(s,8),r.LFG(r.qLn))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(cO,8),r.LFG(Wt),r.LFG(s,8),r.LFG(r.qLn))},token:t,providedIn:"root"}),t})();function yO(t){return t.cloneNode(!0)}function vO(t,e){return t+":"+e}const _O=MT(class{constructor(t){this._elementRef=t}}),bO=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const t=(0,r.f3M)(s),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),wO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],CO=wO.map(t=>`[${t}]`).join(", "),SO=/^url\(['"]?#(.*?)['"]?\)$/;let xO=(()=>{class t extends _O{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=an.w.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=xb(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(CO),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)wO.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(SO):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(De(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(gO),r.$8M("aria-hidden"),r.Y36(bO),r.Y36(r.qLn))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.uIk("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.ekj("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:hO,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),TO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[FT],FT]}),t})();function EO(t,e){1&t&&(r.TgZ(0,"mat-icon",12),r._uU(1,"grading"),r.qZA())}function kO(t,e){1&t&&(r.TgZ(0,"mat-icon",12),r._uU(1,"reply"),r.qZA())}function AO(t,e){1&t&&(r.TgZ(0,"mat-icon",13),r._uU(1,"check_circle"),r.qZA())}function IO(t,e){if(1&t&&(r.TgZ(0,"div",9),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit,e=r.oxw();r.xp6(1),r.hij(" ",e.isLeader?null==t.student?null:t.student.name:""," ")}}function OO(t,e){if(1&t&&(r.TgZ(0,"span",14),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.hij(" ",t.parecerCPPAvaliacao||t.parecerOrientadorAvaliacao," ")}}function DO(t,e){if(1&t&&(r.TgZ(0,"a",5),r.YNc(1,EO,2,0,"mat-icon",6),r.YNc(2,kO,2,0,"mat-icon",6),r.YNc(3,AO,2,0,"mat-icon",7),r.YNc(4,IO,2,1,"div",8),r.TgZ(5,"div",9),r._uU(6),r.YNc(7,OO,2,1,"span",10),r.qZA(),r.TgZ(8,"div",11),r._uU(9),r.qZA(),r.TgZ(10,"div"),r._uU(11),r.ALo(12,"date"),r.qZA(),r.qZA()),2&t){const t=e.$implicit,n=r.oxw();r.Q6J("routerLink","/relatorios/view/"+t.uid),r.xp6(1),r.Q6J("ngIf","Enviado"==t.status),r.xp6(1),r.Q6J("ngIf","Respondido pelo orientador"==t.status),r.xp6(1),r.Q6J("ngIf","Avaliado pela CCP"==t.status),r.xp6(1),r.Q6J("ngIf",n.isLeader),r.xp6(2),r.hij(" Relat\xf3rio ",t.semester," "),r.xp6(1),r.Q6J("ngIf",t.parecerCPPAvaliacao||t.parecerOrientadorAvaliacao),r.xp6(2),r.hij(" ",t.status," "),r.xp6(2),r.hij(" ",r.xi3(12,9,t.updated,"dd/MM/y HH:mm")," ")}}function RO(t,e){1&t&&(r.TgZ(0,"button",15),r.TgZ(1,"mat-icon"),r._uU(2,"add"),r.qZA(),r.qZA()),2&t&&r.Q6J("routerLink","/new-report")}let PO=(()=>{class t{constructor(t){this.userDataService=t,this.reports=[],this.isLeader=!1}ngOnInit(){}ngAfterViewInit(){this.userDataService.userDataObservable.subscribe(t=>{this.isLeader="leader"==t.type,console.log("List of reports:",t.reports),this.reports=t.reports})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Sb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-list"]],decls:7,vars:2,consts:[[1,"content"],[1,"list-container"],[1,"subheader"],["mat-list-item","",3,"routerLink",4,"ngFor","ngForOf"],["mat-fab","","class","fab-button","aria-label","Adicionar novo relat\xf3rio","color","primary",3,"routerLink",4,"ngIf"],["mat-list-item","",3,"routerLink"],["mat-list-icon","",4,"ngIf"],["mat-list-icon","","class","done",4,"ngIf"],["mat-line","",4,"ngIf"],["mat-line",""],["class","data",4,"ngIf"],["mat-line","",1,"sub-line"],["mat-list-icon",""],["mat-list-icon","",1,"done"],[1,"data"],["mat-fab","","aria-label","Adicionar novo relat\xf3rio","color","primary",1,"fab-button",3,"routerLink"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"mat-label",2),r._uU(3,"Meus relat\xf3rios"),r.qZA(),r.TgZ(4,"mat-nav-list"),r.YNc(5,DO,13,12,"a",3),r.qZA(),r.YNc(6,RO,3,1,"button",4),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("ngForOf",e.reports),r.xp6(1),r.Q6J("ngIf",!e.isLeader))},directives:[lk,BI,at,ut,HI,ji,jT,xO,zI,vE,Vi],pipes:[gt],styles:[".content[_ngcontent-%COMP%]{background:var(--color-primary);height:calc(100vh - 64px);display:flex;flex-direction:column}@media only screen and (max-width: 600px){.content[_ngcontent-%COMP%]{height:calc(100vh - 56px)}}.list-container[_ngcontent-%COMP%]{background:#fff;height:100%;border-top-left-radius:16px;border-top-right-radius:16px;overflow:hidden}.list-container[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{height:100%;overflow:auto;max-width:600px}.data[_ngcontent-%COMP%]{font-size:.8em;border-radius:10px;padding:3px 10px;background:#c8c8c8e6;display:inline-block;text-transform:uppercase}.list-container[_ngcontent-%COMP%]   .subheader[_ngcontent-%COMP%]{font-size:1.2em;padding:16px 16px 6px;display:block}.done[_ngcontent-%COMP%]{color:#00c853}.sub-line[_ngcontent-%COMP%]{opacity:.5}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px}"]}),t})();function NO(t,e){}class FO{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const LO={dialogContainer:jC("dialogContainer",[HC("void, exit",zC({opacity:0,transform:"scale(0.7)"})),HC("enter",zC({transform:"none"})),YC("* => enter",BC("150ms cubic-bezier(0, 0, 0.2, 1)",zC({transform:"none",opacity:1}))),YC("* => void, * => exit",BC("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",zC({opacity:0})))])};let MO=(()=>{class t extends yw{constructor(t,e,n,i,o,s){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=o,this._focusMonitor=s,this._animationStateChanged=new r.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=o.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=ew(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=ew())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=ew();return t===e||t.contains(e)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(CC),r.Y36(r.sBO),r.Y36(s,8),r.Y36(FO),r.Y36(NC))},t.\u0275dir=r.lG2({type:t,viewQuery:function(t,e){if(1&t&&r.Gf(_w,7),2&t){let t;r.iGM(t=r.CRH())&&(e._portalOutlet=t.first)}},features:[r.qOj]}),t})(),qO=(()=>{class t extends MO{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.WFA("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Ikx("id",e._id),r.uIk("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.d8E("@dialogContainer",e._state))},features:[r.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.YNc(0,NO,0,0,"ng-template",0)},directives:[_w],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[LO.dialogContainer]}}),t})(),UO=0;class ZO{constructor(t,e,n="mat-dialog-"+UO++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new re.xQ,this._afterClosed=new re.xQ,this._beforeClosed=new re.xQ,this._state=0,e._id=n,e._animationStateChanged.pipe(qe(t=>"opened"===t.state),De(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(qe(t=>"closed"===t.state),De(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(qe(t=>27===t.keyCode&&!this.disableClose&&!Sw(t))).subscribe(t=>{t.preventDefault(),VO(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():VO(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(qe(t=>"closing"===t.state),De(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function VO(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const jO=new r.OlP("MatDialogData"),BO=new r.OlP("mat-dialog-default-options"),GO=new r.OlP("mat-dialog-scroll-strategy"),zO={provide:GO,deps:[Xw],useFactory:function(t){return()=>t.scrollStrategies.block()}};let HO=(()=>{class t{constructor(t,e,n,r,i,o,s,a,l){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=s,this._dialogContainerType=a,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new re.xQ,this._afterOpenedAtThisLevel=new re.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=Se(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ne(void 0))),this._scrollStrategy=o}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new FO)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new Rw({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:FO,useValue:e}]}),i=new fw(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const o=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.Rgc)e.attachTemplatePortal(new mw(t,null,{$implicit:i.data,dialogRef:o}));else{const n=this._createInjector(i,o,e),r=e.attachComponentPortal(new fw(t,i.viewContainerRef,n));o.componentInstance=r.instance}return o.updateSize(i.width,i.height).updatePosition(i.position),o}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,o=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(iw,null,r.XFs.Optional)||o.push({provide:iw,useValue:{value:t.direction,change:(0,ne.of)()}}),r.zs3.create({parent:i||this._injector,providers:o})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Xw),r.Y36(r.zs3),r.Y36(void 0),r.Y36(void 0),r.Y36(Zw),r.Y36(void 0),r.Y36(r.DyG),r.Y36(r.DyG),r.Y36(r.OlP))},t.\u0275dir=r.lG2({type:t}),t})(),YO=(()=>{class t extends HO{constructor(t,e,n,r,i,o,s){super(t,e,r,o,s,i,ZO,qO,jO)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Xw),r.LFG(r.zs3),r.LFG(w,8),r.LFG(BO,8),r.LFG(GO),r.LFG(t,12),r.LFG(Zw))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),QO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[YO,zO],imports:[[oC,bw,FT],FT]}),t})();function WO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",47),r.NdJ("click",function(){return r.CHM(t),r.oxw().parecer=!0}),r.TgZ(1,"mat-icon"),r._uU(2,"rate_review"),r.qZA(),r._uU(3," Redigir Parecer"),r.qZA()}}function $O(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",48),r.NdJ("click",function(){return r.CHM(t),r.oxw().parecer=!1}),r.TgZ(1,"mat-icon"),r._uU(2,"close"),r.qZA(),r._uU(3," Cancelar"),r.qZA()}}function KO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",47),r.NdJ("click",function(){return r.CHM(t),r.oxw().parecer=!0}),r.TgZ(1,"mat-icon"),r._uU(2,"rate_review"),r.qZA(),r._uU(3," Redigir Parecer Final"),r.qZA()}}function JO(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",48),r.NdJ("click",function(){return r.CHM(t),r.oxw().parecer=!1}),r.TgZ(1,"mat-icon"),r._uU(2,"close"),r.qZA(),r._uU(3," Cancelar"),r.qZA()}}function XO(t,e){if(1&t&&(r.TgZ(0,"div",49),r.TgZ(1,"p"),r.TgZ(2,"mat-icon",50),r._uU(3,"rate_review"),r.qZA(),r.TgZ(4,"strong"),r._uU(5,"AVALIA\xc7\xc3O DO ORIENTADOR"),r.qZA(),r.qZA(),r.TgZ(6,"p"),r._uU(7,"Resultado: "),r.TgZ(8,"strong",51),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"p",52),r._uU(11),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(9),r.Oqu(null==t.report?null:t.report.parecerOrientadorAvaliacao),r.xp6(2),r.hij(" ",null==t.report?null:t.report.parecerOrientador," ")}}function tD(t,e){1&t&&(r.TgZ(0,"button",53),r.TgZ(1,"mat-icon"),r._uU(2,"rate_review"),r.qZA(),r._uU(3," Redigir Parecer"),r.qZA())}const eD=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:FI},{path:"home",component:PI},{path:"about",component:co},{path:"relatorios/list",component:PO},{path:"relatorios/view/:id",component:(()=>{class t{constructor(t,e,n,r,i){this.userDataService=t,this.activatedRoute=e,this.route=n,this.db=r,this.dialog=i,this.curso="",this.ultimoSemestreMestrado="",this.ultimoSemestreDoutorado="",this.disciplinasObrigatoriasAprovadas="",this.disciplinasOptativasAprovadas="",this.conceitosDivulgadosUltimoSemestre="",this.reprovacoesTotais="",this.reprovacoesUltimoSemestre="",this.exameProficienciaIdiomas="",this.exameQualificacao="",this.limiteQualificacao="",this.limiteDepositoDissertacao="",this.artigosPublicados="",this.artigosAguardandoResposta="",this.artigoPreparacao="",this.estagioPesquisa="",this.congressoPais="",this.congressoExterior="",this.visitaPesquisa="",this.declaracaoExtra="",this.report=null,this.parecer=!1,this.parecerText="",this.parecerAvaliacao="",this.uid="",this.isCCP=!1}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{this.uid=t.get("id")})}sendParecerOrientador(){console.log("Texto a ser salvo:",this.parecerText),console.log("Id do relat\xf3rio:",this.uid),console.log("Avalia\xe7\xe3o foi:",this.parecerAvaliacao),this.report.parecerOrientador=this.parecerText,this.report.parecerOrientadorAvaliacao=this.parecerAvaliacao,this.parecer=!1,""!=this.uid&&""!=this.parecerText&&""!=this.parecerAvaliacao&&this.db.collection("reports").doc(this.uid).update({parecerOrientador:this.parecerText,parecerOrientadorAvaliacao:this.parecerAvaliacao,status:"Respondido pelo orientador"})}authorize(t){return console.log("authorizing student:",t.studentOwnerCode,this.userDataService.getUserUID()),console.log("authorizing professor:",t.leaderCode,this.userDataService.getUserUID()),"CCP"==this.userDataService.getUserData().type||!![t.leaderCode,t.studentOwnerCode].includes(this.userDataService.getUserUID())}ngAfterViewInit(){this.userDataService.userDataObservable.subscribe(t=>{console.log("datadatadatadatadata",t),"CCP"==t.type&&(this.isCCP=!0),t.reports&&setTimeout(()=>{const e=t.reports.filter(t=>t.uid==this.uid);0!=e.length&&(this.report=e[0],this.authorize(this.report)||(alert("Voc\xea n\xe3o tem permiss\xe3o para ver este relat\xf3rio!"),this.route.navigateByUrl("list")),this.curso=this.report.courseLevel,this.ultimoSemestreMestrado=this.report.answers.ultimoSemestreMestrado,this.ultimoSemestreDoutorado=this.report.answers.ultimoSemestreDoutorado,this.disciplinasObrigatoriasAprovadas=this.report.answers.disciplinasObrigatoriasAprovadas,this.disciplinasOptativasAprovadas=this.report.answers.disciplinasOptativasAprovadas,this.conceitosDivulgadosUltimoSemestre=this.report.answers.conceitosDivulgadosUltimoSemestre,this.reprovacoesTotais=this.report.answers.reprovacoesTotais,this.reprovacoesUltimoSemestre=this.report.answers.reprovacoesUltimoSemestre,this.exameProficienciaIdiomas=this.report.answers.exameProficienciaIdiomas,this.exameQualificacao=this.report.answers.exameQualificacao,this.limiteQualificacao=this.report.answers.limiteQualificacao,this.limiteDepositoDissertacao=this.report.answers.limiteDepositoDissertacao,this.artigosPublicados=this.report.answers.artigosPublicados,this.artigosAguardandoResposta=this.report.answers.artigosAguardandoResposta,this.artigoPreparacao=this.report.answers.artigoPreparacao,this.estagioPesquisa=this.report.answers.estagioPesquisa,this.congressoPais=this.report.answers.congressoPais,this.congressoExterior=this.report.answers.congressoExterior,this.visitaPesquisa=this.report.answers.visitaPesquisa,this.declaracaoExtra=this.report.answers.declaracaoExtra,console.log("Reports:",t.reports),console.log("Report:",this.report))},1e3)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Sb),r.Y36(vr),r.Y36(Zi),r.Y36(Cb),r.Y36(YO))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-view"]],decls:341,vars:57,consts:[["mat-stroked-button","","href","/relatorios/list",1,"back-button"],[1,"intro"],["color","accent","mat-raised-button","",3,"click",4,"ngIf"],["color","warn","mat-raised-button","",3,"click",4,"ngIf"],["class","parecerOrientador",4,"ngIf"],[1,"closed"],["appearance","standard",1,"input","input--textarea"],["matInput","","placeholder","Digite aqui...","rows","7",3,"ngModel","ngModelChange"],["ngDefaultControl","","appearance","standard",2,"margin","0 12px"],[3,"ngModel","ngModelChange"],["value","Adequado"],["value","Adequado com ressalvas"],["value","Insatisfat\xf3rio"],["mat-stroked-button","","color","primary",3,"disabled","click"],[1,"form"],[1,"row"],["appearance","standard",1,"input"],["matInput","","disabled","",3,"value"],["appearance","standard",1,"input-long"],["matInput","","disabled","","placeholder","Digite apenas os n\xfameros.",3,"value"],["matInput","","disabled","","placeholder","https://...",3,"value"],[1,"row",2,"height","81px"],["disabled","","ngDefaultControl","","aria-label","Selecione uma op\xe7\xe3o",3,"ngModel","ngModelChange"],[1,"question-number"],["color","primary","value","1"],["color","primary","value","2"],["ngDefaultControl","","appearance","standard",1,"input-long"],["disabled","",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","8"],[1,"row","row--flexless"],["ngDefaultControl","","appearance","standard",1,"input",3,"ngModel","ngModelChange"],["disabled","","matInput","","placeholder","Apenas n\xfameros",3,"value"],["color","primary","value","0"],["color","primary","value","3"],["color","primary","value","4"],["color","primary","value","5"],["color","primary","value","6"],["ngDefaultControl","","appearance","standard",1,"input-long",3,"ngModel","ngModelChange"],["disabled","","matInput","","placeholder","Digite aqui.",3,"value"],["color","accent","mat-raised-button","",4,"ngIf"],["color","accent","mat-raised-button","",3,"click"],["color","warn","mat-raised-button","",3,"click"],[1,"parecerOrientador"],[1,"icon-pos-fix"],[2,"text-transform","uppercase"],[2,"text-align","justify"],["color","accent","mat-raised-button",""]],template:function(t,e){1&t&&(r.TgZ(0,"a",0),r.TgZ(1,"mat-icon"),r._uU(2,"arrow_back"),r.qZA(),r._uU(3," Voltar"),r.qZA(),r.TgZ(4,"div",1),r.TgZ(5,"table"),r.TgZ(6,"tr"),r.TgZ(7,"td"),r._uU(8,"Semestre"),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r._UZ(11,"td"),r.qZA(),r.TgZ(12,"tr"),r.TgZ(13,"td"),r._uU(14,"Orientador"),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r.YNc(18,WO,4,0,"button",2),r.YNc(19,$O,4,0,"button",3),r.YNc(20,KO,4,0,"button",2),r.YNc(21,JO,4,0,"button",3),r.qZA(),r.qZA(),r.qZA(),r.YNc(22,XO,12,2,"div",4),r.TgZ(23,"div",5),r.TgZ(24,"mat-form-field",6),r.TgZ(25,"mat-label"),r._uU(26,"Digite aqui o seu parecer como ORIENTADOR"),r.qZA(),r.TgZ(27,"textarea",7),r.NdJ("ngModelChange",function(t){return e.parecerText=t}),r.qZA(),r.qZA(),r.TgZ(28,"mat-form-field",8),r.TgZ(29,"mat-label"),r._uU(30,"Avalia\xe7\xe3o do docente"),r.qZA(),r.TgZ(31,"mat-select",9),r.NdJ("ngModelChange",function(t){return e.parecerAvaliacao=t}),r.TgZ(32,"mat-option",10),r._uU(33,"Adequado"),r.qZA(),r.TgZ(34,"mat-option",11),r._uU(35,"Adequado com ressalvas"),r.qZA(),r.TgZ(36,"mat-option",12),r._uU(37,"Insatisfat\xf3rio"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"button",13),r.NdJ("click",function(){return e.sendParecerOrientador()}),r._uU(39,"Enviar parecer"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(40,"div",14),r.TgZ(41,"div",15),r.TgZ(42,"mat-form-field",16),r.TgZ(43,"mat-label"),r._uU(44,"Nome do aluno"),r.qZA(),r._UZ(45,"input",17),r.qZA(),r.TgZ(46,"mat-form-field",16),r.TgZ(47,"mat-label"),r._uU(48,"E-mail"),r.qZA(),r._UZ(49,"input",17),r.qZA(),r.qZA(),r.TgZ(50,"div",15),r.TgZ(51,"mat-form-field",16),r.TgZ(52,"mat-label"),r._uU(53,"\xdaltima atualiza\xe7\xe3o"),r.qZA(),r._UZ(54,"input",17),r.ALo(55,"date"),r.qZA(),r.TgZ(56,"mat-form-field",18),r.TgZ(57,"mat-label"),r._uU(58,"Resultado da avalia\xe7\xe3o do \xfaltimo relat\xf3rio"),r.qZA(),r._UZ(59,"input",17),r.qZA(),r.qZA(),r.TgZ(60,"div",15),r.TgZ(61,"mat-form-field",16),r.TgZ(62,"mat-label"),r._uU(63,"N\xfamero USP"),r.qZA(),r._UZ(64,"input",19),r.qZA(),r.TgZ(65,"mat-form-field",18),r.TgZ(66,"mat-label"),r._uU(67,"Link do Curriculum Lattes"),r.qZA(),r._UZ(68,"input",20),r.qZA(),r.qZA(),r.TgZ(69,"div",21),r.TgZ(70,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.curso=t}),r.TgZ(71,"mat-label"),r.TgZ(72,"div",23),r._uU(73,"1"),r.qZA(),r._uU(74," Selecione o curso: "),r.qZA(),r.TgZ(75,"mat-radio-button",24),r._uU(76,"Mestrado"),r.qZA(),r.TgZ(77,"mat-radio-button",25),r._uU(78,"Doutorado"),r.qZA(),r.qZA(),r.TgZ(79,"mat-form-field",26),r.TgZ(80,"mat-label"),r._uU(81,"\xdaltimo semestre conclu\xeddo do Mestrado"),r.qZA(),r.TgZ(82,"mat-select",27),r.NdJ("ngModelChange",function(t){return e.ultimoSemestreMestrado=t}),r.TgZ(83,"mat-option",28),r._uU(84,"1\xba semestre"),r.qZA(),r.TgZ(85,"mat-option",29),r._uU(86,"2\xba semestre"),r.qZA(),r.TgZ(87,"mat-option",30),r._uU(88,"3\xba semestre"),r.qZA(),r.TgZ(89,"mat-option",31),r._uU(90,"4\xba semestre"),r.qZA(),r.TgZ(91,"mat-option",32),r._uU(92,"5\xba semestre"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(93,"mat-form-field",26),r.TgZ(94,"mat-label"),r._uU(95,"\xdaltimo semestre conclu\xeddo do Doutorado"),r.qZA(),r.TgZ(96,"mat-select",27),r.NdJ("ngModelChange",function(t){return e.ultimoSemestreDoutorado=t}),r.TgZ(97,"mat-option",28),r._uU(98,"1\xba semestre"),r.qZA(),r.TgZ(99,"mat-option",29),r._uU(100,"2\xba semestre"),r.qZA(),r.TgZ(101,"mat-option",30),r._uU(102,"3\xba semestre"),r.qZA(),r.TgZ(103,"mat-option",31),r._uU(104,"4\xba semestre"),r.qZA(),r.TgZ(105,"mat-option",32),r._uU(106,"5\xba semestre"),r.qZA(),r.TgZ(107,"mat-option",33),r._uU(108,"6\xba semestre"),r.qZA(),r.TgZ(109,"mat-option",34),r._uU(110,"7\xba semestre"),r.qZA(),r.TgZ(111,"mat-option",35),r._uU(112,"8\xba semestre"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(113,"mat-divider"),r.TgZ(114,"div",36),r.TgZ(115,"mat-label"),r.TgZ(116,"div",23),r._uU(117,"2"),r.qZA(),r._uU(118," Em quantas disciplinas obrigat\xf3rias voc\xea ja obteve aprova\xe7\xe3o?"),r.qZA(),r._UZ(119,"br"),r.TgZ(120,"mat-form-field",37),r.NdJ("ngModelChange",function(t){return e.disciplinasObrigatoriasAprovadas=t}),r.TgZ(121,"mat-label"),r._uU(122,"N\xfamero de disciplinas"),r.qZA(),r._UZ(123,"input",38),r.qZA(),r.qZA(),r.TgZ(124,"div",36),r.TgZ(125,"mat-label"),r.TgZ(126,"div",23),r._uU(127,"3"),r.qZA(),r._uU(128," Em quantas disciplinas optativas voc\xea ja obteve aprova\xe7\xe3o?"),r.qZA(),r._UZ(129,"br"),r.TgZ(130,"mat-form-field",37),r.NdJ("ngModelChange",function(t){return e.disciplinasOptativasAprovadas=t}),r.TgZ(131,"mat-label"),r._uU(132,"N\xfamero de disciplinas"),r.qZA(),r._UZ(133,"input",38),r.qZA(),r.qZA(),r._UZ(134,"mat-divider"),r.TgZ(135,"div",36),r.TgZ(136,"mat-label"),r.TgZ(137,"div",23),r._uU(138,"4"),r.qZA(),r._uU(139," Todos os conceitos em disciplinas cursadas no \xfaltimo semestre j\xe1 foram divulgados? Caso n\xe3o, espere at\xe9 2 dias antes da data m\xe1xima definida no site do PPgSI para enviar o seu relat\xf3rio. "),r.qZA(),r._UZ(140,"br"),r._UZ(141,"br"),r.TgZ(142,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.conceitosDivulgadosUltimoSemestre=t}),r.TgZ(143,"mat-radio-button",24),r._uU(144,"Sim"),r.qZA(),r.TgZ(145,"mat-radio-button",25),r._uU(146,"N\xe3o"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(147,"div",36),r.TgZ(148,"mat-label"),r.TgZ(149,"div",23),r._uU(150,"5"),r.qZA(),r._uU(151," Em quantas disciplinas voc\xea foi reprovado desde o in\xedcio do mestrado/doutorado?"),r.qZA(),r._UZ(152,"br"),r._UZ(153,"br"),r.TgZ(154,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.reprovacoesTotais=t}),r.TgZ(155,"mat-radio-button",39),r._uU(156,"0"),r.qZA(),r.TgZ(157,"mat-radio-button",24),r._uU(158,"1"),r.qZA(),r.TgZ(159,"mat-radio-button",25),r._uU(160,"2"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(161,"div",36),r.TgZ(162,"mat-label"),r.TgZ(163,"div",23),r._uU(164,"6"),r.qZA(),r._uU(165," Em quantas disciplinas voc\xea foi reprovado no \xfaltimo semestre?"),r.qZA(),r._UZ(166,"br"),r._UZ(167,"br"),r.TgZ(168,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.reprovacoesUltimoSemestre=t}),r.TgZ(169,"mat-radio-button",39),r._uU(170,"0"),r.qZA(),r.TgZ(171,"mat-radio-button",24),r._uU(172,"1"),r.qZA(),r.TgZ(173,"mat-radio-button",25),r._uU(174,"2"),r.qZA(),r.TgZ(175,"mat-radio-button",40),r._uU(176,"Terminei as disciplinas"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(177,"div",36),r.TgZ(178,"mat-label"),r.TgZ(179,"div",23),r._uU(180,"7"),r.qZA(),r._uU(181," Voc\xea j\xe1 foi aprovado no exame de profici\xeancia em idiomas?"),r.qZA(),r._UZ(182,"br"),r._UZ(183,"br"),r.TgZ(184,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.exameProficienciaIdiomas=t}),r.TgZ(185,"mat-radio-button",24),r._uU(186,"Sim"),r.qZA(),r.TgZ(187,"mat-radio-button",39),r._uU(188,"N\xe3o"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(189,"div",36),r.TgZ(190,"mat-label"),r.TgZ(191,"div",23),r._uU(192,"8"),r.qZA(),r._uU(193," Voc\xea j\xe1 realizou o exame de qualifica\xe7\xe3o?"),r.qZA(),r._UZ(194,"br"),r._UZ(195,"br"),r.TgZ(196,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.exameQualificacao=t}),r.TgZ(197,"mat-radio-button",24),r._uU(198,"Sim. Fui aprovado."),r.qZA(),r.TgZ(199,"mat-radio-button",25),r._uU(200,"Sim. Fui reprovado."),r.qZA(),r.TgZ(201,"mat-radio-button",40),r._uU(202,"N\xe3o."),r.qZA(),r.qZA(),r.qZA(),r.TgZ(203,"div",36),r.TgZ(204,"mat-label"),r.TgZ(205,"div",23),r._uU(206,"9"),r.qZA(),r._uU(207," Se n\xe3o qualificou, quanto tempo falta para o limite m\xe1ximo de qualifica\xe7\xe3o?"),r.qZA(),r._UZ(208,"br"),r._UZ(209,"br"),r.TgZ(210,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.limiteQualificacao=t}),r.TgZ(211,"mat-radio-button",24),r._uU(212,"Menos de 3 meses"),r.qZA(),r.TgZ(213,"mat-radio-button",25),r._uU(214,"Entre 3 e 6 meses"),r.qZA(),r.TgZ(215,"mat-radio-button",40),r._uU(216,"Mais de 6 meses"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(217,"div",36),r.TgZ(218,"mat-label"),r.TgZ(219,"div",23),r._uU(220,"10"),r.qZA(),r._uU(221," Se voc\xea j\xe1 fez sua qualifica\xe7\xe3o e foi aprovado, quanto tempo falta para o limite m\xe1ximo do dep\xf3sito da sua disserta\xe7\xe3o/tese? "),r.qZA(),r._UZ(222,"br"),r._UZ(223,"br"),r.TgZ(224,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.limiteDepositoDissertacao=t}),r.TgZ(225,"mat-radio-button",24),r._uU(226,"Menos de 3 meses"),r.qZA(),r.TgZ(227,"mat-radio-button",25),r._uU(228,"Entre 3 e 6 meses"),r.qZA(),r.TgZ(229,"mat-radio-button",40),r._uU(230,"Mais de 6 meses"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(231,"div",36),r.TgZ(232,"mat-label"),r.TgZ(233,"div",23),r._uU(234,"11"),r.qZA(),r._uU(235," Quantos artigos referentes a sua pesquisa de mestrado/doutorado voc\xea teve aceitos ou publicados? (Obs: Voc\xea deve inserir os artigos publicados no seu curr\xedculo Lattes) "),r.qZA(),r._UZ(236,"br"),r._UZ(237,"br"),r.TgZ(238,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.artigosPublicados=t}),r.TgZ(239,"mat-radio-button",24),r._uU(240,"0"),r.qZA(),r.TgZ(241,"mat-radio-button",25),r._uU(242,"1"),r.qZA(),r.TgZ(243,"mat-radio-button",40),r._uU(244,"2"),r.qZA(),r.TgZ(245,"mat-radio-button",41),r._uU(246,"Mais de 2"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(247,"div",36),r.TgZ(248,"mat-label"),r.TgZ(249,"div",23),r._uU(250,"12"),r.qZA(),r._uU(251," Quantos artigos voc\xea submeteu e ainda est\xe3o aguardando resposta? "),r.qZA(),r._UZ(252,"br"),r._UZ(253,"br"),r.TgZ(254,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.artigosAguardandoResposta=t}),r.TgZ(255,"mat-radio-button",24),r._uU(256,"0"),r.qZA(),r.TgZ(257,"mat-radio-button",25),r._uU(258,"1"),r.qZA(),r.TgZ(259,"mat-radio-button",40),r._uU(260,"2"),r.qZA(),r.TgZ(261,"mat-radio-button",41),r._uU(262,"Mais de 2"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(263,"div",36),r.TgZ(264,"mat-label"),r.TgZ(265,"div",23),r._uU(266,"13"),r.qZA(),r._uU(267," Voc\xea possui artigo em prepara\xe7\xe3o para submiss\xe3o? Qual o est\xe1gio dele? "),r.qZA(),r._UZ(268,"br"),r._UZ(269,"br"),r.TgZ(270,"mat-radio-group",22),r.NdJ("ngModelChange",function(t){return e.artigoPreparacao=t}),r.TgZ(271,"mat-radio-button",24),r._uU(272,"N\xe3o possuo"),r.qZA(),r.TgZ(273,"mat-radio-button",25),r._uU(274,"Experimentos em elabora\xe7\xe3o"),r.qZA(),r.TgZ(275,"mat-radio-button",40),r._uU(276,"Aguardando coleta de dados"),r.qZA(),r.TgZ(277,"mat-radio-button",41),r._uU(278,"Em fase de escrita"),r.qZA(),r.TgZ(279,"mat-radio-button",42),r._uU(280,"Em fase de tradu\xe7\xe3o"),r.qZA(),r.TgZ(281,"mat-radio-button",43),r._uU(282,"Preparando resposta para os revisores"),r.qZA(),r.qZA(),r.qZA(),r._UZ(283,"mat-divider"),r.TgZ(284,"div",36),r.TgZ(285,"mat-label"),r.TgZ(286,"div",23),r._uU(287,"14"),r.qZA(),r._uU(288," Qual o est\xe1gio atual de sua pesquisa? Apresente toda e qualquer atividade que j\xe1 tenha sido realizada no contexto de seu projeto de pesquisa (mesmo que ainda incompleta). Fa\xe7a uma descri\xe7\xe3o detalhada. "),r.qZA(),r._UZ(289,"br"),r._UZ(290,"br"),r.TgZ(291,"mat-form-field",44),r.NdJ("ngModelChange",function(t){return e.estagioPesquisa=t}),r.TgZ(292,"mat-label"),r._uU(293,"Descreva detalhadamente"),r.qZA(),r._UZ(294,"textarea",45),r.qZA(),r.qZA(),r.TgZ(295,"div",36),r.TgZ(296,"mat-label"),r.TgZ(297,"div",23),r._uU(298,"15"),r.qZA(),r._uU(299," Voc\xea participou de algum congressos no pa\xeds? Se sim, indicar local, se houve apresenta\xe7\xe3o de trabalho e se o congresso \xe9 ou n\xe3o internacional. "),r.qZA(),r._UZ(300,"br"),r._UZ(301,"br"),r.TgZ(302,"mat-form-field",44),r.NdJ("ngModelChange",function(t){return e.congressoPais=t}),r.TgZ(303,"mat-label"),r._uU(304,"Digite aqui"),r.qZA(),r._UZ(305,"textarea",45),r.qZA(),r.qZA(),r.TgZ(306,"div",36),r.TgZ(307,"mat-label"),r.TgZ(308,"div",23),r._uU(309,"16"),r.qZA(),r._uU(310," Voc\xea participou de algum congresso no exterior? Se sim, indicar local e se houve apresenta\xe7\xe3o de trabalho. "),r.qZA(),r._UZ(311,"br"),r._UZ(312,"br"),r.TgZ(313,"mat-form-field",44),r.NdJ("ngModelChange",function(t){return e.congressoExterior=t}),r.TgZ(314,"mat-label"),r._uU(315,"Digite aqui"),r.qZA(),r._UZ(316,"textarea",45),r.qZA(),r.qZA(),r.TgZ(317,"div",36),r.TgZ(318,"mat-label"),r.TgZ(319,"div",23),r._uU(320,"17"),r.qZA(),r._uU(321," Voc\xea realizou algum est\xe1gio de pesquisa ou visita de pesquisa no exterior (incluindo sandu\xedche)? Se sim, indique o nome da universidade e o per\xedodo. "),r.qZA(),r._UZ(322,"br"),r._UZ(323,"br"),r.TgZ(324,"mat-form-field",44),r.NdJ("ngModelChange",function(t){return e.visitaPesquisa=t}),r.TgZ(325,"mat-label"),r._uU(326,"Digite aqui"),r.qZA(),r._UZ(327,"textarea",45),r.qZA(),r.qZA(),r.TgZ(328,"div",36),r.TgZ(329,"mat-label"),r.TgZ(330,"div",23),r._uU(331,"18"),r.qZA(),r._uU(332," Voc\xea tem algo a mais a declarar para a CCP - PPgSI? "),r.qZA(),r._UZ(333,"br"),r._UZ(334,"br"),r.TgZ(335,"mat-form-field",44),r.NdJ("ngModelChange",function(t){return e.declaracaoExtra=t}),r.TgZ(336,"mat-label"),r._uU(337,"Digite aqui"),r.qZA(),r._UZ(338,"textarea",45),r.qZA(),r.qZA(),r.TgZ(339,"div",15),r.YNc(340,tD,4,0,"button",46),r.qZA(),r.qZA()),2&t&&(r.xp6(10),r.Oqu(null==e.report?null:e.report.semester),r.xp6(6),r.Oqu((null==e.report?null:e.report.leader.name)||(null==e.report?null:e.report.leader)),r.xp6(2),r.Q6J("ngIf",""==(null==e.report?null:e.report.parecerOrientador)&&!e.parecer&&(null==e.report?null:e.report.leaderCode)==e.userDataService.getUserUID()),r.xp6(1),r.Q6J("ngIf",""==(null==e.report?null:e.report.parecerOrientador)&&e.parecer&&(null==e.report?null:e.report.leaderCode)==e.userDataService.getUserUID()),r.xp6(1),r.Q6J("ngIf",e.isCCP&&""==(null==e.report?null:e.report.parecerCCP)&&!e.parecer),r.xp6(1),r.Q6J("ngIf",e.isCCP&&""==(null==e.report?null:e.report.parecerCCP)&&e.parecer),r.xp6(1),r.Q6J("ngIf",e.report&&""!=(null==e.report?null:e.report.parecerOrientador)),r.xp6(1),r.ekj("open",e.parecer),r.xp6(4),r.Q6J("ngModel",e.parecerText),r.xp6(4),r.Q6J("ngModel",e.parecerAvaliacao),r.xp6(7),r.Q6J("disabled",""==e.parecerAvaliacao||""==e.parecerText),r.xp6(7),r.Q6J("value",(null==e.report?null:e.report.student.name)||"Carregando..."),r.xp6(4),r.Q6J("value",(null==e.report?null:e.report.student.email)||"Carregando..."),r.xp6(5),r.Q6J("value",r.xi3(55,54,null==e.report?null:e.report.updated,"dd/MM/y HH:mm")),r.xp6(5),r.Q6J("value",(null==e.report?null:e.report.student.lastResult)||"Carregando..."),r.xp6(5),r.Q6J("value",(null==e.report?null:e.report.student.uspNumber)||"Carregando..."),r.xp6(4),r.Q6J("value",(null==e.report?null:e.report.student.lattesLink)||"Carregando..."),r.xp6(2),r.Q6J("ngModel",e.curso),r.xp6(9),r.ekj("hide",!e.curso||2==e.curso),r.xp6(3),r.Q6J("ngModel",e.ultimoSemestreMestrado),r.xp6(11),r.ekj("hide",!e.curso||1==e.curso),r.xp6(3),r.Q6J("ngModel",e.ultimoSemestreDoutorado),r.xp6(24),r.Q6J("ngModel",e.disciplinasObrigatoriasAprovadas),r.xp6(3),r.Q6J("value",e.disciplinasObrigatoriasAprovadas),r.xp6(7),r.Q6J("ngModel",e.disciplinasOptativasAprovadas),r.xp6(3),r.Q6J("value",e.disciplinasOptativasAprovadas),r.xp6(9),r.Q6J("ngModel",e.conceitosDivulgadosUltimoSemestre),r.xp6(12),r.Q6J("ngModel",e.reprovacoesTotais),r.xp6(14),r.Q6J("ngModel",e.reprovacoesUltimoSemestre),r.xp6(16),r.Q6J("ngModel",e.exameProficienciaIdiomas),r.xp6(12),r.Q6J("ngModel",e.exameQualificacao),r.xp6(9),r.ekj("disabled",!e.exameQualificacao||"1"==e.exameQualificacao),r.xp6(5),r.Q6J("ngModel",e.limiteQualificacao),r.xp6(9),r.ekj("disabled",!e.exameQualificacao||"1"!=e.exameQualificacao),r.xp6(5),r.Q6J("ngModel",e.limiteDepositoDissertacao),r.xp6(14),r.Q6J("ngModel",e.artigosPublicados),r.xp6(16),r.Q6J("ngModel",e.artigosAguardandoResposta),r.xp6(16),r.Q6J("ngModel",e.artigoPreparacao),r.xp6(21),r.Q6J("ngModel",e.estagioPesquisa),r.xp6(3),r.Q6J("value",e.estagioPesquisa),r.xp6(8),r.Q6J("ngModel",e.congressoPais),r.xp6(3),r.Q6J("value",e.congressoPais),r.xp6(8),r.Q6J("ngModel",e.congressoExterior),r.xp6(3),r.Q6J("value",e.congressoExterior),r.xp6(8),r.Q6J("ngModel",e.visitaPesquisa),r.xp6(3),r.Q6J("value",e.visitaPesquisa),r.xp6(8),r.Q6J("ngModel",e.declaracaoExtra),r.xp6(3),r.Q6J("value",e.declaracaoExtra),r.xp6(2),r.Q6J("ngIf",(null==e.report?null:e.report.leaderCode)==e.userDataService.getUserUID()))},directives:[_E,xO,ut,gk,lk,zA,Ik,Xk,IA,kI,cE,vE,nI,sI,II],pipes:[gt],styles:[".intro[_ngcontent-%COMP%]{padding:16px;position:relative;left:50%;transform:translateX(-50%)}.intro[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-spacing:0;border-collapse:collapse}.intro[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px;margin:0;border:1px solid var(--color-primary);background:var(--color-primary);color:#fff}.intro[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{background:#0000;color:inherit}.form[_ngcontent-%COMP%]{padding:16px;display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{min-width:200px;margin:0 8px}.input-long[_ngcontent-%COMP%]{width:250px}.row[_ngcontent-%COMP%]{display:flex;width:628px;padding:16px 0}.row.row--flexless[_ngcontent-%COMP%]{display:block}mat-radio-group[_ngcontent-%COMP%]{display:flex;margin-right:16px;flex-direction:column;justify-content:flex-start}mat-radio-button[_ngcontent-%COMP%]{margin:6px 16px}mat-divider[_ngcontent-%COMP%]{margin:4px 0 16px}.hide[_ngcontent-%COMP%]{display:none}.question-number[_ngcontent-%COMP%]{display:inline-block;border-radius:50%;text-align:center;line-height:25px;height:25px;width:25px;background:var(--color-primary);color:#fff;font-size:.8em}.question-number.disabled[_ngcontent-%COMP%]{background:#00000061}.back-button[_ngcontent-%COMP%]{margin:10px 10px 0}.input--textarea[_ngcontent-%COMP%]{width:600px;height:100px}.closed[_ngcontent-%COMP%]{width:100%;height:0;overflow:hidden;transition:height .2s ease-in}.open[_ngcontent-%COMP%]{height:230px}.parecerOrientador[_ngcontent-%COMP%]{margin:12px 0;padding:12px;border-radius:6px;border:2px solid var(--color-primary);width:600px}.icon-pos-fix[_ngcontent-%COMP%]{top:6px;margin-right:8px;position:relative}"]}),t})()},{path:"new-report",component:DI}];let nD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[eo.forRoot(eD)],eo]}),t})();function rD(t){return e=>e.lift(new iD(t))}class iD{constructor(t){this.value=t}call(t,e){return e.subscribe(new oD(t,this.value))}}class oD extends le.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const sD=["*"];function aD(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",2),r.NdJ("click",function(){return r.CHM(t),r.oxw()._onBackdropClicked()}),r.qZA()}if(2&t){const t=r.oxw();r.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function lD(t,e){1&t&&(r.TgZ(0,"mat-drawer-content"),r.Hsn(1,2),r.qZA())}const uD=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cD=["mat-drawer","mat-drawer-content","*"],hD={transformDrawer:jC("transform",[HC("open, open-instant",zC({transform:"none",visibility:"visible"})),HC("void",zC({"box-shadow":"none",visibility:"hidden"})),YC("void => open-instant",BC("0ms")),YC("void <=> open, open-instant => void",BC("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},dD=new r.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),pD=new r.OlP("MAT_DRAWER_CONTAINER");let fD=(()=>{class t extends uw{constructor(t,e,n,r,i){super(n,r,i),this._changeDetectorRef=t,this._container=e}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO),r.Y36((0,r.Gpc)(()=>gD)),r.Y36(r.SBq),r.Y36(lw),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,e){2&t&&r.Udp("margin-left",e._container._contentMargins.left,"px")("margin-right",e._container._contentMargins.right,"px")},features:[r.qOj],ngContentSelectors:sD,decls:1,vars:0,template:function(t,e){1&t&&(r.F$t(),r.Hsn(0))},encapsulation:2,changeDetection:0}),t})(),mD=(()=>{class t{constructor(t,e,n,i,o,s,a){this._elementRef=t,this._focusTrapFactory=e,this._focusMonitor=n,this._platform=i,this._ngZone=o,this._doc=s,this._container=a,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new re.xQ,this._animationEnd=new re.xQ,this._animationState="void",this.openedChange=new r.vpe(!0),this._openedStream=this.openedChange.pipe(qe(t=>t),(0,Te.U)(()=>{})),this.openedStart=this._animationStarted.pipe(qe(t=>t.fromState!==t.toState&&0===t.toState.indexOf("open")),rD(void 0)),this._closedStream=this.openedChange.pipe(qe(t=>!t),(0,Te.U)(()=>{})),this.closedStart=this._animationStarted.pipe(qe(t=>t.fromState!==t.toState&&"void"===t.toState),rD(void 0)),this._destroyed=new re.xQ,this.onPositionChanged=new r.vpe,this._modeChanged=new re.xQ,this.openedChange.subscribe(t=>{t?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Ob(this._elementRef.nativeElement,"keydown").pipe(qe(t=>27===t.keyCode&&!this.disableClose&&!Sw(t)),Ub(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()}))}),this._animationEnd.pipe(vo((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{const{fromState:e,toState:n}=t;(0===n.indexOf("open")&&"void"===e||"void"===n&&0===e.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(t){(t="end"===t?"end":"start")!=this._position&&(this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=xb(t)}get autoFocus(){const t=this._autoFocus;return null==t?"side"!==this.mode:t}set autoFocus(t){this._autoFocus=xb(t)}get opened(){return this._opened}set opened(t){this.toggle(xb(t))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(t=>{t||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var t;const e=null===(t=this._doc)||void 0===t?void 0:t.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(t=!this.opened,e){return this._setOpen(t,!t&&this._isFocusWithinDrawer(),e)}_setOpen(t,e,n="program"){return this._opened=t,t?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",e&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(t=>{this.openedChange.pipe(De(1)).subscribe(e=>t(e?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(t){this._animationStarted.next(t)}_animationDoneListener(t){this._animationEnd.next(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(CC),r.Y36(NC),r.Y36(Gb),r.Y36(r.R0b),r.Y36(s,8),r.Y36(pD,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,e){1&t&&r.WFA("@transform.start",function(t){return e._animationStartListener(t)})("@transform.done",function(t){return e._animationDoneListener(t)}),2&t&&(r.uIk("align",null),r.d8E("@transform",e._animationState),r.ekj("mat-drawer-end","end"===e.position)("mat-drawer-over","over"===e.mode)("mat-drawer-push","push"===e.mode)("mat-drawer-side","side"===e.mode)("mat-drawer-opened",e.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:sD,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,e){1&t&&(r.F$t(),r.TgZ(0,"div",0),r.Hsn(1),r.qZA())},directives:[uw],encapsulation:2,data:{animation:[hD.transformDrawer]},changeDetection:0}),t})(),gD=(()=>{class t{constructor(t,e,n,i,o,s=!1,a){this._dir=t,this._element=e,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=a,this._drawers=new r.n_E,this.backdropClick=new r.vpe,this._destroyed=new re.xQ,this._doCheckSubject=new re.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new re.xQ,t&&t.change.pipe(Ub(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ub(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=s}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=xb(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:xb(t)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(Ne(this._allDrawers),Ub(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Ne(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(sC(10),Ub(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,e=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();t+=n,e-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)e+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();e+=n,t-=n}t=t||null,e=e||null,t===this._contentMargins.left&&e===this._contentMargins.right||(this._contentMargins={left:t,right:e},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(qe(t=>t.fromState!==t.toState),Ub(this._drawers.changes)).subscribe(t=>{"open-instant"!==t.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(Ub(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(Ub(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(De(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(Ub((0,Y_.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const e=this._element.nativeElement.classList,n="mat-drawer-container-has-open";t?e.add(n):e.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(iw,8),r.Y36(r.SBq),r.Y36(r.R0b),r.Y36(r.sBO),r.Y36(cw),r.Y36(dD),r.Y36(xT,8))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-drawer-container"]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,fD,5),r.Suo(n,mD,5)),2&t){let t;r.iGM(t=r.CRH())&&(e._content=t.first),r.iGM(t=r.CRH())&&(e._allDrawers=t)}},viewQuery:function(t,e){if(1&t&&r.Gf(fD,5),2&t){let t;r.iGM(t=r.CRH())&&(e._userContent=t.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,e){2&t&&r.ekj("mat-drawer-container-explicit-backdrop",e._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[r._Bn([{provide:pD,useExisting:t}])],ngContentSelectors:cD,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,e){1&t&&(r.F$t(uD),r.YNc(0,aD,1,2,"div",0),r.Hsn(1),r.Hsn(2,1),r.YNc(3,lD,2,0,"mat-drawer-content",1)),2&t&&(r.Q6J("ngIf",e.hasBackdrop),r.xp6(3),r.Q6J("ngIf",!e._content))},directives:[ut,fD],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),t})(),yD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[yt,FT,zb,hw],hw,FT]}),t})();const vD=["*",[["mat-toolbar-row"]]],_D=["*","mat-toolbar-row"],bD=MT(class{constructor(t){this._elementRef=t}});let wD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),CD=(()=>{class t extends bD{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(Gb),r.Y36(s))},t.\u0275cmp=r.Xpm({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Suo(n,wD,5),2&t){let t;r.iGM(t=r.CRH())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.ekj("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.qOj],ngContentSelectors:_D,decls:2,vars:0,template:function(t,e){1&t&&(r.F$t(vD),r.Hsn(0),r.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),SD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[FT],FT]}),t})();const xD=function(){return{exact:!0}};function TD(t,e){if(1&t&&(r.TgZ(0,"mat-list-item",8),r.TgZ(1,"mat-icon",9),r._uU(2),r.qZA(),r._uU(3),r.qZA()),2&t){const t=e.$implicit;r.Q6J("routerLink",t.link)("routerLinkActiveOptions",r.DdM(4,xD)),r.xp6(2),r.Oqu(t.icon),r.xp6(1),r.hij(" ",t.name," ")}}let ED=(()=>{class t{constructor(){this.title="trabalhoES1",this.menu=[{name:"Login",icon:"login",link:"/login"},{name:"Home",icon:"home",link:"/home"},{name:"Relat\xf3rios",icon:"grading",link:"/relatorios/list"},{name:"Sobre",icon:"info",link:"/about"}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:15,vars:1,consts:[["hasBackdrop","true","autosize","",1,"nav-container"],["mode","side",1,"sidenav","noselect"],["drawer",""],["role","list"],["role","listitem","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions",4,"ngFor","ngForOf"],[1,"content"],["color","primary",1,"noselect"],["mat-icon-button","","color","accent","aria-label","Abrir menu",1,"menu-icon",3,"click"],["role","listitem","routerLinkActive","active",3,"routerLink","routerLinkActiveOptions"],["mat-list-icon",""]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"mat-drawer-container",0),r.TgZ(1,"mat-drawer",1,2),r.TgZ(3,"h1"),r._uU(4,"Menu"),r.qZA(),r.TgZ(5,"mat-nav-list",3),r.YNc(6,TD,4,5,"mat-list-item",4),r.qZA(),r.qZA(),r.TgZ(7,"div",5),r.TgZ(8,"mat-toolbar",6),r.TgZ(9,"button",7),r.NdJ("click",function(){return r.CHM(t),r.MAs(2).toggle()}),r.TgZ(10,"mat-icon"),r._uU(11,"menu"),r.qZA(),r.qZA(),r.TgZ(12,"span"),r._uU(13,"Relat\xf3rios"),r.qZA(),r.qZA(),r._UZ(14,"router-outlet"),r.qZA(),r.qZA()}2&t&&(r.xp6(6),r.Q6J("ngForOf",e.menu))},directives:[gD,mD,BI,at,CD,vE,xO,zi,HI,Gi,Vi,zI],styles:[".content[_ngcontent-%COMP%], .nav-container[_ngcontent-%COMP%]{height:100%}h1[_ngcontent-%COMP%]{padding:16px}mat-icon[_ngcontent-%COMP%]{font-family:Material Icons Outlined}.menu-icon[_ngcontent-%COMP%]{border:none;margin-right:16px;background:#0000;color:#fff}.active[_ngcontent-%COMP%]{color:var(--color-accent)}"]}),t})();const kD={apiKey:"AIzaSyDzMDpnTvuXVA2wdGGPelBbxf4kI8sLWoI",authDomain:"teste-d20c6.firebaseapp.com",projectId:"teste-d20c6",storageBucket:"teste-d20c6.appspot.com",messagingSenderId:"259888166366",appId:"1:259888166366:web:b23737508ade62cd30594f",measurementId:"G-L16DK81W9L"};class AD{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new ID(t,this.observables,this.project))}}class ID extends ue{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(pe(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class OD{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new DD(t,this.predicate))}}class DD extends le.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}function RD(t){return null==t}function PD(t){return"function"==typeof t.set}function ND(t,e){return PD(e)?e:t.ref(e)}function FD(t,e){if("string"==typeof t)return e.stringCase();if(PD(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof t)}function LD(t,e,n="on",r=fo.z){return new de.y(i=>{let o=null;return o=t[n](e,(t,e)=>{r.schedule(()=>{i.next({snapshot:t,prevKey:e})}),"once"===n&&r.schedule(()=>i.complete())},t=>{r.schedule(()=>i.error(t))}),"on"===n?{unsubscribe(){null!=o&&t.off(e,o)}}:{unsubscribe(){}}}).pipe((0,Te.U)(t=>{const{snapshot:n,prevKey:r}=t;let i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),(0,WI.B)())}function MD(t,e){const n=t.length;for(let r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function qD(t,e){const{payload:n,prevKey:r,key:i}=e,o=MD(t,i),s=function(t,e){if(RD(e))return 0;{const n=MD(t,e);return-1===n?t.length:n+1}}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let n=null;e.payload.forEach(e=>{const r={payload:e,type:"value",prevKey:n,key:e.key};return n=e.key,t=[...t,r],!1})}return t;case"child_added":if(o>-1){const i=t[o-1];(i&&i.key||null)!==r&&(t=t.filter(t=>t.payload.key!==n.key)).splice(s,0,e)}else{if(null==r)return[e,...t];(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(t=>t.payload.key!==n.key);case"child_changed":return t.map(t=>t.payload.key===i?e:t);case"child_moved":if(o>-1){const e=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,e),t}return t;default:return t}}function UD(t){return(RD(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ZD(t,e,n){return function(t,e,n){return LD(t,"value","once",n).pipe(ke(r=>{const i=[(0,ne.of)(r)];return e.forEach(e=>i.push(LD(t,e,"on",n))),(0,Y_.T)(...i).pipe(Fe(qD,[]))}),vo())}(t,e=UD(e),n)}function VD(t,e,n){const r=(e=UD(e)).map(e=>LD(t,e,"on",n));return(0,Y_.T)(...r)}function jD(t,e){return function(n,r){return FD(n,{stringCase:()=>t.child(n)[e](r),firebaseCase:()=>n[e](r),snapshotCase:()=>n.ref[e](r)})}}function BD(t,e){return function(){return LD(t,"value","on",e)}}n(9192);const GD=new r.OlP("angularfire2.realtimeDatabaseURL"),zD=new r.OlP("angularfire2.database.use-emulator");let HD=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Co.HU(i),this.keepUnstableUntilFirst=(0,Co.ss)(this.schedulers);const a=o,l=(0,Co.on)(t,i,e);!So.Z.auth&&s&&(0,Co.yq)(),this.database=(0,Co.sI)(`${l.name}.database.${n}`,"AngularFireDatabase",l,()=>{const t=i.runOutsideAngular(()=>l.database(n||void 0));return a&&t.useEmulator(...a),t},[a])}list(t,e){const n=this.schedulers.ngZone.runOutsideAngular(()=>ND(this.database,t));let r=n;return e&&(r=e(n)),function(t,e){const n=e.schedulers.outsideAngular,r=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:jD(r,"update"),set:jD(r,"set"),push:t=>r.push(t),remove:(i=r,function(t){return t?FD(t,{stringCase:()=>i.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):i.remove()}),snapshotChanges:r=>ZD(t,r,n).pipe(e.keepUnstableUntilFirst),stateChanges:r=>VD(t,r,n).pipe(e.keepUnstableUntilFirst),auditTrail:r=>function(t,e,n){return function(t,e,n){return function(t,e){return LD(t,"value","on",e).pipe((0,Te.U)(t=>{let e;return t.payload.forEach(t=>(e=t.key,!1)),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new AD(t,n))}}(e),(0,Te.U)(([t,e])=>{const n=t.lastKeyToLoad,r=e.map(t=>t.key);return{actions:e,lastKeyToLoad:n,loadedKeys:r}}),(r=t=>-1===t.loadedKeys.indexOf(t.lastKeyToLoad),t=>t.lift(new OD(r))),(0,Te.U)(t=>t.actions));var r}(t,VD(t,e).pipe(Fe((t,e)=>[...t,e],[])),n)}(t,r,n).pipe(e.keepUnstableUntilFirst),valueChanges:(r,i)=>ZD(t,r,n).pipe((0,Te.U)(t=>t.map(t=>i&&i.idField?Object.assign(Object.assign({},t.payload.val()),{[i.idField]:t.key}):t.payload.val())),e.keepUnstableUntilFirst)};var i}(r,this)}object(t){return function(t,e){return{query:t,snapshotChanges:()=>BD(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>BD(t,e.schedulers.outsideAngular)().pipe(e.keepUnstableUntilFirst,(0,Te.U)(t=>t.payload.exists()?t.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>ND(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(GD,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(zD,8),r.LFG(eb,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Co.Dh),r.LFG(Co.xv,8),r.LFG(GD,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(zD,8),r.LFG(eb,8))},token:t,providedIn:"any"}),t})(),YD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[HD]}),t})();n(3098);const QD={provide:new r.OlP("mat-menu-scroll-strategy"),deps:[Xw],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let WD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[QD],imports:[FT]}),t})(),$D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[QD],imports:[[yt,FT,XT,oC,WD],hw,FT,WD]}),t})(),KD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[ED]}),t.\u0275inj=r.cJS({providers:[],imports:[[te,nD,Co.hO.initializeApp(kD),YD,AT,yD,TO,SD,HA,bE,$D,YI,aI,AI,OI,LE,QO,yk,ZA,UA]]}),t})();(0,r.G48)(),Jt().bootstrapModule(KD).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>l,CR:()=>u,ev:()=>c});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}l((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function c(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}}},t=>{"use strict";t(t.s=8404)}]);